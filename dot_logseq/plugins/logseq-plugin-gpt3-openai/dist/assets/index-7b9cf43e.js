var Hw=Object.defineProperty;var Ww=(e,t,n)=>t in e?Hw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var he=(e,t,n)=>(Ww(e,typeof t!="symbol"?t+"":t,n),n);function qw(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var Rt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zg={exports:{}},sc={},Bg={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kl=Symbol.for("react.element"),Vw=Symbol.for("react.portal"),Kw=Symbol.for("react.fragment"),Qw=Symbol.for("react.strict_mode"),Gw=Symbol.for("react.profiler"),Jw=Symbol.for("react.provider"),Xw=Symbol.for("react.context"),Yw=Symbol.for("react.forward_ref"),Zw=Symbol.for("react.suspense"),e1=Symbol.for("react.memo"),t1=Symbol.for("react.lazy"),jp=Symbol.iterator;function n1(e){return e===null||typeof e!="object"?null:(e=jp&&e[jp]||e["@@iterator"],typeof e=="function"?e:null)}var Ug={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hg=Object.assign,Wg={};function Ps(e,t,n){this.props=e,this.context=t,this.refs=Wg,this.updater=n||Ug}Ps.prototype.isReactComponent={};Ps.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ps.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qg(){}qg.prototype=Ps.prototype;function eh(e,t,n){this.props=e,this.context=t,this.refs=Wg,this.updater=n||Ug}var th=eh.prototype=new qg;th.constructor=eh;Hg(th,Ps.prototype);th.isPureReactComponent=!0;var Dp=Array.isArray,Vg=Object.prototype.hasOwnProperty,nh={current:null},Kg={key:!0,ref:!0,__self:!0,__source:!0};function Qg(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Vg.call(t,r)&&!Kg.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var c=Array(l),a=0;a<l;a++)c[a]=arguments[a+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:Kl,type:e,key:i,ref:s,props:o,_owner:nh.current}}function r1(e,t){return{$$typeof:Kl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function rh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Kl}function i1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var zp=/\/+/g;function Rc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?i1(""+e.key):t.toString(36)}function Aa(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Kl:case Vw:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+Rc(s,0):r,Dp(o)?(n="",e!=null&&(n=e.replace(zp,"$&/")+"/"),Aa(o,t,n,"",function(a){return a})):o!=null&&(rh(o)&&(o=r1(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(zp,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",Dp(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+Rc(i,l);s+=Aa(i,t,n,c,o)}else if(c=n1(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+Rc(i,l++),s+=Aa(i,t,n,c,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function ra(e,t,n){if(e==null)return e;var r=[],o=0;return Aa(e,r,"","",function(i){return t.call(n,i,o++)}),r}function o1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var en={current:null},Oa={transition:null},s1={ReactCurrentDispatcher:en,ReactCurrentBatchConfig:Oa,ReactCurrentOwner:nh};function Gg(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:ra,forEach:function(e,t,n){ra(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ra(e,function(){t++}),t},toArray:function(e){return ra(e,function(t){return t})||[]},only:function(e){if(!rh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Fe.Component=Ps;Fe.Fragment=Kw;Fe.Profiler=Gw;Fe.PureComponent=eh;Fe.StrictMode=Qw;Fe.Suspense=Zw;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s1;Fe.act=Gg;Fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Hg({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=nh.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Vg.call(t,c)&&!Kg.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var a=0;a<c;a++)l[a]=arguments[a+2];r.children=l}return{$$typeof:Kl,type:e.type,key:o,ref:i,props:r,_owner:s}};Fe.createContext=function(e){return e={$$typeof:Xw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Jw,_context:e},e.Consumer=e};Fe.createElement=Qg;Fe.createFactory=function(e){var t=Qg.bind(null,e);return t.type=e,t};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(e){return{$$typeof:Yw,render:e}};Fe.isValidElement=rh;Fe.lazy=function(e){return{$$typeof:t1,_payload:{_status:-1,_result:e},_init:o1}};Fe.memo=function(e,t){return{$$typeof:e1,type:e,compare:t===void 0?null:t}};Fe.startTransition=function(e){var t=Oa.transition;Oa.transition={};try{e()}finally{Oa.transition=t}};Fe.unstable_act=Gg;Fe.useCallback=function(e,t){return en.current.useCallback(e,t)};Fe.useContext=function(e){return en.current.useContext(e)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(e){return en.current.useDeferredValue(e)};Fe.useEffect=function(e,t){return en.current.useEffect(e,t)};Fe.useId=function(){return en.current.useId()};Fe.useImperativeHandle=function(e,t,n){return en.current.useImperativeHandle(e,t,n)};Fe.useInsertionEffect=function(e,t){return en.current.useInsertionEffect(e,t)};Fe.useLayoutEffect=function(e,t){return en.current.useLayoutEffect(e,t)};Fe.useMemo=function(e,t){return en.current.useMemo(e,t)};Fe.useReducer=function(e,t,n){return en.current.useReducer(e,t,n)};Fe.useRef=function(e){return en.current.useRef(e)};Fe.useState=function(e){return en.current.useState(e)};Fe.useSyncExternalStore=function(e,t,n){return en.current.useSyncExternalStore(e,t,n)};Fe.useTransition=function(){return en.current.useTransition()};Fe.version="18.3.1";Bg.exports=Fe;var U=Bg.exports;const Ie=Dg(U),xl=qw({__proto__:null,default:Ie},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l1=U,a1=Symbol.for("react.element"),u1=Symbol.for("react.fragment"),c1=Object.prototype.hasOwnProperty,f1=l1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d1={key:!0,ref:!0,__self:!0,__source:!0};function Jg(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)c1.call(t,r)&&!d1.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:a1,type:e,key:i,ref:s,props:o,_owner:f1.current}}sc.Fragment=u1;sc.jsx=Jg;sc.jsxs=Jg;zg.exports=sc;var ih=zg.exports;const oh=ih.Fragment,Me=ih.jsx,$i=ih.jsxs;var Qa={exports:{}};/*! For license information please see lsplugin.user.js.LICENSE.txt */Qa.exports;(function(e,t){(function(n,r){e.exports=r()})(self,()=>(()=>{var n={227:(s,l,c)=>{var a=c(155);l.formatArgs=function(m){if(m[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+m[0]+(this.useColors?"%c ":" ")+"+"+s.exports.humanize(this.diff),!this.useColors)return;const _="color: "+this.color;m.splice(1,0,_,"color: inherit");let p=0,x=0;m[0].replace(/%[a-zA-Z%]/g,E=>{E!=="%%"&&(p++,E==="%c"&&(x=p))}),m.splice(x,0,_)},l.save=function(m){try{m?l.storage.setItem("debug",m):l.storage.removeItem("debug")}catch{}},l.load=function(){let m;try{m=l.storage.getItem("debug")}catch{}return!m&&a!==void 0&&"env"in a&&(m=a.env.DEBUG),m},l.useColors=function(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer"&&!window.process.__nwjs)||(typeof navigator>"u"||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},l.storage=function(){try{return localStorage}catch{}}(),l.destroy=(()=>{let m=!1;return()=>{m||(m=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),l.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],l.log=console.debug||console.log||(()=>{}),s.exports=c(447)(l);const{formatters:h}=s.exports;h.j=function(m){try{return JSON.stringify(m)}catch(_){return"[UnexpectedJSONParseError]: "+_.message}}},447:(s,l,c)=>{s.exports=function(a){function h(p){let x,E,A,w=null;function g(...S){if(!g.enabled)return;const O=g,M=Number(new Date),F=M-(x||M);O.diff=F,O.prev=x,O.curr=M,x=M,S[0]=h.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let b=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(T,L)=>{if(T==="%%")return"%";b++;const j=h.formatters[L];if(typeof j=="function"){const W=S[b];T=j.call(O,W),S.splice(b,1),b--}return T}),h.formatArgs.call(O,S),(O.log||h.log).apply(O,S)}return g.namespace=p,g.useColors=h.useColors(),g.color=h.selectColor(p),g.extend=m,g.destroy=h.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>w!==null?w:(E!==h.namespaces&&(E=h.namespaces,A=h.enabled(p)),A),set:S=>{w=S}}),typeof h.init=="function"&&h.init(g),g}function m(p,x){const E=h(this.namespace+(x===void 0?":":x)+p);return E.log=this.log,E}function _(p){return p.toString().substring(2,p.toString().length-2).replace(/\.\*\?$/,"*")}return h.debug=h,h.default=h,h.coerce=function(p){return p instanceof Error?p.stack||p.message:p},h.disable=function(){const p=[...h.names.map(_),...h.skips.map(_).map(x=>"-"+x)].join(",");return h.enable(""),p},h.enable=function(p){let x;h.save(p),h.namespaces=p,h.names=[],h.skips=[];const E=(typeof p=="string"?p:"").split(/[\s,]+/),A=E.length;for(x=0;x<A;x++)E[x]&&((p=E[x].replace(/\*/g,".*?"))[0]==="-"?h.skips.push(new RegExp("^"+p.slice(1)+"$")):h.names.push(new RegExp("^"+p+"$")))},h.enabled=function(p){if(p[p.length-1]==="*")return!0;let x,E;for(x=0,E=h.skips.length;x<E;x++)if(h.skips[x].test(p))return!1;for(x=0,E=h.names.length;x<E;x++)if(h.names[x].test(p))return!0;return!1},h.humanize=c(824),h.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(a).forEach(p=>{h[p]=a[p]}),h.names=[],h.skips=[],h.formatters={},h.selectColor=function(p){let x=0;for(let E=0;E<p.length;E++)x=(x<<5)-x+p.charCodeAt(E),x|=0;return h.colors[Math.abs(x)%h.colors.length]},h.enable(h.load()),h}},856:function(s){s.exports=function(){function l(_e){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},l(_e)}function c(_e,ne){return c=Object.setPrototypeOf||function(ae,De){return ae.__proto__=De,ae},c(_e,ne)}function a(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function h(_e,ne,ae){return h=a()?Reflect.construct:function(De,Ye,Ht){var hr=[null];hr.push.apply(hr,Ye);var Qn=new(Function.bind.apply(De,hr));return Ht&&c(Qn,Ht.prototype),Qn},h.apply(null,arguments)}function m(_e){return function(ne){if(Array.isArray(ne))return _(ne)}(_e)||function(ne){if(typeof Symbol<"u"&&ne[Symbol.iterator]!=null||ne["@@iterator"]!=null)return Array.from(ne)}(_e)||function(ne,ae){if(ne){if(typeof ne=="string")return _(ne,ae);var De=Object.prototype.toString.call(ne).slice(8,-1);return De==="Object"&&ne.constructor&&(De=ne.constructor.name),De==="Map"||De==="Set"?Array.from(ne):De==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(De)?_(ne,ae):void 0}}(_e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _(_e,ne){(ne==null||ne>_e.length)&&(ne=_e.length);for(var ae=0,De=new Array(ne);ae<ne;ae++)De[ae]=_e[ae];return De}var p=Object.hasOwnProperty,x=Object.setPrototypeOf,E=Object.isFrozen,A=Object.getPrototypeOf,w=Object.getOwnPropertyDescriptor,g=Object.freeze,S=Object.seal,O=Object.create,M=typeof Reflect<"u"&&Reflect,F=M.apply,b=M.construct;F||(F=function(_e,ne,ae){return _e.apply(ne,ae)}),g||(g=function(_e){return _e}),S||(S=function(_e){return _e}),b||(b=function(_e,ne){return h(_e,m(ne))});var T,L=N(Array.prototype.forEach),j=N(Array.prototype.pop),W=N(Array.prototype.push),le=N(String.prototype.toLowerCase),be=N(String.prototype.match),ge=N(String.prototype.replace),G=N(String.prototype.indexOf),xe=N(String.prototype.trim),ve=N(RegExp.prototype.test),Z=(T=TypeError,function(){for(var _e=arguments.length,ne=new Array(_e),ae=0;ae<_e;ae++)ne[ae]=arguments[ae];return b(T,ne)});function N(_e){return function(ne){for(var ae=arguments.length,De=new Array(ae>1?ae-1:0),Ye=1;Ye<ae;Ye++)De[Ye-1]=arguments[Ye];return F(_e,ne,De)}}function D(_e,ne){x&&x(_e,null);for(var ae=ne.length;ae--;){var De=ne[ae];if(typeof De=="string"){var Ye=le(De);Ye!==De&&(E(ne)||(ne[ae]=Ye),De=Ye)}_e[De]=!0}return _e}function J(_e){var ne,ae=O(null);for(ne in _e)F(p,_e,[ne])&&(ae[ne]=_e[ne]);return ae}function ye(_e,ne){for(;_e!==null;){var ae=w(_e,ne);if(ae){if(ae.get)return N(ae.get);if(typeof ae.value=="function")return N(ae.value)}_e=A(_e)}return function(De){return console.warn("fallback value for",De),null}}var We=g(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ne=g(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ce=g(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Le=g(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Be=g(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),nt=g(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),we=g(["#text"]),Ae=g(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),de=g(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ke=g(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Re=g(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Tt=S(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Rn=S(/<%[\w\W]*|[\w\W]*%>/gm),pn=S(/^data-[\-\w.\u00B7-\uFFFF]/),Mn=S(/^aria-[\-\w]+$/),Nn=S(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),mn=S(/^(?:\w+script|data):/i),Di=S(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ms=S(/^html$/i),zi=function(){return typeof window>"u"?null:window},Ns=function(_e,ne){if(l(_e)!=="object"||typeof _e.createPolicy!="function")return null;var ae=null,De="data-tt-policy-suffix";ne.currentScript&&ne.currentScript.hasAttribute(De)&&(ae=ne.currentScript.getAttribute(De));var Ye="dompurify"+(ae?"#"+ae:"");try{return _e.createPolicy(Ye,{createHTML:function(Ht){return Ht}})}catch{return console.warn("TrustedTypes policy "+Ye+" could not be created."),null}};return function _e(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zi(),ae=function(R){return _e(R)};if(ae.version="2.3.8",ae.removed=[],!ne||!ne.document||ne.document.nodeType!==9)return ae.isSupported=!1,ae;var De=ne.document,Ye=ne.document,Ht=ne.DocumentFragment,hr=ne.HTMLTemplateElement,Qn=ne.Node,Bi=ne.Element,si=ne.NodeFilter,Dr=ne.NamedNodeMap,Ui=Dr===void 0?ne.NamedNodeMap||ne.MozNamedAttrMap:Dr,Io=ne.HTMLFormElement,Hi=ne.DOMParser,$o=ne.trustedTypes,zr=Bi.prototype,Wi=ye(zr,"cloneNode"),Ro=ye(zr,"nextSibling"),Fs=ye(zr,"childNodes"),Gn=ye(zr,"parentNode");if(typeof hr=="function"){var Fn=Ye.createElement("template");Fn.content&&Fn.content.ownerDocument&&(Ye=Fn.content.ownerDocument)}var gn=Ns($o,De),qi=gn?gn.createHTML(""):"",Ue=Ye,li=Ue.implementation,Br=Ue.createNodeIterator,Vi=Ue.createDocumentFragment,Mo=Ue.getElementsByTagName,No=De.importNode,Ki={};try{Ki=J(Ye).documentMode?Ye.documentMode:{}}catch{}var Nt={};ae.isSupported=typeof Gn=="function"&&li&&li.createHTMLDocument!==void 0&&Ki!==9;var pr,Jn,Qi=Tt,ai=Rn,Ls=pn,js=Mn,Ds=mn,Fo=Di,ui=Nn,pt=null,Lo=D({},[].concat(m(We),m(Ne),m(Ce),m(Be),m(we))),wt=null,Gi=D({},[].concat(m(Ae),m(de),m(ke),m(Re))),rt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),mr=null,Ji=null,Xi=!0,Yi=!0,jo=!1,Xn=!1,yn=!1,gr=!1,ci=!1,yr=!1,fi=!1,vr=!1,Zi=!0,wr=!0,_r=!1,Ln={},xr=null,eo=D({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),to=null,jn=D({},["audio","video","img","source","image","track"]),di=null,Do=D({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Sr="http://www.w3.org/1998/Math/MathML",hi="http://www.w3.org/2000/svg",Dn="http://www.w3.org/1999/xhtml",f=Dn,ce=!1,br=["application/xhtml+xml","text/html"],Ur="text/html",vn=null,no=Ye.createElement("form"),V=function(R){return R instanceof RegExp||R instanceof Function},Q=function(R){vn&&vn===R||(R&&l(R)==="object"||(R={}),R=J(R),pt="ALLOWED_TAGS"in R?D({},R.ALLOWED_TAGS):Lo,wt="ALLOWED_ATTR"in R?D({},R.ALLOWED_ATTR):Gi,di="ADD_URI_SAFE_ATTR"in R?D(J(Do),R.ADD_URI_SAFE_ATTR):Do,to="ADD_DATA_URI_TAGS"in R?D(J(jn),R.ADD_DATA_URI_TAGS):jn,xr="FORBID_CONTENTS"in R?D({},R.FORBID_CONTENTS):eo,mr="FORBID_TAGS"in R?D({},R.FORBID_TAGS):{},Ji="FORBID_ATTR"in R?D({},R.FORBID_ATTR):{},Ln="USE_PROFILES"in R&&R.USE_PROFILES,Xi=R.ALLOW_ARIA_ATTR!==!1,Yi=R.ALLOW_DATA_ATTR!==!1,jo=R.ALLOW_UNKNOWN_PROTOCOLS||!1,Xn=R.SAFE_FOR_TEMPLATES||!1,yn=R.WHOLE_DOCUMENT||!1,yr=R.RETURN_DOM||!1,fi=R.RETURN_DOM_FRAGMENT||!1,vr=R.RETURN_TRUSTED_TYPE||!1,ci=R.FORCE_BODY||!1,Zi=R.SANITIZE_DOM!==!1,wr=R.KEEP_CONTENT!==!1,_r=R.IN_PLACE||!1,ui=R.ALLOWED_URI_REGEXP||ui,f=R.NAMESPACE||Dn,R.CUSTOM_ELEMENT_HANDLING&&V(R.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(rt.tagNameCheck=R.CUSTOM_ELEMENT_HANDLING.tagNameCheck),R.CUSTOM_ELEMENT_HANDLING&&V(R.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(rt.attributeNameCheck=R.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),R.CUSTOM_ELEMENT_HANDLING&&typeof R.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(rt.allowCustomizedBuiltInElements=R.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),pr=pr=br.indexOf(R.PARSER_MEDIA_TYPE)===-1?Ur:R.PARSER_MEDIA_TYPE,Jn=pr==="application/xhtml+xml"?function(oe){return oe}:le,Xn&&(Yi=!1),fi&&(yr=!0),Ln&&(pt=D({},m(we)),wt=[],Ln.html===!0&&(D(pt,We),D(wt,Ae)),Ln.svg===!0&&(D(pt,Ne),D(wt,de),D(wt,Re)),Ln.svgFilters===!0&&(D(pt,Ce),D(wt,de),D(wt,Re)),Ln.mathMl===!0&&(D(pt,Be),D(wt,ke),D(wt,Re))),R.ADD_TAGS&&(pt===Lo&&(pt=J(pt)),D(pt,R.ADD_TAGS)),R.ADD_ATTR&&(wt===Gi&&(wt=J(wt)),D(wt,R.ADD_ATTR)),R.ADD_URI_SAFE_ATTR&&D(di,R.ADD_URI_SAFE_ATTR),R.FORBID_CONTENTS&&(xr===eo&&(xr=J(xr)),D(xr,R.FORBID_CONTENTS)),wr&&(pt["#text"]=!0),yn&&D(pt,["html","head","body"]),pt.table&&(D(pt,["tbody"]),delete mr.tbody),g&&g(R),vn=R)},Wt=D({},["mi","mo","mn","ms","mtext"]),it=D({},["foreignobject","desc","title","annotation-xml"]),mt=D({},["title","style","font","a","script"]),wn=D({},Ne);D(wn,Ce),D(wn,Le);var X=D({},Be);D(X,nt);var zo=function(R){var oe=Gn(R);oe&&oe.tagName||(oe={namespaceURI:Dn,tagName:"template"});var te=le(R.tagName),ze=le(oe.tagName);return R.namespaceURI===hi?oe.namespaceURI===Dn?te==="svg":oe.namespaceURI===Sr?te==="svg"&&(ze==="annotation-xml"||Wt[ze]):!!wn[te]:R.namespaceURI===Sr?oe.namespaceURI===Dn?te==="math":oe.namespaceURI===hi?te==="math"&&it[ze]:!!X[te]:R.namespaceURI===Dn&&!(oe.namespaceURI===hi&&!it[ze])&&!(oe.namespaceURI===Sr&&!Wt[ze])&&!X[te]&&(mt[te]||!wn[te])},nn=function(R){W(ae.removed,{element:R});try{R.parentNode.removeChild(R)}catch{try{R.outerHTML=qi}catch{R.remove()}}},pi=function(R,oe){try{W(ae.removed,{attribute:oe.getAttributeNode(R),from:oe})}catch{W(ae.removed,{attribute:null,from:oe})}if(oe.removeAttribute(R),R==="is"&&!wt[R])if(yr||fi)try{nn(oe)}catch{}else try{oe.setAttribute(R,"")}catch{}},Bo=function(R){var oe,te;if(ci)R="<remove></remove>"+R;else{var ze=be(R,/^[\r\n\t ]+/);te=ze&&ze[0]}pr==="application/xhtml+xml"&&(R='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+R+"</body></html>");var et=gn?gn.createHTML(R):R;if(f===Dn)try{oe=new Hi().parseFromString(et,pr)}catch{}if(!oe||!oe.documentElement){oe=li.createDocument(f,"template",null);try{oe.documentElement.innerHTML=ce?"":et}catch{}}var C=oe.body||oe.documentElement;return R&&te&&C.insertBefore(Ye.createTextNode(te),C.childNodes[0]||null),f===Dn?Mo.call(oe,yn?"html":"body")[0]:yn?oe.documentElement:C},Yn=function(R){return Br.call(R.ownerDocument||R,R,si.SHOW_ELEMENT|si.SHOW_COMMENT|si.SHOW_TEXT,null,!1)},zs=function(R){return R instanceof Io&&(typeof R.nodeName!="string"||typeof R.textContent!="string"||typeof R.removeChild!="function"||!(R.attributes instanceof Ui)||typeof R.removeAttribute!="function"||typeof R.setAttribute!="function"||typeof R.namespaceURI!="string"||typeof R.insertBefore!="function")},Hr=function(R){return l(Qn)==="object"?R instanceof Qn:R&&l(R)==="object"&&typeof R.nodeType=="number"&&typeof R.nodeName=="string"},Et=function(R,oe,te){Nt[R]&&L(Nt[R],function(ze){ze.call(ae,oe,te,vn)})},Er=function(R){var oe;if(Et("beforeSanitizeElements",R,null),zs(R)||ve(/[\u0080-\uFFFF]/,R.nodeName))return nn(R),!0;var te=Jn(R.nodeName);if(Et("uponSanitizeElement",R,{tagName:te,allowedTags:pt}),R.hasChildNodes()&&!Hr(R.firstElementChild)&&(!Hr(R.content)||!Hr(R.content.firstElementChild))&&ve(/<[/\w]/g,R.innerHTML)&&ve(/<[/\w]/g,R.textContent)||te==="select"&&ve(/<template/i,R.innerHTML))return nn(R),!0;if(!pt[te]||mr[te]){if(!mr[te]&&io(te)&&(rt.tagNameCheck instanceof RegExp&&ve(rt.tagNameCheck,te)||rt.tagNameCheck instanceof Function&&rt.tagNameCheck(te)))return!1;if(wr&&!xr[te]){var ze=Gn(R)||R.parentNode,et=Fs(R)||R.childNodes;if(et&&ze)for(var C=et.length-1;C>=0;--C)ze.insertBefore(Wi(et[C],!0),Ro(R))}return nn(R),!0}return R instanceof Bi&&!zo(R)?(nn(R),!0):te!=="noscript"&&te!=="noembed"||!ve(/<\/no(script|embed)/i,R.innerHTML)?(Xn&&R.nodeType===3&&(oe=R.textContent,oe=ge(oe,Qi," "),oe=ge(oe,ai," "),R.textContent!==oe&&(W(ae.removed,{element:R.cloneNode()}),R.textContent=oe)),Et("afterSanitizeElements",R,null),!1):(nn(R),!0)},ro=function(R,oe,te){if(Zi&&(oe==="id"||oe==="name")&&(te in Ye||te in no))return!1;if(!(Yi&&!Ji[oe]&&ve(Ls,oe))){if(!(Xi&&ve(js,oe))){if(!wt[oe]||Ji[oe]){if(!(io(R)&&(rt.tagNameCheck instanceof RegExp&&ve(rt.tagNameCheck,R)||rt.tagNameCheck instanceof Function&&rt.tagNameCheck(R))&&(rt.attributeNameCheck instanceof RegExp&&ve(rt.attributeNameCheck,oe)||rt.attributeNameCheck instanceof Function&&rt.attributeNameCheck(oe))||oe==="is"&&rt.allowCustomizedBuiltInElements&&(rt.tagNameCheck instanceof RegExp&&ve(rt.tagNameCheck,te)||rt.tagNameCheck instanceof Function&&rt.tagNameCheck(te))))return!1}else if(!di[oe]){if(!ve(ui,ge(te,Fo,""))){if((oe!=="src"&&oe!=="xlink:href"&&oe!=="href"||R==="script"||G(te,"data:")!==0||!to[R])&&!(jo&&!ve(Ds,ge(te,Fo,"")))){if(te)return!1}}}}}return!0},io=function(R){return R.indexOf("-")>0},Cr=function(R){var oe,te,ze,et;Et("beforeSanitizeAttributes",R,null);var C=R.attributes;if(C){var k={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:wt};for(et=C.length;et--;){var v=oe=C[et],I=v.name,z=v.namespaceURI;if(te=I==="value"?oe.value:xe(oe.value),ze=Jn(I),k.attrName=ze,k.attrValue=te,k.keepAttr=!0,k.forceKeepAttr=void 0,Et("uponSanitizeAttribute",R,k),te=k.attrValue,!k.forceKeepAttr&&(pi(I,R),k.keepAttr))if(ve(/\/>/i,te))pi(I,R);else{Xn&&(te=ge(te,Qi," "),te=ge(te,ai," "));var q=Jn(R.nodeName);if(ro(q,ze,te))try{z?R.setAttributeNS(z,I,te):R.setAttribute(I,te),j(ae.removed)}catch{}}}Et("afterSanitizeAttributes",R,null)}},oo=function R(oe){var te,ze=Yn(oe);for(Et("beforeSanitizeShadowDOM",oe,null);te=ze.nextNode();)Et("uponSanitizeShadowNode",te,null),Er(te)||(te.content instanceof Ht&&R(te.content),Cr(te));Et("afterSanitizeShadowDOM",oe,null)};return ae.sanitize=function(R,oe){var te,ze,et,C,k;if((ce=!R)&&(R="<!-->"),typeof R!="string"&&!Hr(R)){if(typeof R.toString!="function")throw Z("toString is not a function");if(typeof(R=R.toString())!="string")throw Z("dirty is not a string, aborting")}if(!ae.isSupported){if(l(ne.toStaticHTML)==="object"||typeof ne.toStaticHTML=="function"){if(typeof R=="string")return ne.toStaticHTML(R);if(Hr(R))return ne.toStaticHTML(R.outerHTML)}return R}if(gr||Q(oe),ae.removed=[],typeof R=="string"&&(_r=!1),_r){if(R.nodeName){var v=Jn(R.nodeName);if(!pt[v]||mr[v])throw Z("root node is forbidden and cannot be sanitized in-place")}}else if(R instanceof Qn)(ze=(te=Bo("<!---->")).ownerDocument.importNode(R,!0)).nodeType===1&&ze.nodeName==="BODY"||ze.nodeName==="HTML"?te=ze:te.appendChild(ze);else{if(!yr&&!Xn&&!yn&&R.indexOf("<")===-1)return gn&&vr?gn.createHTML(R):R;if(!(te=Bo(R)))return yr?null:vr?qi:""}te&&ci&&nn(te.firstChild);for(var I=Yn(_r?R:te);et=I.nextNode();)et.nodeType===3&&et===C||Er(et)||(et.content instanceof Ht&&oo(et.content),Cr(et),C=et);if(C=null,_r)return R;if(yr){if(fi)for(k=Vi.call(te.ownerDocument);te.firstChild;)k.appendChild(te.firstChild);else k=te;return wt.shadowroot&&(k=No.call(De,k,!0)),k}var z=yn?te.outerHTML:te.innerHTML;return yn&&pt["!doctype"]&&te.ownerDocument&&te.ownerDocument.doctype&&te.ownerDocument.doctype.name&&ve(Ms,te.ownerDocument.doctype.name)&&(z="<!DOCTYPE "+te.ownerDocument.doctype.name+`>
`+z),Xn&&(z=ge(z,Qi," "),z=ge(z,ai," ")),gn&&vr?gn.createHTML(z):z},ae.setConfig=function(R){Q(R),gr=!0},ae.clearConfig=function(){vn=null,gr=!1},ae.isValidAttribute=function(R,oe,te){vn||Q({});var ze=Jn(R),et=Jn(oe);return ro(ze,et,te)},ae.addHook=function(R,oe){typeof oe=="function"&&(Nt[R]=Nt[R]||[],W(Nt[R],oe))},ae.removeHook=function(R){if(Nt[R])return j(Nt[R])},ae.removeHooks=function(R){Nt[R]&&(Nt[R]=[])},ae.removeAllHooks=function(){Nt={}},ae}()}()},729:s=>{var l=Object.prototype.hasOwnProperty,c="~";function a(){}function h(x,E,A){this.fn=x,this.context=E,this.once=A||!1}function m(x,E,A,w,g){if(typeof A!="function")throw new TypeError("The listener must be a function");var S=new h(A,w||x,g),O=c?c+E:E;return x._events[O]?x._events[O].fn?x._events[O]=[x._events[O],S]:x._events[O].push(S):(x._events[O]=S,x._eventsCount++),x}function _(x,E){--x._eventsCount==0?x._events=new a:delete x._events[E]}function p(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(c=!1)),p.prototype.eventNames=function(){var x,E,A=[];if(this._eventsCount===0)return A;for(E in x=this._events)l.call(x,E)&&A.push(c?E.slice(1):E);return Object.getOwnPropertySymbols?A.concat(Object.getOwnPropertySymbols(x)):A},p.prototype.listeners=function(x){var E=c?c+x:x,A=this._events[E];if(!A)return[];if(A.fn)return[A.fn];for(var w=0,g=A.length,S=new Array(g);w<g;w++)S[w]=A[w].fn;return S},p.prototype.listenerCount=function(x){var E=c?c+x:x,A=this._events[E];return A?A.fn?1:A.length:0},p.prototype.emit=function(x,E,A,w,g,S){var O=c?c+x:x;if(!this._events[O])return!1;var M,F,b=this._events[O],T=arguments.length;if(b.fn){switch(b.once&&this.removeListener(x,b.fn,void 0,!0),T){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,E),!0;case 3:return b.fn.call(b.context,E,A),!0;case 4:return b.fn.call(b.context,E,A,w),!0;case 5:return b.fn.call(b.context,E,A,w,g),!0;case 6:return b.fn.call(b.context,E,A,w,g,S),!0}for(F=1,M=new Array(T-1);F<T;F++)M[F-1]=arguments[F];b.fn.apply(b.context,M)}else{var L,j=b.length;for(F=0;F<j;F++)switch(b[F].once&&this.removeListener(x,b[F].fn,void 0,!0),T){case 1:b[F].fn.call(b[F].context);break;case 2:b[F].fn.call(b[F].context,E);break;case 3:b[F].fn.call(b[F].context,E,A);break;case 4:b[F].fn.call(b[F].context,E,A,w);break;default:if(!M)for(L=1,M=new Array(T-1);L<T;L++)M[L-1]=arguments[L];b[F].fn.apply(b[F].context,M)}}return!0},p.prototype.on=function(x,E,A){return m(this,x,E,A,!1)},p.prototype.once=function(x,E,A){return m(this,x,E,A,!0)},p.prototype.removeListener=function(x,E,A,w){var g=c?c+x:x;if(!this._events[g])return this;if(!E)return _(this,g),this;var S=this._events[g];if(S.fn)S.fn!==E||w&&!S.once||A&&S.context!==A||_(this,g);else{for(var O=0,M=[],F=S.length;O<F;O++)(S[O].fn!==E||w&&!S[O].once||A&&S[O].context!==A)&&M.push(S[O]);M.length?this._events[g]=M.length===1?M[0]:M:_(this,g)}return this},p.prototype.removeAllListeners=function(x){var E;return x?(E=c?c+x:x,this._events[E]&&_(this,E)):(this._events=new a,this._eventsCount=0),this},p.prototype.off=p.prototype.removeListener,p.prototype.addListener=p.prototype.on,p.prefixed=c,p.EventEmitter=p,s.exports=p},824:s=>{var l=1e3,c=60*l,a=60*c,h=24*a;function m(_,p,x,E){var A=p>=1.5*x;return Math.round(_/x)+" "+E+(A?"s":"")}s.exports=function(_,p){p=p||{};var x,E,A=typeof _;if(A==="string"&&_.length>0)return function(w){if(!((w=String(w)).length>100)){var g=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(w);if(g){var S=parseFloat(g[1]);switch((g[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*S;case"weeks":case"week":case"w":return 6048e5*S;case"days":case"day":case"d":return S*h;case"hours":case"hour":case"hrs":case"hr":case"h":return S*a;case"minutes":case"minute":case"mins":case"min":case"m":return S*c;case"seconds":case"second":case"secs":case"sec":case"s":return S*l;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return S;default:return}}}}(_);if(A==="number"&&isFinite(_))return p.long?(x=_,(E=Math.abs(x))>=h?m(x,E,h,"day"):E>=a?m(x,E,a,"hour"):E>=c?m(x,E,c,"minute"):E>=l?m(x,E,l,"second"):x+" ms"):function(w){var g=Math.abs(w);return g>=h?Math.round(w/h)+"d":g>=a?Math.round(w/a)+"h":g>=c?Math.round(w/c)+"m":g>=l?Math.round(w/l)+"s":w+"ms"}(_);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(_))}},520:(s,l,c)=>{var a=c(155),h=a.platform==="win32",m=c(539);function _(b,T){for(var L=[],j=0;j<b.length;j++){var W=b[j];W&&W!=="."&&(W===".."?L.length&&L[L.length-1]!==".."?L.pop():T&&L.push(".."):L.push(W))}return L}function p(b){for(var T=b.length-1,L=0;L<=T&&!b[L];L++);for(var j=T;j>=0&&!b[j];j--);return L===0&&j===T?b:L>j?[]:b.slice(L,j+1)}var x=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,E=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,A={};function w(b){var T=x.exec(b),L=(T[1]||"")+(T[2]||""),j=T[3]||"",W=E.exec(j);return[L,W[1],W[2],W[3]]}function g(b){var T=x.exec(b),L=T[1]||"",j=!!L&&L[1]!==":";return{device:L,isUnc:j,isAbsolute:j||!!T[2],tail:T[3]}}function S(b){return"\\\\"+b.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}A.resolve=function(){for(var b="",T="",L=!1,j=arguments.length-1;j>=-1;j--){var W;if(j>=0?W=arguments[j]:b?(W=a.env["="+b])&&W.substr(0,3).toLowerCase()===b.toLowerCase()+"\\"||(W=b+"\\"):W=a.cwd(),!m.isString(W))throw new TypeError("Arguments to path.resolve must be strings");if(W){var le=g(W),be=le.device,ge=le.isUnc,G=le.isAbsolute,xe=le.tail;if((!be||!b||be.toLowerCase()===b.toLowerCase())&&(b||(b=be),L||(T=xe+"\\"+T,L=G),b&&L))break}}return ge&&(b=S(b)),b+(L?"\\":"")+(T=_(T.split(/[\\\/]+/),!L).join("\\"))||"."},A.normalize=function(b){var T=g(b),L=T.device,j=T.isUnc,W=T.isAbsolute,le=T.tail,be=/[\\\/]$/.test(le);return(le=_(le.split(/[\\\/]+/),!W).join("\\"))||W||(le="."),le&&be&&(le+="\\"),j&&(L=S(L)),L+(W?"\\":"")+le},A.isAbsolute=function(b){return g(b).isAbsolute},A.join=function(){for(var b=[],T=0;T<arguments.length;T++){var L=arguments[T];if(!m.isString(L))throw new TypeError("Arguments to path.join must be strings");L&&b.push(L)}var j=b.join("\\");return/^[\\\/]{2}[^\\\/]/.test(b[0])||(j=j.replace(/^[\\\/]{2,}/,"\\")),A.normalize(j)},A.relative=function(b,T){b=A.resolve(b),T=A.resolve(T);for(var L=b.toLowerCase(),j=T.toLowerCase(),W=p(T.split("\\")),le=p(L.split("\\")),be=p(j.split("\\")),ge=Math.min(le.length,be.length),G=ge,xe=0;xe<ge;xe++)if(le[xe]!==be[xe]){G=xe;break}if(G==0)return T;var ve=[];for(xe=G;xe<le.length;xe++)ve.push("..");return(ve=ve.concat(W.slice(G))).join("\\")},A._makeLong=function(b){if(!m.isString(b))return b;if(!b)return"";var T=A.resolve(b);return/^[a-zA-Z]\:\\/.test(T)?"\\\\?\\"+T:/^\\\\[^?.]/.test(T)?"\\\\?\\UNC\\"+T.substring(2):b},A.dirname=function(b){var T=w(b),L=T[0],j=T[1];return L||j?(j&&(j=j.substr(0,j.length-1)),L+j):"."},A.basename=function(b,T){var L=w(b)[2];return T&&L.substr(-1*T.length)===T&&(L=L.substr(0,L.length-T.length)),L},A.extname=function(b){return w(b)[3]},A.format=function(b){if(!m.isObject(b))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof b);var T=b.root||"";if(!m.isString(T))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof b.root);var L=b.dir,j=b.base||"";return L?L[L.length-1]===A.sep?L+j:L+A.sep+j:j},A.parse=function(b){if(!m.isString(b))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof b);var T=w(b);if(!T||T.length!==4)throw new TypeError("Invalid path '"+b+"'");return{root:T[0],dir:T[0]+T[1].slice(0,-1),base:T[2],ext:T[3],name:T[2].slice(0,T[2].length-T[3].length)}},A.sep="\\",A.delimiter=";";var O=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,M={};function F(b){return O.exec(b).slice(1)}M.resolve=function(){for(var b="",T=!1,L=arguments.length-1;L>=-1&&!T;L--){var j=L>=0?arguments[L]:a.cwd();if(!m.isString(j))throw new TypeError("Arguments to path.resolve must be strings");j&&(b=j+"/"+b,T=j[0]==="/")}return(T?"/":"")+(b=_(b.split("/"),!T).join("/"))||"."},M.normalize=function(b){var T=M.isAbsolute(b),L=b&&b[b.length-1]==="/";return(b=_(b.split("/"),!T).join("/"))||T||(b="."),b&&L&&(b+="/"),(T?"/":"")+b},M.isAbsolute=function(b){return b.charAt(0)==="/"},M.join=function(){for(var b="",T=0;T<arguments.length;T++){var L=arguments[T];if(!m.isString(L))throw new TypeError("Arguments to path.join must be strings");L&&(b+=b?"/"+L:L)}return M.normalize(b)},M.relative=function(b,T){b=M.resolve(b).substr(1),T=M.resolve(T).substr(1);for(var L=p(b.split("/")),j=p(T.split("/")),W=Math.min(L.length,j.length),le=W,be=0;be<W;be++)if(L[be]!==j[be]){le=be;break}var ge=[];for(be=le;be<L.length;be++)ge.push("..");return(ge=ge.concat(j.slice(le))).join("/")},M._makeLong=function(b){return b},M.dirname=function(b){var T=F(b),L=T[0],j=T[1];return L||j?(j&&(j=j.substr(0,j.length-1)),L+j):"."},M.basename=function(b,T){var L=F(b)[2];return T&&L.substr(-1*T.length)===T&&(L=L.substr(0,L.length-T.length)),L},M.extname=function(b){return F(b)[3]},M.format=function(b){if(!m.isObject(b))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof b);var T=b.root||"";if(!m.isString(T))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof b.root);return(b.dir?b.dir+M.sep:"")+(b.base||"")},M.parse=function(b){if(!m.isString(b))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof b);var T=F(b);if(!T||T.length!==4)throw new TypeError("Invalid path '"+b+"'");return T[1]=T[1]||"",T[2]=T[2]||"",T[3]=T[3]||"",{root:T[0],dir:T[0]+T[1].slice(0,-1),base:T[2],ext:T[3],name:T[2].slice(0,T[2].length-T[3].length)}},M.sep="/",M.delimiter=":",s.exports=h?A:M,s.exports.posix=M,s.exports.win32=A},155:s=>{var l,c,a=s.exports={};function h(){throw new Error("setTimeout has not been defined")}function m(){throw new Error("clearTimeout has not been defined")}function _(M){if(l===setTimeout)return setTimeout(M,0);if((l===h||!l)&&setTimeout)return l=setTimeout,setTimeout(M,0);try{return l(M,0)}catch{try{return l.call(null,M,0)}catch{return l.call(this,M,0)}}}(function(){try{l=typeof setTimeout=="function"?setTimeout:h}catch{l=h}try{c=typeof clearTimeout=="function"?clearTimeout:m}catch{c=m}})();var p,x=[],E=!1,A=-1;function w(){E&&p&&(E=!1,p.length?x=p.concat(x):A=-1,x.length&&g())}function g(){if(!E){var M=_(w);E=!0;for(var F=x.length;F;){for(p=x,x=[];++A<F;)p&&p[A].run();A=-1,F=x.length}p=null,E=!1,function(b){if(c===clearTimeout)return clearTimeout(b);if((c===m||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(b);try{c(b)}catch{try{return c.call(null,b)}catch{return c.call(this,b)}}}(M)}}function S(M,F){this.fun=M,this.array=F}function O(){}a.nextTick=function(M){var F=new Array(arguments.length-1);if(arguments.length>1)for(var b=1;b<arguments.length;b++)F[b-1]=arguments[b];x.push(new S(M,F)),x.length!==1||E||_(g)},S.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=O,a.addListener=O,a.once=O,a.off=O,a.removeListener=O,a.removeAllListeners=O,a.emit=O,a.prependListener=O,a.prependOnceListener=O,a.listeners=function(M){return[]},a.binding=function(M){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(M){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},496:s=>{typeof Object.create=="function"?s.exports=function(l,c){l.super_=c,l.prototype=Object.create(c.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}})}:s.exports=function(l,c){l.super_=c;var a=function(){};a.prototype=c.prototype,l.prototype=new a,l.prototype.constructor=l}},384:s=>{s.exports=function(l){return l&&typeof l=="object"&&typeof l.copy=="function"&&typeof l.fill=="function"&&typeof l.readUInt8=="function"}},539:(s,l,c)=>{var a=c(155),h=/%[sdj%]/g;l.format=function(N){if(!b(N)){for(var D=[],J=0;J<arguments.length;J++)D.push(p(arguments[J]));return D.join(" ")}J=1;for(var ye=arguments,We=ye.length,Ne=String(N).replace(h,function(Le){if(Le==="%%")return"%";if(J>=We)return Le;switch(Le){case"%s":return String(ye[J++]);case"%d":return Number(ye[J++]);case"%j":try{return JSON.stringify(ye[J++])}catch{return"[Circular]"}default:return Le}}),Ce=ye[J];J<We;Ce=ye[++J])M(Ce)||!j(Ce)?Ne+=" "+Ce:Ne+=" "+p(Ce);return Ne},l.deprecate=function(N,D){if(T(c.g.process))return function(){return l.deprecate(N,D).apply(this,arguments)};if(a.noDeprecation===!0)return N;var J=!1;return function(){if(!J){if(a.throwDeprecation)throw new Error(D);a.traceDeprecation?console.trace(D):console.error(D),J=!0}return N.apply(this,arguments)}};var m,_={};function p(N,D){var J={seen:[],stylize:E};return arguments.length>=3&&(J.depth=arguments[2]),arguments.length>=4&&(J.colors=arguments[3]),O(D)?J.showHidden=D:D&&l._extend(J,D),T(J.showHidden)&&(J.showHidden=!1),T(J.depth)&&(J.depth=2),T(J.colors)&&(J.colors=!1),T(J.customInspect)&&(J.customInspect=!0),J.colors&&(J.stylize=x),A(J,N,J.depth)}function x(N,D){var J=p.styles[D];return J?"\x1B["+p.colors[J][0]+"m"+N+"\x1B["+p.colors[J][1]+"m":N}function E(N,D){return N}function A(N,D,J){if(N.customInspect&&D&&be(D.inspect)&&D.inspect!==l.inspect&&(!D.constructor||D.constructor.prototype!==D)){var ye=D.inspect(J,N);return b(ye)||(ye=A(N,ye,J)),ye}var We=function(de,ke){if(T(ke))return de.stylize("undefined","undefined");if(b(ke)){var Re="'"+JSON.stringify(ke).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return de.stylize(Re,"string")}return F(ke)?de.stylize(""+ke,"number"):O(ke)?de.stylize(""+ke,"boolean"):M(ke)?de.stylize("null","null"):void 0}(N,D);if(We)return We;var Ne=Object.keys(D),Ce=function(de){var ke={};return de.forEach(function(Re,Tt){ke[Re]=!0}),ke}(Ne);if(N.showHidden&&(Ne=Object.getOwnPropertyNames(D)),le(D)&&(Ne.indexOf("message")>=0||Ne.indexOf("description")>=0))return w(D);if(Ne.length===0){if(be(D)){var Le=D.name?": "+D.name:"";return N.stylize("[Function"+Le+"]","special")}if(L(D))return N.stylize(RegExp.prototype.toString.call(D),"regexp");if(W(D))return N.stylize(Date.prototype.toString.call(D),"date");if(le(D))return w(D)}var Be,nt="",we=!1,Ae=["{","}"];return S(D)&&(we=!0,Ae=["[","]"]),be(D)&&(nt=" [Function"+(D.name?": "+D.name:"")+"]"),L(D)&&(nt=" "+RegExp.prototype.toString.call(D)),W(D)&&(nt=" "+Date.prototype.toUTCString.call(D)),le(D)&&(nt=" "+w(D)),Ne.length!==0||we&&D.length!=0?J<0?L(D)?N.stylize(RegExp.prototype.toString.call(D),"regexp"):N.stylize("[Object]","special"):(N.seen.push(D),Be=we?function(de,ke,Re,Tt,Rn){for(var pn=[],Mn=0,Nn=ke.length;Mn<Nn;++Mn)Z(ke,String(Mn))?pn.push(g(de,ke,Re,Tt,String(Mn),!0)):pn.push("");return Rn.forEach(function(mn){mn.match(/^\d+$/)||pn.push(g(de,ke,Re,Tt,mn,!0))}),pn}(N,D,J,Ce,Ne):Ne.map(function(de){return g(N,D,J,Ce,de,we)}),N.seen.pop(),function(de,ke,Re){return de.reduce(function(Tt,Rn){return Rn.indexOf(`
`),Tt+Rn.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Re[0]+(ke===""?"":ke+`
 `)+" "+de.join(`,
  `)+" "+Re[1]:Re[0]+ke+" "+de.join(", ")+" "+Re[1]}(Be,nt,Ae)):Ae[0]+nt+Ae[1]}function w(N){return"["+Error.prototype.toString.call(N)+"]"}function g(N,D,J,ye,We,Ne){var Ce,Le,Be;if((Be=Object.getOwnPropertyDescriptor(D,We)||{value:D[We]}).get?Le=Be.set?N.stylize("[Getter/Setter]","special"):N.stylize("[Getter]","special"):Be.set&&(Le=N.stylize("[Setter]","special")),Z(ye,We)||(Ce="["+We+"]"),Le||(N.seen.indexOf(Be.value)<0?(Le=M(J)?A(N,Be.value,null):A(N,Be.value,J-1)).indexOf(`
`)>-1&&(Le=Ne?Le.split(`
`).map(function(nt){return"  "+nt}).join(`
`).substr(2):`
`+Le.split(`
`).map(function(nt){return"   "+nt}).join(`
`)):Le=N.stylize("[Circular]","special")),T(Ce)){if(Ne&&We.match(/^\d+$/))return Le;(Ce=JSON.stringify(""+We)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Ce=Ce.substr(1,Ce.length-2),Ce=N.stylize(Ce,"name")):(Ce=Ce.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Ce=N.stylize(Ce,"string"))}return Ce+": "+Le}function S(N){return Array.isArray(N)}function O(N){return typeof N=="boolean"}function M(N){return N===null}function F(N){return typeof N=="number"}function b(N){return typeof N=="string"}function T(N){return N===void 0}function L(N){return j(N)&&ge(N)==="[object RegExp]"}function j(N){return typeof N=="object"&&N!==null}function W(N){return j(N)&&ge(N)==="[object Date]"}function le(N){return j(N)&&(ge(N)==="[object Error]"||N instanceof Error)}function be(N){return typeof N=="function"}function ge(N){return Object.prototype.toString.call(N)}function G(N){return N<10?"0"+N.toString(10):N.toString(10)}l.debuglog=function(N){if(T(m)&&(m=a.env.NODE_DEBUG||""),N=N.toUpperCase(),!_[N])if(new RegExp("\\b"+N+"\\b","i").test(m)){var D=a.pid;_[N]=function(){var J=l.format.apply(l,arguments);console.error("%s %d: %s",N,D,J)}}else _[N]=function(){};return _[N]},l.inspect=p,p.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},p.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},l.isArray=S,l.isBoolean=O,l.isNull=M,l.isNullOrUndefined=function(N){return N==null},l.isNumber=F,l.isString=b,l.isSymbol=function(N){return typeof N=="symbol"},l.isUndefined=T,l.isRegExp=L,l.isObject=j,l.isDate=W,l.isError=le,l.isFunction=be,l.isPrimitive=function(N){return N===null||typeof N=="boolean"||typeof N=="number"||typeof N=="string"||typeof N=="symbol"||N===void 0},l.isBuffer=c(384);var xe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ve(){var N=new Date,D=[G(N.getHours()),G(N.getMinutes()),G(N.getSeconds())].join(":");return[N.getDate(),xe[N.getMonth()],D].join(" ")}function Z(N,D){return Object.prototype.hasOwnProperty.call(N,D)}l.log=function(){console.log("%s - %s",ve(),l.format.apply(l,arguments))},l.inherits=c(496),l._extend=function(N,D){if(!D||!j(D))return N;for(var J=Object.keys(D),ye=J.length;ye--;)N[J[ye]]=D[J[ye]];return N}}},r={};function o(s){var l=r[s];if(l!==void 0)return l.exports;var c=r[s]={exports:{}};return n[s].call(c.exports,c,c.exports,o),c.exports}o.n=s=>{var l=s&&s.__esModule?()=>s.default:()=>s;return o.d(l,{a:l}),l},o.d=(s,l)=>{for(var c in l)o.o(l,c)&&!o.o(s,c)&&Object.defineProperty(s,c,{enumerable:!0,get:l[c]})},o.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),o.o=(s,l)=>Object.prototype.hasOwnProperty.call(s,l),o.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var i={};return(()=>{o.r(i),o.d(i,{LSPluginUser:()=>ze,setupPluginUserInstance:()=>et});var s=o(520);o(856);const l=function(C,k){return C===k||C!=C&&k!=k},c=function(C,k){for(var v=C.length;v--;)if(l(C[v][0],k))return v;return-1};var a=Array.prototype.splice;function h(C){var k=-1,v=C==null?0:C.length;for(this.clear();++k<v;){var I=C[k];this.set(I[0],I[1])}}h.prototype.clear=function(){this.__data__=[],this.size=0},h.prototype.delete=function(C){var k=this.__data__,v=c(k,C);return!(v<0||(v==k.length-1?k.pop():a.call(k,v,1),--this.size,0))},h.prototype.get=function(C){var k=this.__data__,v=c(k,C);return v<0?void 0:k[v][1]},h.prototype.has=function(C){return c(this.__data__,C)>-1},h.prototype.set=function(C,k){var v=this.__data__,I=c(v,C);return I<0?(++this.size,v.push([C,k])):v[I][1]=k,this};const m=h,_=typeof Rt=="object"&&Rt&&Rt.Object===Object&&Rt;var p=typeof self=="object"&&self&&self.Object===Object&&self;const x=_||p||Function("return this")(),E=x.Symbol;var A=Object.prototype,w=A.hasOwnProperty,g=A.toString,S=E?E.toStringTag:void 0,O=Object.prototype.toString,M=E?E.toStringTag:void 0;const F=function(C){return C==null?C===void 0?"[object Undefined]":"[object Null]":M&&M in Object(C)?function(k){var v=w.call(k,S),I=k[S];try{k[S]=void 0;var z=!0}catch{}var q=g.call(k);return z&&(v?k[S]=I:delete k[S]),q}(C):function(k){return O.call(k)}(C)},b=function(C){var k=typeof C;return C!=null&&(k=="object"||k=="function")},T=function(C){if(!b(C))return!1;var k=F(C);return k=="[object Function]"||k=="[object GeneratorFunction]"||k=="[object AsyncFunction]"||k=="[object Proxy]"},L=x["__core-js_shared__"];var j,W=(j=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"",le=Function.prototype.toString,be=/^\[object .+?Constructor\]$/,ge=Function.prototype,G=Object.prototype,xe=ge.toString,ve=G.hasOwnProperty,Z=RegExp("^"+xe.call(ve).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const N=function(C){return!(!b(C)||(k=C,W&&W in k))&&(T(C)?Z:be).test(function(v){if(v!=null){try{return le.call(v)}catch{}try{return v+""}catch{}}return""}(C));var k},D=function(C,k){var v=function(I,z){return I==null?void 0:I[z]}(C,k);return N(v)?v:void 0},J=D(x,"Map"),ye=D(Object,"create");var We=Object.prototype.hasOwnProperty,Ne=Object.prototype.hasOwnProperty;function Ce(C){var k=-1,v=C==null?0:C.length;for(this.clear();++k<v;){var I=C[k];this.set(I[0],I[1])}}Ce.prototype.clear=function(){this.__data__=ye?ye(null):{},this.size=0},Ce.prototype.delete=function(C){var k=this.has(C)&&delete this.__data__[C];return this.size-=k?1:0,k},Ce.prototype.get=function(C){var k=this.__data__;if(ye){var v=k[C];return v==="__lodash_hash_undefined__"?void 0:v}return We.call(k,C)?k[C]:void 0},Ce.prototype.has=function(C){var k=this.__data__;return ye?k[C]!==void 0:Ne.call(k,C)},Ce.prototype.set=function(C,k){var v=this.__data__;return this.size+=this.has(C)?0:1,v[C]=ye&&k===void 0?"__lodash_hash_undefined__":k,this};const Le=Ce,Be=function(C,k){var v,I,z=C.__data__;return((I=typeof(v=k))=="string"||I=="number"||I=="symbol"||I=="boolean"?v!=="__proto__":v===null)?z[typeof k=="string"?"string":"hash"]:z.map};function nt(C){var k=-1,v=C==null?0:C.length;for(this.clear();++k<v;){var I=C[k];this.set(I[0],I[1])}}nt.prototype.clear=function(){this.size=0,this.__data__={hash:new Le,map:new(J||m),string:new Le}},nt.prototype.delete=function(C){var k=Be(this,C).delete(C);return this.size-=k?1:0,k},nt.prototype.get=function(C){return Be(this,C).get(C)},nt.prototype.has=function(C){return Be(this,C).has(C)},nt.prototype.set=function(C,k){var v=Be(this,C),I=v.size;return v.set(C,k),this.size+=v.size==I?0:1,this};const we=nt;function Ae(C){var k=this.__data__=new m(C);this.size=k.size}Ae.prototype.clear=function(){this.__data__=new m,this.size=0},Ae.prototype.delete=function(C){var k=this.__data__,v=k.delete(C);return this.size=k.size,v},Ae.prototype.get=function(C){return this.__data__.get(C)},Ae.prototype.has=function(C){return this.__data__.has(C)},Ae.prototype.set=function(C,k){var v=this.__data__;if(v instanceof m){var I=v.__data__;if(!J||I.length<199)return I.push([C,k]),this.size=++v.size,this;v=this.__data__=new we(I)}return v.set(C,k),this.size=v.size,this};const de=Ae,ke=function(){try{var C=D(Object,"defineProperty");return C({},"",{}),C}catch{}}(),Re=function(C,k,v){k=="__proto__"&&ke?ke(C,k,{configurable:!0,enumerable:!0,value:v,writable:!0}):C[k]=v},Tt=function(C,k,v){(v!==void 0&&!l(C[k],v)||v===void 0&&!(k in C))&&Re(C,k,v)},Rn=function(C,k,v){for(var I=-1,z=Object(C),q=v(C),K=q.length;K--;){var ee=q[++I];if(k(z[ee],ee,z)===!1)break}return C};var pn=t&&!t.nodeType&&t,Mn=pn&&!0&&e&&!e.nodeType&&e,Nn=Mn&&Mn.exports===pn?x.Buffer:void 0,mn=Nn?Nn.allocUnsafe:void 0;const Di=x.Uint8Array,Ms=function(C,k){var v,I,z=k?(v=C.buffer,I=new v.constructor(v.byteLength),new Di(I).set(new Di(v)),I):C.buffer;return new C.constructor(z,C.byteOffset,C.length)};var zi=Object.create;const Ns=function(){function C(){}return function(k){if(!b(k))return{};if(zi)return zi(k);C.prototype=k;var v=new C;return C.prototype=void 0,v}}(),_e=(ne=Object.getPrototypeOf,ae=Object,function(C){return ne(ae(C))});var ne,ae,De=Object.prototype;const Ye=function(C){var k=C&&C.constructor;return C===(typeof k=="function"&&k.prototype||De)},Ht=function(C){return C!=null&&typeof C=="object"},hr=function(C){return Ht(C)&&F(C)=="[object Arguments]"};var Qn=Object.prototype,Bi=Qn.hasOwnProperty,si=Qn.propertyIsEnumerable;const Dr=hr(function(){return arguments}())?hr:function(C){return Ht(C)&&Bi.call(C,"callee")&&!si.call(C,"callee")},Ui=Array.isArray,Io=function(C){return typeof C=="number"&&C>-1&&C%1==0&&C<=9007199254740991},Hi=function(C){return C!=null&&Io(C.length)&&!T(C)};var $o=t&&!t.nodeType&&t,zr=$o&&!0&&e&&!e.nodeType&&e,Wi=zr&&zr.exports===$o?x.Buffer:void 0;const Ro=(Wi?Wi.isBuffer:void 0)||function(){return!1};var Fs=Function.prototype,Gn=Object.prototype,Fn=Fs.toString,gn=Gn.hasOwnProperty,qi=Fn.call(Object),Ue={};Ue["[object Float32Array]"]=Ue["[object Float64Array]"]=Ue["[object Int8Array]"]=Ue["[object Int16Array]"]=Ue["[object Int32Array]"]=Ue["[object Uint8Array]"]=Ue["[object Uint8ClampedArray]"]=Ue["[object Uint16Array]"]=Ue["[object Uint32Array]"]=!0,Ue["[object Arguments]"]=Ue["[object Array]"]=Ue["[object ArrayBuffer]"]=Ue["[object Boolean]"]=Ue["[object DataView]"]=Ue["[object Date]"]=Ue["[object Error]"]=Ue["[object Function]"]=Ue["[object Map]"]=Ue["[object Number]"]=Ue["[object Object]"]=Ue["[object RegExp]"]=Ue["[object Set]"]=Ue["[object String]"]=Ue["[object WeakMap]"]=!1;var li=t&&!t.nodeType&&t,Br=li&&!0&&e&&!e.nodeType&&e,Vi=Br&&Br.exports===li&&_.process,Mo=function(){try{return Br&&Br.require&&Br.require("util").types||Vi&&Vi.binding&&Vi.binding("util")}catch{}}(),No=Mo&&Mo.isTypedArray;const Ki=No?function(C){return function(k){return C(k)}}(No):function(C){return Ht(C)&&Io(C.length)&&!!Ue[F(C)]},Nt=function(C,k){if((k!=="constructor"||typeof C[k]!="function")&&k!="__proto__")return C[k]};var pr=Object.prototype.hasOwnProperty;const Jn=function(C,k,v){var I=C[k];pr.call(C,k)&&l(I,v)&&(v!==void 0||k in C)||Re(C,k,v)};var Qi=/^(?:0|[1-9]\d*)$/;const ai=function(C,k){var v=typeof C;return!!(k=k??9007199254740991)&&(v=="number"||v!="symbol"&&Qi.test(C))&&C>-1&&C%1==0&&C<k};var Ls=Object.prototype.hasOwnProperty;const js=function(C,k){var v=Ui(C),I=!v&&Dr(C),z=!v&&!I&&Ro(C),q=!v&&!I&&!z&&Ki(C),K=v||I||z||q,ee=K?function(ot,Ee){for(var pe=-1,$e=Array(ot);++pe<ot;)$e[pe]=Ee(pe);return $e}(C.length,String):[],re=ee.length;for(var ie in C)!k&&!Ls.call(C,ie)||K&&(ie=="length"||z&&(ie=="offset"||ie=="parent")||q&&(ie=="buffer"||ie=="byteLength"||ie=="byteOffset")||ai(ie,re))||ee.push(ie);return ee};var Ds=Object.prototype.hasOwnProperty;const Fo=function(C){if(!b(C))return function(z){var q=[];if(z!=null)for(var K in Object(z))q.push(K);return q}(C);var k=Ye(C),v=[];for(var I in C)(I!="constructor"||!k&&Ds.call(C,I))&&v.push(I);return v},ui=function(C){return Hi(C)?js(C,!0):Fo(C)},pt=function(C){return function(k,v,I,z){var q=!I;I||(I={});for(var K=-1,ee=v.length;++K<ee;){var re=v[K],ie=z?z(I[re],k[re],re,I,k):void 0;ie===void 0&&(ie=k[re]),q?Re(I,re,ie):Jn(I,re,ie)}return I}(C,ui(C))},Lo=function(C,k,v,I,z,q,K){var ee,re=Nt(C,v),ie=Nt(k,v),ot=K.get(ie);if(ot)Tt(C,v,ot);else{var Ee=q?q(re,ie,v+"",C,k,K):void 0,pe=Ee===void 0;if(pe){var $e=Ui(ie),Te=!$e&&Ro(ie),Ze=!$e&&!Te&&Ki(ie);Ee=ie,$e||Te||Ze?Ui(re)?Ee=re:Ht(ee=re)&&Hi(ee)?Ee=function(qe,gt){var Ft=-1,kr=qe.length;for(gt||(gt=Array(kr));++Ft<kr;)gt[Ft]=qe[Ft];return gt}(re):Te?(pe=!1,Ee=function(qe,gt){if(gt)return qe.slice();var Ft=qe.length,kr=mn?mn(Ft):new qe.constructor(Ft);return qe.copy(kr),kr}(ie,!0)):Ze?(pe=!1,Ee=Ms(ie,!0)):Ee=[]:function(qe){if(!Ht(qe)||F(qe)!="[object Object]")return!1;var gt=_e(qe);if(gt===null)return!0;var Ft=gn.call(gt,"constructor")&&gt.constructor;return typeof Ft=="function"&&Ft instanceof Ft&&Fn.call(Ft)==qi}(ie)||Dr(ie)?(Ee=re,Dr(re)?Ee=pt(re):b(re)&&!T(re)||(Ee=function(qe){return typeof qe.constructor!="function"||Ye(qe)?{}:Ns(_e(qe))}(ie))):pe=!1}pe&&(K.set(ie,Ee),z(Ee,ie,I,q,K),K.delete(ie)),Tt(C,v,Ee)}},wt=function C(k,v,I,z,q){k!==v&&Rn(v,function(K,ee){if(q||(q=new de),b(K))Lo(k,v,ee,I,C,z,q);else{var re=z?z(Nt(k,ee),K,ee+"",k,v,q):void 0;re===void 0&&(re=K),Tt(k,ee,re)}},ui)},Gi=function(C){return C},rt=function(C,k,v){switch(v.length){case 0:return C.call(k);case 1:return C.call(k,v[0]);case 2:return C.call(k,v[0],v[1]);case 3:return C.call(k,v[0],v[1],v[2])}return C.apply(k,v)};var mr=Math.max;const Ji=ke?function(C,k){return ke(C,"toString",{configurable:!0,enumerable:!1,value:(v=k,function(){return v}),writable:!0});var v}:Gi;var Xi=Date.now;const Yi=function(C){var k=0,v=0;return function(){var I=Xi(),z=16-(I-v);if(v=I,z>0){if(++k>=800)return arguments[0]}else k=0;return C.apply(void 0,arguments)}}(Ji),jo=function(C,k){return Yi(function(v,I,z){return I=mr(I===void 0?v.length-1:I,0),function(){for(var q=arguments,K=-1,ee=mr(q.length-I,0),re=Array(ee);++K<ee;)re[K]=q[I+K];K=-1;for(var ie=Array(I+1);++K<I;)ie[K]=q[K];return ie[I]=z(re),rt(v,this,ie)}}(C,k,Gi),C+"")},Xn=(yn=function(C,k,v){wt(C,k,v)},jo(function(C,k){var v=-1,I=k.length,z=I>1?k[I-1]:void 0,q=I>2?k[2]:void 0;for(z=yn.length>3&&typeof z=="function"?(I--,z):void 0,q&&function(ee,re,ie){if(!b(ie))return!1;var ot=typeof re;return!!(ot=="number"?Hi(ie)&&ai(re,ie.length):ot=="string"&&re in ie)&&l(ie[re],ee)}(k[0],k[1],q)&&(z=I<3?void 0:z,I=1),C=Object(C);++v<I;){var K=k[v];K&&yn(C,K,v)}return C}));var yn,gr=function(){return gr=Object.assign||function(C){for(var k,v=1,I=arguments.length;v<I;v++)for(var z in k=arguments[v])Object.prototype.hasOwnProperty.call(k,z)&&(C[z]=k[z]);return C},gr.apply(this,arguments)};function ci(C){return C.toLowerCase()}var yr=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],fi=/[^A-Z0-9]+/gi;function vr(C,k,v){return k instanceof RegExp?C.replace(k,v):k.reduce(function(I,z){return I.replace(z,v)},C)}const Zi=navigator.platform.toLowerCase()==="win32"?s.win32:s.posix,wr=function(C,k){return k===void 0&&(k={}),function(v,I){return I===void 0&&(I={}),function(z,q){q===void 0&&(q={});for(var K=q.splitRegexp,ee=K===void 0?yr:K,re=q.stripRegexp,ie=re===void 0?fi:re,ot=q.transform,Ee=ot===void 0?ci:ot,pe=q.delimiter,$e=pe===void 0?" ":pe,Te=vr(vr(z,ee,"$1\0$2"),ie,"\0"),Ze=0,qe=Te.length;Te.charAt(Ze)==="\0";)Ze++;for(;Te.charAt(qe-1)==="\0";)qe--;return Te.slice(Ze,qe).split("\0").map(Ee).join($e)}(v,gr({delimiter:"."},I))}(C,gr({delimiter:"_"},k))},_r=Xn;function Ln(C,k){let v,I,z=!1;const q=ee=>re=>{C&&clearTimeout(C),ee(re),z=!0},K=new Promise((ee,re)=>{v=q(ee),I=q(re),C&&(C=setTimeout(()=>I(new Error(`[deferred timeout] ${k}`)),C))});return{created:Date.now(),setTag:ee=>k=ee,resolve:v,reject:I,promise:K,get settled(){return z}}}const xr=new Map;window.__injectedUIEffects=xr;var eo=o(227),to=o.n(eo);const jn="application/x-postmate-v1+json";let di=0;const Do={handshake:1,"handshake-reply":1,call:1,emit:1,reply:1,request:1},Sr=(C,k)=>!(typeof k=="string"&&C.origin!==k||!C.data||typeof C.data=="object"&&!("postmate"in C.data)||C.data.type!==jn||!Do[C.data.postmate]);class hi{constructor(k){he(this,"parent");he(this,"frame");he(this,"child");he(this,"events",{});he(this,"childOrigin");he(this,"listener");this.parent=k.parent,this.frame=k.frame,this.child=k.child,this.childOrigin=k.childOrigin,this.listener=v=>{if(!Sr(v,this.childOrigin))return!1;const{data:I,name:z}=((v||{}).data||{}).value||{};v.data.postmate==="emit"&&z in this.events&&this.events[z].forEach(q=>{q.call(this,I)})},this.parent.addEventListener("message",this.listener,!1)}get(k){return new Promise(v=>{const I=++di,z=q=>{q.data.uid===I&&q.data.postmate==="reply"&&(this.parent.removeEventListener("message",z,!1),v(q.data.value))};this.parent.addEventListener("message",z,!1),this.child.postMessage({postmate:"request",type:jn,property:k,uid:I},this.childOrigin)})}call(k,v){this.child.postMessage({postmate:"call",type:jn,property:k,data:v},this.childOrigin)}on(k,v){this.events[k]||(this.events[k]=[]),this.events[k].push(v)}destroy(){window.removeEventListener("message",this.listener,!1),this.frame.parentNode.removeChild(this.frame)}}class Dn{constructor(k){he(this,"model");he(this,"parent");he(this,"parentOrigin");he(this,"child");this.model=k.model,this.parent=k.parent,this.parentOrigin=k.parentOrigin,this.child=k.child,this.child.addEventListener("message",v=>{if(!Sr(v,this.parentOrigin))return;const{property:I,uid:z,data:q}=v.data;v.data.postmate!=="call"?((K,ee)=>{const re=typeof K[ee]=="function"?K[ee]():K[ee];return Promise.resolve(re)})(this.model,I).then(K=>{v.source.postMessage({property:I,postmate:"reply",type:jn,uid:z,value:K},v.origin)}):I in this.model&&typeof this.model[I]=="function"&&this.model[I](q)})}emit(k,v){this.parent.postMessage({postmate:"emit",type:jn,value:{name:k,data:v}},this.parentOrigin)}}class f{constructor(k){he(this,"container");he(this,"parent");he(this,"frame");he(this,"child");he(this,"childOrigin");he(this,"url");he(this,"model");this.container=k.container,this.url=k.url,this.parent=window,this.frame=document.createElement("iframe"),k.id&&(this.frame.id=k.id),k.name&&(this.frame.name=k.name),this.frame.classList.add.apply(this.frame.classList,k.classListArray||[]),this.container.appendChild(this.frame),this.child=this.frame.contentWindow,this.model=k.model||{}}sendHandshake(k){const v=(q=>{const K=document.createElement("a");K.href=q;const ee=K.protocol.length>4?K.protocol:window.location.protocol,re=K.host.length?K.port==="80"||K.port==="443"?K.hostname:K.host:window.location.host;return K.origin||`${ee}//${re}`})(k=k||this.url);let I,z=0;return new Promise((q,K)=>{const ee=ie=>!!Sr(ie,v)&&(ie.data.postmate==="handshake-reply"?(clearInterval(I),this.parent.removeEventListener("message",ee,!1),this.childOrigin=ie.origin,q(new hi(this))):K("Failed handshake"));this.parent.addEventListener("message",ee,!1);const re=()=>{z++,this.child.postMessage({postmate:"handshake",type:jn,model:this.model},v),z===5&&clearInterval(I)};this.frame.addEventListener("load",()=>{re(),I=setInterval(re,500)}),this.frame.src=k})}destroy(){this.frame.parentNode.removeChild(this.frame)}}he(f,"debug",!1),he(f,"Model");class ce{constructor(k){he(this,"child");he(this,"model");he(this,"parent");he(this,"parentOrigin");this.child=window,this.model=k,this.parent=this.child.parent}sendHandshakeReply(){return new Promise((k,v)=>{const I=z=>{if(z.data.postmate){if(z.data.postmate==="handshake"){this.child.removeEventListener("message",I,!1),z.source.postMessage({postmate:"handshake-reply",type:jn},z.origin),this.parentOrigin=z.origin;const q=z.data.model;return q&&Object.keys(q).forEach(K=>{this.model[K]=q[K]}),k(new Dn(this))}return v("Handshake Reply Failed")}};this.child.addEventListener("message",I,!1)})}}var br=o(729),Ur=o.n(br);const{importHTML:vn,createSandboxContainer:no}=window.QSandbox||{};function V(C,k){return C.startsWith("http")?fetch(C,k):(C=C.replace("file://",""),new Promise(async(v,I)=>{try{const z=await window.apis.doAction(["readFile",C]);v({text:()=>z})}catch(z){console.error(z),I(z)}}))}class Q extends Ur(){constructor(v){super();he(this,"_pluginLocal");he(this,"_frame");he(this,"_root");he(this,"_loaded",!1);he(this,"_unmountFns",[]);this._pluginLocal=v,v._dispose(()=>{this._unmount()})}async load(){const{name:v,entry:I}=this._pluginLocal.options;if(this.loaded||!I)return;const{template:z,execScripts:q}=await vn(I,{fetch:V});this._mount(z,document.body);const K=no(v,{elementGetter:()=>{var re;return(re=this._root)==null?void 0:re.firstChild}}).instance.proxy;K.__shadow_mode__=!0,K.LSPluginLocal=this._pluginLocal,K.LSPluginShadow=this,K.LSPluginUser=K.logseq=new ze(this._pluginLocal.toJSON(),this._pluginLocal.caller);const ee=await q(K,!0);this._unmountFns.push(ee.unmount),this._loaded=!0}_mount(v,I){const z=this._frame=document.createElement("div");z.classList.add("lsp-shadow-sandbox"),z.id=this._pluginLocal.id,this._root=z.attachShadow({mode:"open"}),this._root.innerHTML=`<div>${v}</div>`,I.appendChild(z),this.emit("mounted")}_unmount(){for(const v of this._unmountFns)v&&v.call(null)}destroy(){var v,I;(I=(v=this.frame)==null?void 0:v.parentNode)==null||I.removeChild(this.frame)}get loaded(){return this._loaded}get document(){var v;return(v=this._root)==null?void 0:v.firstChild}get frame(){return this._frame}}const Wt=to()("LSPlugin:caller"),it="#await#response#",mt="#lspmsg#error#",wn=C=>`#lspmsg#${C}`;class X extends Ur(){constructor(v){super();he(this,"_pluginLocal");he(this,"_connected",!1);he(this,"_parent");he(this,"_child");he(this,"_shadow");he(this,"_status");he(this,"_userModel",{});he(this,"_call");he(this,"_callUserModel");he(this,"_debugTag","");this._pluginLocal=v,v&&(this._debugTag=v.debugTag)}async connectToChild(){if(this._connected)return;const{shadow:v}=this._pluginLocal;v?await this._setupShadowSandbox():await this._setupIframeSandbox()}async connectToParent(v={}){var ot;if(this._connected)return;const I=this,z=this._pluginLocal!=null;let q=0;const K=new Map,ee=Ln(6e4),re=this._extendUserModel({"#lspmsg#ready#":async Ee=>{re[wn(Ee==null?void 0:Ee.pid)]=({type:pe,payload:$e})=>{Wt(`[host (_call) -> *user] ${this._debugTag}`,pe,$e),I.emit(pe,$e)},await ee.resolve()},"#lspmsg#beforeunload#":async Ee=>{const pe=Ln(1e4);I.emit("beforeunload",Object.assign({actor:pe},Ee)),await pe.promise},"#lspmsg#settings#":async({type:Ee,payload:pe})=>{I.emit("settings:changed",pe)},"#lspmsg#":async({ns:Ee,type:pe,payload:$e})=>{Wt(`[host (async) -> *user] ${this._debugTag} ns=${Ee} type=${pe}`,$e),Ee&&Ee.startsWith("hook")?I.emit(`${Ee}:${pe}`,$e):I.emit(pe,$e)},"#lspmsg#reply#":({_sync:Ee,result:pe})=>{if(Wt(`[sync host -> *user] #${Ee}`,pe),K.has(Ee)){const $e=K.get(Ee);$e&&(pe!=null&&pe.hasOwnProperty(mt)?$e.reject(pe[mt]):$e.resolve(pe),K.delete(Ee))}},...v});if(z)return await ee.promise,JSON.parse(JSON.stringify((ot=this._pluginLocal)==null?void 0:ot.toJSON()));const ie=new ce(re).sendHandshakeReply();return this._status="pending",await ie.then(Ee=>{this._child=Ee,this._connected=!0,this._call=async(pe,$e={},Te)=>{if(Te){const Ze=++q;K.set(Ze,Te),$e._sync=Ze,Te.setTag(`async call #${Ze}`),Wt(`async call #${Ze}`)}return Ee.emit(wn(re.baseInfo.id),{type:pe,payload:$e}),Te==null?void 0:Te.promise},this._callUserModel=async(pe,$e)=>{try{re[pe]($e)}catch{Wt(`[model method] #${pe} not existed`)}},setInterval(()=>{if(K.size>100)for(const[pe,$e]of K)$e.settled&&K.delete(pe)},18e5)}).finally(()=>{this._status=void 0}),await ee.promise,re.baseInfo}async call(v,I={}){var z;return(z=this._call)==null?void 0:z.call(this,v,I)}async callAsync(v,I={}){var q;const z=Ln(1e4);return(q=this._call)==null?void 0:q.call(this,v,I,z)}async callUserModel(v,I={}){var z;return(z=this._callUserModel)==null?void 0:z.call(this,v,I)}async _setupIframeSandbox(){var Ee;const v=this._pluginLocal,I=v.id,z=`${I}_lsp_main`,q=new URL(v.options.entry);q.searchParams.set("__v__",v.options.version);const K=document.querySelector(`#${z}`);K&&K.parentElement.removeChild(K);const ee=document.createElement("div");ee.classList.add("lsp-iframe-sandbox-container"),ee.id=z,ee.dataset.pid=I;try{const pe=(Ee=await this._pluginLocal._loadLayoutsData())==null?void 0:Ee.$$0;if(pe){ee.dataset.inited_layout="true";const{width:$e,height:Te,left:Ze,top:qe}=pe;Object.assign(ee.style,{width:$e+"px",height:Te+"px",left:Ze+"px",top:qe+"px"})}}catch(pe){console.error("[Restore Layout Error]",pe)}document.body.appendChild(ee);const re=new f({id:I+"_iframe",container:ee,url:q.href,classListArray:["lsp-iframe-sandbox"],model:{baseInfo:JSON.parse(JSON.stringify(v.toJSON()))}});let ie,ot=re.sendHandshake();return this._status="pending",new Promise((pe,$e)=>{ie=setTimeout(()=>{$e(new Error("handshake Timeout")),re.destroy()},4e3),ot.then(Te=>{this._parent=Te,this._connected=!0,this.emit("connected"),Te.on(wn(v.id),({type:Ze,payload:qe})=>{var gt;Wt("[user -> *host] ",Ze,qe),(gt=this._pluginLocal)==null||gt.emit(Ze,qe||{})}),this._call=async(...Ze)=>{await Te.call(wn(v.id),{type:Ze[0],payload:Object.assign(Ze[1]||{},{$$pid:v.id})})},this._callUserModel=async(Ze,qe)=>{if(Ze.startsWith(it))return await Te.get(Ze.replace(it,""));Te.call(Ze,qe)},pe(null)}).catch(Te=>{$e(Te)}).finally(()=>{clearTimeout(ie)})}).catch(pe=>{throw Wt("[iframe sandbox] error",pe),pe}).finally(()=>{this._status=void 0})}async _setupShadowSandbox(){const v=this._pluginLocal,I=this._shadow=new Q(v);try{this._status="pending",await I.load(),this._connected=!0,this.emit("connected"),this._call=async(z,q={},K)=>{var ee;return K&&(q.actor=K),(ee=this._pluginLocal)==null||ee.emit(z,Object.assign(q,{$$pid:v.id})),K==null?void 0:K.promise},this._callUserModel=async(...z)=>{let q=z[0];q!=null&&q.startsWith(it)&&(q=q.replace(it,""));const K=z[1]||{},ee=this._userModel[q];typeof ee=="function"&&await ee.call(null,K)}}catch(z){throw Wt("[shadow sandbox] error",z),z}finally{this._status=void 0}}_extendUserModel(v){return Object.assign(this._userModel,v)}_getSandboxIframeContainer(){var v;return(v=this._parent)==null?void 0:v.frame.parentNode}_getSandboxShadowContainer(){var v;return(v=this._shadow)==null?void 0:v.frame.parentNode}_getSandboxIframeRoot(){var v;return(v=this._parent)==null?void 0:v.frame}_getSandboxShadowRoot(){var v;return(v=this._shadow)==null?void 0:v.frame}set debugTag(v){this._debugTag=v}async destroy(){let v=null;this._parent&&(v=this._getSandboxIframeContainer(),await this._parent.destroy()),this._shadow&&(v=this._getSandboxShadowContainer(),this._shadow.destroy()),v==null||v.parentNode.removeChild(v)}}class zo{constructor(k,v){he(this,"ctx");he(this,"opts");this.ctx=k,this.opts=v}get ctxId(){return this.ctx.baseInfo.id}setItem(k,v){var I;return this.ctx.caller.callAsync("api:call",{method:"write-plugin-storage-file",args:[this.ctxId,k,v,(I=this.opts)==null?void 0:I.assets]})}getItem(k){var v;return this.ctx.caller.callAsync("api:call",{method:"read-plugin-storage-file",args:[this.ctxId,k,(v=this.opts)==null?void 0:v.assets]})}removeItem(k){var v;return this.ctx.caller.call("api:call",{method:"unlink-plugin-storage-file",args:[this.ctxId,k,(v=this.opts)==null?void 0:v.assets]})}allKeys(){var k;return this.ctx.caller.callAsync("api:call",{method:"list-plugin-storage-files",args:[this.ctxId,(k=this.opts)==null?void 0:k.assets]})}clear(){var k;return this.ctx.caller.call("api:call",{method:"clear-plugin-storage-files",args:[this.ctxId,(k=this.opts)==null?void 0:k.assets]})}hasItem(k){var v;return this.ctx.caller.callAsync("api:call",{method:"exist-plugin-storage-file",args:[this.ctxId,k,(v=this.opts)==null?void 0:v.assets]})}}class nn{constructor(k){he(this,"ctx");this.ctx=k}get React(){return this.ensureHostScope().React}get ReactDOM(){return this.ensureHostScope().ReactDOM}get pluginLocal(){return this.ensureHostScope().LSPluginCore.ensurePlugin(this.ctx.baseInfo.id)}invokeExperMethod(k,...v){var z,q;const I=this.ensureHostScope();return k=(z=wr(k))==null?void 0:z.toLowerCase(),(q=I.logseq.api["exper_"+k])==null?void 0:q.apply(I,v)}async loadScripts(...k){(k=k.map(v=>v!=null&&v.startsWith("http")?v:this.ctx.resolveResourceFullUrl(v))).unshift(this.ctx.baseInfo.id),await this.invokeExperMethod("loadScripts",...k)}registerFencedCodeRenderer(k,v){return this.ensureHostScope().logseq.api.exper_register_fenced_code_renderer(this.ctx.baseInfo.id,k,v)}registerExtensionsEnhancer(k,v){const I=this.ensureHostScope();return k==="katex"&&I.katex&&v(I.katex).catch(console.error),I.logseq.api.exper_register_extensions_enhancer(this.ctx.baseInfo.id,k,v)}ensureHostScope(){if(window===top)throw new Error("Can not access host scope!");return top}}const pi=C=>`task_callback_${C}`;class Bo{constructor(k,v,I={}){he(this,"_client");he(this,"_requestId");he(this,"_requestOptions");he(this,"_promise");he(this,"_aborted",!1);this._client=k,this._requestId=v,this._requestOptions=I,this._promise=new Promise((ee,re)=>{if(!this._requestId)return re(null);this._client.once(pi(this._requestId),ie=>{ie&&ie instanceof Error?re(ie):ee(ie)})});const{success:z,fail:q,final:K}=this._requestOptions;this._promise.then(ee=>{z==null||z(ee)}).catch(ee=>{q==null||q(ee)}).finally(()=>{K==null||K()})}abort(){this._requestOptions.abortable&&!this._aborted&&(this._client.ctx._execCallableAPI("http_request_abort",this._requestId),this._aborted=!0)}get promise(){return this._promise}get client(){return this._client}get requestId(){return this._requestId}}class Yn extends br.EventEmitter{constructor(v){super();he(this,"_ctx");this._ctx=v,this.ctx.caller.on("#lsp#request#callback",I=>{const z=I==null?void 0:I.requestId;z&&this.emit(pi(z),I==null?void 0:I.payload)})}static createRequestTask(v,I,z){return new Bo(v,I,z)}async _request(v){const I=this.ctx.baseInfo.id,{success:z,fail:q,final:K,...ee}=v,re=this.ctx.Experiments.invokeExperMethod("request",I,ee),ie=Yn.createRequestTask(this.ctx.Request,re,v);return ee.abortable?ie:ie.promise}get ctx(){return this._ctx}}const zs=Symbol.for("proxy-continue"),Hr=to()("LSPlugin:user");function Et(C,k,v){var ot;if(typeof v!="function")return!1;const{key:I,label:z,desc:q,palette:K,keybinding:ee,extras:re}=k,ie=`SimpleCommandHook${I}${++io}`;this.Editor["on"+ie](v),(ot=this.caller)==null||ot.call("api:call",{method:"register-plugin-simple-command",args:[this.baseInfo.id,[{key:I,label:z,type:C,desc:q,keybinding:ee,extras:re},["editor/hook",ie]],K]})}let Er=null;const ro={async getInfo(C){return Er||(Er=await this._execCallableAPIAsync("get-app-info")),typeof C=="string"?Er[C]:Er},registerCommand:Et,registerCommandPalette(C,k){const{key:v,label:I,keybinding:z}=C;return Et.call(this,"$palette$",{key:v,label:I,palette:!0,keybinding:z},k)},registerCommandShortcut(C,k){const{binding:v}=C,I="$shortcut$",z=I+wr(v);return Et.call(this,I,{key:z,palette:!1,keybinding:C},k)},registerUIItem(C,k){var I;const v=this.baseInfo.id;(I=this.caller)==null||I.call("api:call",{method:"register-plugin-ui-item",args:[v,C,k]})},registerPageMenuItem(C,k){if(typeof k!="function")return!1;const v=C+"_"+this.baseInfo.id,I=C;Et.call(this,"page-menu-item",{key:v,label:I},k)},setFullScreen(C){const k=(...v)=>this._callWin("setFullScreen",...v);C==="toggle"?this._callWin("isFullScreen").then(v=>{v?k():k(!0)}):C?k(!0):k()}};let io=0;const Cr={newBlockUUID(){return this._execCallableAPIAsync("new_block_uuid")},registerSlashCommand(C,k){var v;Hr("Register slash command #",this.baseInfo.id,C,k),typeof k=="function"&&(k=[["editor/clear-current-slash",!1],["editor/restore-saved-cursor"],["editor/hook",k]]),k=k.map(I=>{const[z,...q]=I;if(z==="editor/hook"){let K=q[0],ee=()=>{var ie;(ie=this.caller)==null||ie.callUserModel(K)};typeof K=="function"&&(ee=K);const re=`SlashCommandHook${z}${++io}`;I[1]=re,this.Editor["on"+re](ee)}return I}),(v=this.caller)==null||v.call("api:call",{method:"register-plugin-slash-command",args:[this.baseInfo.id,[C,k]]})},registerBlockContextMenuItem(C,k){if(typeof k!="function")return!1;const v=C+"_"+this.baseInfo.id;Et.call(this,"block-context-menu-item",{key:v,label:C},k)},registerHighlightContextMenuItem(C,k,v){if(typeof k!="function")return!1;const I=C+"_"+this.baseInfo.id;Et.call(this,"highlight-context-menu-item",{key:I,label:C,extras:v},k)},scrollToBlockInPage(C,k,v){const I="block-content-"+k;v!=null&&v.replaceState?this.App.replaceState("page",{name:C},{anchor:I}):this.App.pushState("page",{name:C},{anchor:I})}},oo={onBlockChanged(C,k){const v=this.baseInfo.id,I=`hook:db:${wr(`block:${C}`)}`,z=({block:q,txData:K,txMeta:ee})=>{q.uuid===C&&k(q,K,ee)};return this.caller.on(I,z),this.App._installPluginHook(v,I),()=>{this.caller.off(I,z),this.App._uninstallPluginHook(v,I)}}},R={},oe={},te={makeSandboxStorage(){return new zo(this,{assets:!0})}};class ze extends Ur(){constructor(v,I){super();he(this,"_baseInfo");he(this,"_caller");he(this,"_version","0.0.10");he(this,"_debugTag","");he(this,"_settingsSchema");he(this,"_connected",!1);he(this,"_ui",new Map);he(this,"_mFileStorage");he(this,"_mRequest");he(this,"_mExperiments");he(this,"_beforeunloadCallback");this._baseInfo=v,this._caller=I,I.on("sys:ui:visible",z=>{z!=null&&z.toggle&&this.toggleMainUI()}),I.on("settings:changed",z=>{const q=Object.assign({},this.settings),K=Object.assign(this._baseInfo.settings,z);this.emit("settings:changed",{...K},q)}),I.on("beforeunload",async z=>{const{actor:q,...K}=z,ee=this._beforeunloadCallback;try{ee&&await ee(K),q==null||q.resolve(null)}catch(re){console.debug(`${I.debugTag} [beforeunload] `,re),q==null||q.reject(re)}})}async ready(v,I){if(!this._connected)try{typeof v=="function"&&(I=v,v={});let z=await this._caller.connectToParent(v);this._connected=!0,z=_r(this._baseInfo,z),this._settingsSchema&&(z.settings=function(q,K){const ee=(K||[]).reduce((re,ie)=>("default"in ie&&(re[ie.key]=ie.default),re),{});return Object.assign(ee,q)}(z.settings,this._settingsSchema),await this.useSettingsSchema(this._settingsSchema)),z!=null&&z.id&&(this._debugTag=this._caller.debugTag=`#${z.id} [${z.name}]`);try{await this._execCallableAPIAsync("setSDKMetadata",{version:this._version})}catch(q){console.warn(q)}I&&I.call(this,z)}catch(z){console.error(`${this._debugTag} [Ready Error]`,z)}}ensureConnected(){if(!this._connected)throw new Error("not connected")}beforeunload(v){typeof v=="function"&&(this._beforeunloadCallback=v)}provideModel(v){return this.caller._extendUserModel(v),this}provideTheme(v){return this.caller.call("provider:theme",v),this}provideStyle(v){return this.caller.call("provider:style",v),this}provideUI(v){return this.caller.call("provider:ui",v),this}useSettingsSchema(v){return this.connected&&this.caller.call("settings:schema",{schema:v,isSync:!0}),this._settingsSchema=v,this}updateSettings(v){this.caller.call("settings:update",v)}onSettingsChanged(v){const I="settings:changed";return this.on(I,v),()=>this.off(I,v)}showSettingsUI(){this.caller.call("settings:visible:changed",{visible:!0})}hideSettingsUI(){this.caller.call("settings:visible:changed",{visible:!1})}setMainUIAttrs(v){this.caller.call("main-ui:attrs",v)}setMainUIInlineStyle(v){this.caller.call("main-ui:style",v)}hideMainUI(v){const I={key:0,visible:!1,cursor:v==null?void 0:v.restoreEditingCursor};this.caller.call("main-ui:visible",I),this.emit("ui:visible:changed",I),this._ui.set(I.key,I)}showMainUI(v){const I={key:0,visible:!0,autoFocus:v==null?void 0:v.autoFocus};this.caller.call("main-ui:visible",I),this.emit("ui:visible:changed",I),this._ui.set(I.key,I)}toggleMainUI(){const v=this._ui.get(0);v&&v.visible?this.hideMainUI():this.showMainUI()}get version(){return this._version}get isMainUIVisible(){const v=this._ui.get(0);return!!(v&&v.visible)}get connected(){return this._connected}get baseInfo(){return this._baseInfo}get settings(){var v;return(v=this.baseInfo)==null?void 0:v.settings}get caller(){return this._caller}resolveResourceFullUrl(v){if(this.ensureConnected(),v)return v=v.replace(/^[.\\/]+/,""),function(I,...z){try{const q=new URL(I);if(!q.origin)throw new Error(null);const K=Zi.join(I.substr(q.origin.length),...z);return q.origin+K}catch{return Zi.join(I,...z)}}(this._baseInfo.lsr,v)}_makeUserProxy(v,I){const z=this,q=this.caller;return new Proxy(v,{get(K,ee,re){const ie=K[ee];return function(...ot){if(ie){const pe=ie.apply(z,ot.concat(I));if(pe!==zs)return pe}if(I){const pe=ee.toString().match(/^(once|off|on)/i);if(pe!=null){const $e=pe[0].toLowerCase(),Te=pe.input.slice($e.length),Ze=$e==="off",qe=z.baseInfo.id,gt=`hook:${I}:${wr(Te)}`,Ft=ot[0];q[$e](gt,Ft);const kr=()=>{q.off(gt,Ft),q.listenerCount(gt)||z.App._uninstallPluginHook(qe,gt)};return Ze?void kr():(z.App._installPluginHook(qe,gt),kr)}}let Ee=ee;return["git","ui","assets"].includes(I)&&(Ee=I+"_"+Ee),q.callAsync("api:call",{tag:I,method:Ee,args:ot})}}})}_execCallableAPIAsync(v,...I){return this._caller.callAsync("api:call",{method:v,args:I})}_execCallableAPI(v,...I){this._caller.call("api:call",{method:v,args:I})}_callWin(...v){return this._execCallableAPIAsync("_callMainWin",...v)}get App(){return this._makeUserProxy(ro,"app")}get Editor(){return this._makeUserProxy(Cr,"editor")}get DB(){return this._makeUserProxy(oo,"db")}get Git(){return this._makeUserProxy(R,"git")}get UI(){return this._makeUserProxy(oe,"ui")}get Assets(){return this._makeUserProxy(te,"assets")}get FileStorage(){let v=this._mFileStorage;return v||(v=this._mFileStorage=new zo(this)),v}get Request(){let v=this._mRequest;return v||(v=this._mRequest=new Yn(this)),v}get Experiments(){let v=this._mExperiments;return v||(v=this._mExperiments=new nn(this)),v}}function et(C,k){return new ze(C,k)}if(window.__LSP__HOST__==null){const C=new X(null);window.logseq=et({},C)}})(),i})())})(Qa,Qa.exports);Qa.exports;const Ko="4.67.3";let Bp=!1,cl,Xg,Yg,Of,Zg,ey,ty,ny,ry;function h1(e,t={auto:!1}){if(Bp)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(cl)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${cl}'\``);Bp=t.auto,cl=e.kind,Xg=e.fetch,e.Request,e.Response,e.Headers,Yg=e.FormData,e.Blob,Of=e.File,Zg=e.ReadableStream,ey=e.getMultipartRequestOptions,ty=e.getDefaultAgent,ny=e.fileFromPath,ry=e.isFsReadStream}class p1{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function m1({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,o,i;try{n=fetch,r=Request,o=Response,i=Headers}catch(s){throw new Error(`this environment is missing the following Web Fetch API type: ${s.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:o,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(s,l)=>({...l,body:new p1(s)}),getDefaultAgent:s=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:s=>!1}}cl||h1(m1(),{auto:!0});class xo{constructor(){this.buffer=[],this.trailingCR=!1}decode(t){let n=this.decodeText(t);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=xo.NEWLINE_CHARS.has(n[n.length-1]||"");let o=n.split(xo.NEWLINE_REGEXP);return r&&o.pop(),o.length===1&&!r?(this.buffer.push(o[0]),[]):(this.buffer.length>0&&(o=[this.buffer.join("")+o[0],...o.slice(1)],this.buffer=[]),r||(this.buffer=[o.pop()||""]),o)}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new je(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new je(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new je("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const t=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,t}}xo.NEWLINE_CHARS=new Set([`
`,"\r"]);xo.NEWLINE_REGEXP=/\r\n|[\n\r]/g;class Mr{constructor(t,n){this.iterator=t,this.controller=n}static fromSSEResponse(t,n){let r=!1;async function*o(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let i=!1;try{for await(const s of g1(t,n))if(!i){if(s.data.startsWith("[DONE]")){i=!0;continue}if(s.event===null){let l;try{l=JSON.parse(s.data)}catch(c){throw console.error("Could not parse message into JSON:",s.data),console.error("From chunk:",s.raw),c}if(l&&l.error)throw new Bt(void 0,l.error,void 0,void 0);yield l}else{let l;try{l=JSON.parse(s.data)}catch(c){throw console.error("Could not parse message into JSON:",s.data),console.error("From chunk:",s.raw),c}if(s.event=="error")throw new Bt(void 0,l.error,l.message,void 0);yield{event:s.event,data:l}}}i=!0}catch(s){if(s instanceof Error&&s.name==="AbortError")return;throw s}finally{i||n.abort()}}return new Mr(o,n)}static fromReadableStream(t,n){let r=!1;async function*o(){const s=new xo,l=iy(t);for await(const c of l)for(const a of s.decode(c))yield a;for(const c of s.flush())yield c}async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{for await(const l of o())s||l&&(yield JSON.parse(l));s=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{s||n.abort()}}return new Mr(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),o=i=>({next:()=>{if(i.length===0){const s=r.next();t.push(s),n.push(s)}return i.shift()}});return[new Mr(()=>o(t),this.controller),new Mr(()=>o(n),this.controller)]}toReadableStream(){const t=this;let n;const r=new TextEncoder;return new Zg({async start(){n=t[Symbol.asyncIterator]()},async pull(o){try{const{value:i,done:s}=await n.next();if(s)return o.close();const l=r.encode(JSON.stringify(i)+`
`);o.enqueue(l)}catch(i){o.error(i)}},async cancel(){var o;await((o=n.return)==null?void 0:o.call(n))}})}}async function*g1(e,t){if(!e.body)throw t.abort(),new je("Attempted to iterate over a response with no body");const n=new w1,r=new xo,o=iy(e.body);for await(const i of y1(o))for(const s of r.decode(i)){const l=n.decode(s);l&&(yield l)}for(const i of r.flush()){const s=n.decode(i);s&&(yield s)}}async function*y1(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let o=new Uint8Array(t.length+r.length);o.set(t),o.set(r,t.length),t=o;let i;for(;(i=v1(t))!==-1;)yield t.slice(0,i),t=t.slice(i)}t.length>0&&(yield t)}function v1(e){for(let r=0;r<e.length-2;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}class w1{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,o]=_1(t,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function _1(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}function iy(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const oy=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",sy=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&lc(e),lc=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",x1=e=>sy(e)||oy(e)||ry(e);async function ly(e,t,n){var o;if(e=await e,sy(e))return e;if(oy(e)){const i=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const s=lc(i)?[await i.arrayBuffer()]:[i];return new Of(s,t,n)}const r=await S1(e);if(t||(t=E1(e)??"unknown_file"),!(n!=null&&n.type)){const i=(o=r[0])==null?void 0:o.type;typeof i=="string"&&(n={...n,type:i})}return new Of(r,t,n)}async function S1(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(lc(e))t.push(await e.arrayBuffer());else if(C1(e))for await(const r of e)t.push(r);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(n=e==null?void 0:e.constructor)==null?void 0:n.name}; props: ${b1(e)}`);return t}function b1(e){return`[${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}function E1(e){var t;return Mc(e.name)||Mc(e.filename)||((t=Mc(e.path))==null?void 0:t.split(/[\\/]/).pop())}const Mc=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},C1=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",Up=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",ys=async e=>{const t=await k1(e.body);return ey(t,e)},k1=async e=>{const t=new Yg;return await Promise.all(Object.entries(e||{}).map(([n,r])=>Tf(t,n,r))),t},Tf=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(x1(n)){const r=await ly(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>Tf(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,o])=>Tf(e,`${t}[${r}]`,o)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var P1=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(e,n):o?o.value=n:t.set(e,n),n},A1=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},ia;async function ay(e){const{response:t}=e;if(e.options.stream)return as("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):Mr.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const i=await t.json();return as("response",t.status,t.url,t.headers,i),uy(i,t)}const o=await t.text();return as("response",t.status,t.url,t.headers,o),o}function uy(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class ac extends Promise{constructor(t,n=ay){super(r=>{r(null)}),this.responsePromise=t,this.parseResponse=n}_thenUnwrap(t){return new ac(this.responsePromise,async n=>uy(t(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class O1{constructor({baseURL:t,maxRetries:n=2,timeout:r=6e5,httpAgent:o,fetch:i}){this.baseURL=t,this.maxRetries=Nc("maxRetries",n),this.timeout=Nc("timeout",r),this.httpAgent=o,this.fetch=i??Xg}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...N1(),...this.authHeaders(t)}}validateHeaders(t,n){}defaultIdempotencyKey(){return`stainless-node-retry-${D1()}`}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(async o=>{const i=o&&lc(o==null?void 0:o.body)?new DataView(await o.body.arrayBuffer()):(o==null?void 0:o.body)instanceof DataView?o.body:(o==null?void 0:o.body)instanceof ArrayBuffer?new DataView(o.body):o&&ArrayBuffer.isView(o==null?void 0:o.body)?new DataView(o.body.buffer):o==null?void 0:o.body;return{method:t,path:n,...o,body:i}}))}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:n=0}={}){var E;const{method:r,path:o,query:i,headers:s={}}=t,l=ArrayBuffer.isView(t.body)||t.__binaryRequest&&typeof t.body=="string"?t.body:Up(t.body)?t.body.body:t.body?JSON.stringify(t.body,null,2):null,c=this.calculateContentLength(l),a=this.buildURL(o,i);"timeout"in t&&Nc("timeout",t.timeout);const h=t.timeout??this.timeout,m=t.httpAgent??this.httpAgent??ty(a),_=h+1e3;typeof((E=m==null?void 0:m.options)==null?void 0:E.timeout)=="number"&&_>(m.options.timeout??0)&&(m.options.timeout=_),this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=t.idempotencyKey);const p=this.buildHeaders({options:t,headers:s,contentLength:c,retryCount:n});return{req:{method:r,...l&&{body:l},headers:p,...m&&{agent:m},signal:t.signal??null},url:a,timeout:h}}buildHeaders({options:t,headers:n,contentLength:r,retryCount:o}){const i={};r&&(i["content-length"]=r);const s=this.defaultHeaders(t);return Vp(i,s),Vp(i,n),Up(t.body)&&cl!=="node"&&delete i["content-type"],U1(n,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(o)),this.validateHeaders(i,n),i}async prepareOptions(t){}async prepareRequest(t,{url:n,options:r}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(n=>[...n])):{...t}:{}}makeStatusError(t,n,r,o){return Bt.generate(t,n,r,o)}request(t,n=null){return new ac(this.makeRequest(t,n))}async makeRequest(t,n){var m,_;const r=await t,o=r.maxRetries??this.maxRetries;n==null&&(n=o),await this.prepareOptions(r);const{req:i,url:s,timeout:l}=this.buildRequest(r,{retryCount:o-n});if(await this.prepareRequest(i,{url:s,options:r}),as("request",s,r,i.headers),(m=r.signal)!=null&&m.aborted)throw new sr;const c=new AbortController,a=await this.fetchWithTimeout(s,i,l,c).catch(If);if(a instanceof Error){if((_=r.signal)!=null&&_.aborted)throw new sr;if(n)return this.retryRequest(r,n);throw a.name==="AbortError"?new sh:new uc({cause:a})}const h=I1(a.headers);if(!a.ok){if(n&&this.shouldRetry(a)){const g=`retrying, ${n} attempts remaining`;return as(`response (error; ${g})`,a.status,s,h),this.retryRequest(r,n,h)}const p=await a.text().catch(g=>If(g).message),x=F1(p),E=x?void 0:p;throw as(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,a.status,s,h,E),this.makeStatusError(a.status,x,E,h)}return{response:a,options:r,controller:c}}requestAPIList(t,n){const r=this.makeRequest(n,null);return new T1(this,r,t)}buildURL(t,n){const r=j1(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),o=this.defaultQuery();return fy(o)||(n={...o,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new je(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,n,r,o){const{signal:i,...s}=n||{};i&&i.addEventListener("abort",()=>o.abort());const l=setTimeout(()=>o.abort(),r);return this.getRequestClient().fetch.call(void 0,t,{signal:o.signal,...s}).finally(()=>{clearTimeout(l)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r){let o;const i=r==null?void 0:r["retry-after-ms"];if(i){const l=parseFloat(i);Number.isNaN(l)||(o=l)}const s=r==null?void 0:r["retry-after"];if(s&&!o){const l=parseFloat(s);Number.isNaN(l)?o=Date.parse(s)-Date.now():o=l*1e3}if(!(o&&0<=o&&o<60*1e3)){const l=t.maxRetries??this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,l)}return await Ql(o),this.makeRequest(t,n-1)}calculateDefaultRetryTimeoutMillis(t,n){const i=n-t,s=Math.min(.5*Math.pow(2,i),8),l=1-Math.random()*.25;return s*l*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Ko}`}}class cy{constructor(t,n,r,o){ia.set(this,void 0),P1(this,ia,t,"f"),this.options=o,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new je("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in t&&typeof n.query=="object")n.query={...n.query,...t.params};else if("url"in t){const r=[...Object.entries(n.query||{}),...t.url.searchParams.entries()];for(const[o,i]of r)t.url.searchParams.set(o,i);n.query=void 0,n.path=t.url.toString()}return await A1(this,ia,"f").requestAPIList(this.constructor,n)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(ia=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}class T1 extends ac{constructor(t,n,r){super(n,async o=>new r(t,o.response,await ay(o),o.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}const I1=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,n){const r=n.toString();return t[r.toLowerCase()]||t[r]}}),$1={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},dn=e=>typeof e=="object"&&e!==null&&!fy(e)&&Object.keys(e).every(t=>dy($1,t)),R1=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ko,"X-Stainless-OS":Wp(Deno.build.os),"X-Stainless-Arch":Hp(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ko,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ko,"X-Stainless-OS":Wp(process.platform),"X-Stainless-Arch":Hp(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=M1();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ko,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ko,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function M1(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const o=r[1]||0,i=r[2]||0,s=r[3]||0;return{browser:t,version:`${o}.${i}.${s}`}}}return null}const Hp=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Wp=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let qp;const N1=()=>qp??(qp=R1()),F1=e=>{try{return JSON.parse(e)}catch{return}},L1=new RegExp("^(?:[a-z]+:)?//","i"),j1=e=>L1.test(e),Ql=e=>new Promise(t=>setTimeout(t,e)),Nc=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new je(`${e} must be an integer`);if(t<0)throw new je(`${e} must be a positive integer`);return t},If=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},oa=e=>{var t,n,r,o,i;if(typeof process<"u")return((n=(t=process.env)==null?void 0:t[e])==null?void 0:n.trim())??void 0;if(typeof Deno<"u")return(i=(o=(r=Deno.env)==null?void 0:r.get)==null?void 0:o.call(r,e))==null?void 0:i.trim()};function fy(e){if(!e)return!0;for(const t in e)return!1;return!0}function dy(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Vp(e,t){for(const n in t){if(!dy(t,n))continue;const r=n.toLowerCase();if(!r)continue;const o=t[n];o===null?delete e[r]:o!==void 0&&(e[r]=o)}}function as(e,...t){var n;typeof process<"u"&&((n=process==null?void 0:process.env)==null?void 0:n.DEBUG)==="true"&&console.log(`OpenAI:DEBUG:${e}`,...t)}const D1=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),z1=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",B1=e=>typeof(e==null?void 0:e.get)=="function",U1=(e,t)=>{var r;const n=t.toLowerCase();if(B1(e)){const o=((r=t[0])==null?void 0:r.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(i,s,l)=>s+l.toUpperCase());for(const i of[t,n,t.toUpperCase(),o]){const s=e.get(i);if(s)return s}}for(const[o,i]of Object.entries(e))if(o.toLowerCase()===n)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${t} header, using the first entry.`),i[0]):i};function Fc(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}class je extends Error{}class Bt extends je{constructor(t,n,r,o){super(`${Bt.makeMessage(t,n,r)}`),this.status=t,this.headers=o,this.request_id=o==null?void 0:o["x-request-id"];const i=n;this.error=i,this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(t,n,r){const o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&o?`${t} ${o}`:t?`${t} status code (no body)`:o||"(no status code or body)"}static generate(t,n,r,o){if(!t)return new uc({message:r,cause:If(n)});const i=n==null?void 0:n.error;return t===400?new hy(t,i,r,o):t===401?new py(t,i,r,o):t===403?new my(t,i,r,o):t===404?new gy(t,i,r,o):t===409?new yy(t,i,r,o):t===422?new vy(t,i,r,o):t===429?new wy(t,i,r,o):t>=500?new _y(t,i,r,o):new Bt(t,i,r,o)}}class sr extends Bt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0),this.status=void 0}}class uc extends Bt{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}}class sh extends uc{constructor({message:t}={}){super({message:t??"Request timed out."})}}class hy extends Bt{constructor(){super(...arguments),this.status=400}}class py extends Bt{constructor(){super(...arguments),this.status=401}}class my extends Bt{constructor(){super(...arguments),this.status=403}}class gy extends Bt{constructor(){super(...arguments),this.status=404}}class yy extends Bt{constructor(){super(...arguments),this.status=409}}class vy extends Bt{constructor(){super(...arguments),this.status=422}}class wy extends Bt{constructor(){super(...arguments),this.status=429}}class _y extends Bt{}class xy extends je{constructor(){super("Could not parse response content as the length limit was reached")}}class Sy extends je{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}const $f="RFC3986",Rf={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},H1="RFC1738",W1=Array.isArray,Pr=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),Lc=1024,q1=(e,t,n,r,o)=>{if(e.length===0)return e;let i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});let s="";for(let l=0;l<i.length;l+=Lc){const c=i.length>=Lc?i.slice(l,l+Lc):i,a=[];for(let h=0;h<c.length;++h){let m=c.charCodeAt(h);if(m===45||m===46||m===95||m===126||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122||o===H1&&(m===40||m===41)){a[a.length]=c.charAt(h);continue}if(m<128){a[a.length]=Pr[m];continue}if(m<2048){a[a.length]=Pr[192|m>>6]+Pr[128|m&63];continue}if(m<55296||m>=57344){a[a.length]=Pr[224|m>>12]+Pr[128|m>>6&63]+Pr[128|m&63];continue}h+=1,m=65536+((m&1023)<<10|c.charCodeAt(h)&1023),a[a.length]=Pr[240|m>>18]+Pr[128|m>>12&63]+Pr[128|m>>6&63]+Pr[128|m&63]}s+=a.join("")}return s};function V1(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function Kp(e,t){if(W1(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const K1=Object.prototype.hasOwnProperty,by={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},Tr=Array.isArray,Q1=Array.prototype.push,Ey=function(e,t){Q1.apply(e,Tr(t)?t:[t])},G1=Date.prototype.toISOString,kt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:q1,encodeValuesOnly:!1,format:$f,formatter:Rf[$f],indices:!1,serializeDate(e){return G1.call(e)},skipNulls:!1,strictNullHandling:!1};function J1(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const jc={};function Cy(e,t,n,r,o,i,s,l,c,a,h,m,_,p,x,E,A,w){let g=e,S=w,O=0,M=!1;for(;(S=S.get(jc))!==void 0&&!M;){const j=S.get(e);if(O+=1,typeof j<"u"){if(j===O)throw new RangeError("Cyclic object value");M=!0}typeof S.get(jc)>"u"&&(O=0)}if(typeof a=="function"?g=a(t,g):g instanceof Date?g=_==null?void 0:_(g):n==="comma"&&Tr(g)&&(g=Kp(g,function(j){return j instanceof Date?_==null?void 0:_(j):j})),g===null){if(i)return c&&!E?c(t,kt.encoder,A,"key",p):t;g=""}if(J1(g)||V1(g)){if(c){const j=E?t:c(t,kt.encoder,A,"key",p);return[(x==null?void 0:x(j))+"="+(x==null?void 0:x(c(g,kt.encoder,A,"value",p)))]}return[(x==null?void 0:x(t))+"="+(x==null?void 0:x(String(g)))]}const F=[];if(typeof g>"u")return F;let b;if(n==="comma"&&Tr(g))E&&c&&(g=Kp(g,c)),b=[{value:g.length>0?g.join(",")||null:void 0}];else if(Tr(a))b=a;else{const j=Object.keys(g);b=h?j.sort(h):j}const T=l?String(t).replace(/\./g,"%2E"):String(t),L=r&&Tr(g)&&g.length===1?T+"[]":T;if(o&&Tr(g)&&g.length===0)return L+"[]";for(let j=0;j<b.length;++j){const W=b[j],le=typeof W=="object"&&typeof W.value<"u"?W.value:g[W];if(s&&le===null)continue;const be=m&&l?W.replace(/\./g,"%2E"):W,ge=Tr(g)?typeof n=="function"?n(L,be):L:L+(m?"."+be:"["+be+"]");w.set(e,O);const G=new WeakMap;G.set(jc,w),Ey(F,Cy(le,ge,n,r,o,i,s,l,n==="comma"&&E&&Tr(g)?null:c,a,h,m,_,p,x,E,A,G))}return F}function X1(e=kt){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||kt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=$f;if(typeof e.format<"u"){if(!K1.call(Rf,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=Rf[n];let o=kt.filter;(typeof e.filter=="function"||Tr(e.filter))&&(o=e.filter);let i;if(e.arrayFormat&&e.arrayFormat in by?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=kt.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const s=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:kt.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:kt.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:kt.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:kt.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?kt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:kt.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:kt.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:kt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:kt.encodeValuesOnly,filter:o,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:kt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:kt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:kt.strictNullHandling}}function Y1(e,t={}){let n=e;const r=X1(t);let o,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):Tr(r.filter)&&(i=r.filter,o=i);const s=[];if(typeof n!="object"||n===null)return"";const l=by[r.arrayFormat],c=l==="comma"&&r.commaRoundTrip;o||(o=Object.keys(n)),r.sort&&o.sort(r.sort);const a=new WeakMap;for(let _=0;_<o.length;++_){const p=o[_];r.skipNulls&&n[p]===null||Ey(s,Cy(n[p],p,l,c,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,a))}const h=s.join(r.delimiter);let m=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),h.length>0?m+h:""}class lh extends cy{constructor(t,n,r,o){super(t,n,r,o),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class fr extends cy{constructor(t,n,r,o){super(t,n,r,o),this.data=r.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const n=Object.fromEntries(t.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const t=this.getPaginatedItems();if(!t.length)return null;const n=(r=t[t.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class Je{constructor(t){this._client=t}}let Ga=class extends Je{create(t,n){return this._client.post("/chat/completions",{body:t,...n,stream:t.stream??!1})}};Ga||(Ga={});let Ja=class extends Je{constructor(){super(...arguments),this.completions=new Ga(this._client)}};(function(e){e.Completions=Ga})(Ja||(Ja={}));class Xa extends Je{create(t,n){return this._client.post("/audio/speech",{body:t,...n,__binaryResponse:!0})}}Xa||(Xa={});class Ya extends Je{create(t,n){return this._client.post("/audio/transcriptions",ys({body:t,...n}))}}Ya||(Ya={});class Za extends Je{create(t,n){return this._client.post("/audio/translations",ys({body:t,...n}))}}Za||(Za={});class eu extends Je{constructor(){super(...arguments),this.transcriptions=new Ya(this._client),this.translations=new Za(this._client),this.speech=new Xa(this._client)}}(function(e){e.Transcriptions=Ya,e.Translations=Za,e.Speech=Xa})(eu||(eu={}));class tu extends Je{create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(`/batches/${t}`,n)}list(t={},n){return dn(t)?this.list({},t):this._client.getAPIList("/batches",ah,{query:t,...n})}cancel(t,n){return this._client.post(`/batches/${t}/cancel`,n)}}class ah extends fr{}(function(e){e.BatchesPage=ah})(tu||(tu={}));class nu extends Je{create(t,n){return this._client.post("/assistants",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/assistants/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return dn(t)?this.list({},t):this._client.getAPIList("/assistants",uh,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/assistants/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class uh extends fr{}(function(e){e.AssistantsPage=uh})(nu||(nu={}));function Qp(e){return typeof e.parse=="function"}const us=e=>(e==null?void 0:e.role)==="assistant",ky=e=>(e==null?void 0:e.role)==="function",Py=e=>(e==null?void 0:e.role)==="tool";var er=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(e,n):o?o.value=n:t.set(e,n),n},ct=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Mf,Ta,Ia,Ys,Zs,$a,el,qr,tl,ru,iu,Qo,Ay;class Oy{constructor(){Mf.add(this),this.controller=new AbortController,Ta.set(this,void 0),Ia.set(this,()=>{}),Ys.set(this,()=>{}),Zs.set(this,void 0),$a.set(this,()=>{}),el.set(this,()=>{}),qr.set(this,{}),tl.set(this,!1),ru.set(this,!1),iu.set(this,!1),Qo.set(this,!1),er(this,Ta,new Promise((t,n)=>{er(this,Ia,t,"f"),er(this,Ys,n,"f")}),"f"),er(this,Zs,new Promise((t,n)=>{er(this,$a,t,"f"),er(this,el,n,"f")}),"f"),ct(this,Ta,"f").catch(()=>{}),ct(this,Zs,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},ct(this,Mf,"m",Ay).bind(this))},0)}_connected(){this.ended||(ct(this,Ia,"f").call(this),this._emit("connect"))}get ended(){return ct(this,tl,"f")}get errored(){return ct(this,ru,"f")}get aborted(){return ct(this,iu,"f")}abort(){this.controller.abort()}on(t,n){return(ct(this,qr,"f")[t]||(ct(this,qr,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=ct(this,qr,"f")[t];if(!r)return this;const o=r.findIndex(i=>i.listener===n);return o>=0&&r.splice(o,1),this}once(t,n){return(ct(this,qr,"f")[t]||(ct(this,qr,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{er(this,Qo,!0,"f"),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){er(this,Qo,!0,"f"),await ct(this,Zs,"f")}_emit(t,...n){if(ct(this,tl,"f"))return;t==="end"&&(er(this,tl,!0,"f"),ct(this,$a,"f").call(this));const r=ct(this,qr,"f")[t];if(r&&(ct(this,qr,"f")[t]=r.filter(o=>!o.once),r.forEach(({listener:o})=>o(...n))),t==="abort"){const o=n[0];!ct(this,Qo,"f")&&!(r!=null&&r.length)&&Promise.reject(o),ct(this,Ys,"f").call(this,o),ct(this,el,"f").call(this,o),this._emit("end");return}if(t==="error"){const o=n[0];!ct(this,Qo,"f")&&!(r!=null&&r.length)&&Promise.reject(o),ct(this,Ys,"f").call(this,o),ct(this,el,"f").call(this,o),this._emit("end")}}_emitFinal(){}}Ta=new WeakMap,Ia=new WeakMap,Ys=new WeakMap,Zs=new WeakMap,$a=new WeakMap,el=new WeakMap,qr=new WeakMap,tl=new WeakMap,ru=new WeakMap,iu=new WeakMap,Qo=new WeakMap,Mf=new WeakSet,Ay=function(t){if(er(this,ru,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new sr),t instanceof sr)return er(this,iu,!0,"f"),this._emit("abort",t);if(t instanceof je)return this._emit("error",t);if(t instanceof Error){const n=new je(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new je(String(t)))};function Ty(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function Gl(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function Z1(e,t){return!t||!Iy(t)?{...e,choices:e.choices.map(n=>({...n,message:{...n.message,parsed:null,tool_calls:n.message.tool_calls??[]}}))}:ch(e,t)}function ch(e,t){const n=e.choices.map(r=>{var o;if(r.finish_reason==="length")throw new xy;if(r.finish_reason==="content_filter")throw new Sy;return{...r,message:{...r.message,tool_calls:((o=r.message.tool_calls)==null?void 0:o.map(i=>t_(t,i)))??[],parsed:r.message.content&&!r.message.refusal?e_(t,r.message.content):null}}});return{...e,choices:n}}function e_(e,t){var n,r;return((n=e.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=e.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function t_(e,t){var r;const n=(r=e.tools)==null?void 0:r.find(o=>{var i;return((i=o.function)==null?void 0:i.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:Gl(n)?n.$parseRaw(t.function.arguments):n!=null&&n.function.strict?JSON.parse(t.function.arguments):null}}}function n_(e,t){var r;if(!e)return!1;const n=(r=e.tools)==null?void 0:r.find(o=>{var i;return((i=o.function)==null?void 0:i.name)===t.function.name});return Gl(n)||(n==null?void 0:n.function.strict)||!1}function Iy(e){var t;return Ty(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(n=>Gl(n)||n.type==="function"&&n.function.strict===!0))??!1}function r_(e){for(const t of e??[]){if(t.type!=="function")throw new je(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new je(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var rn=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Kt,Nf,ou,Ff,Lf,jf,$y,Df;const Gp=10;class Ry extends Oy{constructor(){super(...arguments),Kt.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var r;this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=(r=t.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),(ky(t)||Py(t))&&t.content)this._emit("functionCallResult",t.content);else if(us(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(us(t)&&t.tool_calls)for(const r of t.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new je("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),rn(this,Kt,"m",Nf).call(this)}async finalMessage(){return await this.done(),rn(this,Kt,"m",ou).call(this)}async finalFunctionCall(){return await this.done(),rn(this,Kt,"m",Ff).call(this)}async finalFunctionCallResult(){return await this.done(),rn(this,Kt,"m",Lf).call(this)}async totalUsage(){return await this.done(),rn(this,Kt,"m",jf).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=rn(this,Kt,"m",ou).call(this);n&&this._emit("finalMessage",n);const r=rn(this,Kt,"m",Nf).call(this);r&&this._emit("finalContent",r);const o=rn(this,Kt,"m",Ff).call(this);o&&this._emit("finalFunctionCall",o);const i=rn(this,Kt,"m",Lf).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(s=>s.usage)&&this._emit("totalUsage",rn(this,Kt,"m",jf).call(this))}async _createChatCompletion(t,n,r){const o=r==null?void 0:r.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),rn(this,Kt,"m",$y).call(this,n);const i=await t.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(ch(i,n))}async _runChatCompletion(t,n,r){for(const o of n.messages)this._addMessage(o,!1);return await this._createChatCompletion(t,n,r)}async _runFunctions(t,n,r){var _;const o="function",{function_call:i="auto",stream:s,...l}=n,c=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:a=Gp}=r||{},h={};for(const p of n.functions)h[p.name||p.function.name]=p;const m=n.functions.map(p=>({name:p.name||p.function.name,parameters:p.parameters,description:p.description}));for(const p of n.messages)this._addMessage(p,!1);for(let p=0;p<a;++p){const E=(_=(await this._createChatCompletion(t,{...l,function_call:i,functions:m,messages:[...this.messages]},r)).choices[0])==null?void 0:_.message;if(!E)throw new je("missing message in ChatCompletion response");if(!E.function_call)return;const{name:A,arguments:w}=E.function_call,g=h[A];if(g){if(c&&c!==A){const F=`Invalid function_call: ${JSON.stringify(A)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:o,name:A,content:F});continue}}else{const F=`Invalid function_call: ${JSON.stringify(A)}. Available options are: ${m.map(b=>JSON.stringify(b.name)).join(", ")}. Please try again`;this._addMessage({role:o,name:A,content:F});continue}let S;try{S=Qp(g)?await g.parse(w):w}catch(F){this._addMessage({role:o,name:A,content:F instanceof Error?F.message:String(F)});continue}const O=await g.function(S,this),M=rn(this,Kt,"m",Df).call(this,O);if(this._addMessage({role:o,name:A,content:M}),c)return}}async _runTools(t,n,r){var p,x,E;const o="tool",{tool_choice:i="auto",stream:s,...l}=n,c=typeof i!="string"&&((p=i==null?void 0:i.function)==null?void 0:p.name),{maxChatCompletions:a=Gp}=r||{},h=n.tools.map(A=>{if(Gl(A)){if(!A.$callback)throw new je("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:A.$callback,name:A.function.name,description:A.function.description||"",parameters:A.function.parameters,parse:A.$parseRaw,strict:!0}}}return A}),m={};for(const A of h)A.type==="function"&&(m[A.function.name||A.function.function.name]=A.function);const _="tools"in n?h.map(A=>A.type==="function"?{type:"function",function:{name:A.function.name||A.function.function.name,parameters:A.function.parameters,description:A.function.description,strict:A.function.strict}}:A):void 0;for(const A of n.messages)this._addMessage(A,!1);for(let A=0;A<a;++A){const g=(x=(await this._createChatCompletion(t,{...l,tool_choice:i,tools:_,messages:[...this.messages]},r)).choices[0])==null?void 0:x.message;if(!g)throw new je("missing message in ChatCompletion response");if(!((E=g.tool_calls)!=null&&E.length))return;for(const S of g.tool_calls){if(S.type!=="function")continue;const O=S.id,{name:M,arguments:F}=S.function,b=m[M];if(b){if(c&&c!==M){const W=`Invalid tool_call: ${JSON.stringify(M)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:o,tool_call_id:O,content:W});continue}}else{const W=`Invalid tool_call: ${JSON.stringify(M)}. Available options are: ${Object.keys(m).map(le=>JSON.stringify(le)).join(", ")}. Please try again`;this._addMessage({role:o,tool_call_id:O,content:W});continue}let T;try{T=Qp(b)?await b.parse(F):F}catch(W){const le=W instanceof Error?W.message:String(W);this._addMessage({role:o,tool_call_id:O,content:le});continue}const L=await b.function(T,this),j=rn(this,Kt,"m",Df).call(this,L);if(this._addMessage({role:o,tool_call_id:O,content:j}),c)return}}}}Kt=new WeakSet,Nf=function(){return rn(this,Kt,"m",ou).call(this).content??null},ou=function(){let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(us(n)){const{function_call:r,...o}=n,i={...o,content:n.content??null,refusal:n.refusal??null};return r&&(i.function_call=r),i}}throw new je("stream ended without producing a ChatCompletionMessage with role=assistant")},Ff=function(){var t,n;for(let r=this.messages.length-1;r>=0;r--){const o=this.messages[r];if(us(o)&&(o!=null&&o.function_call))return o.function_call;if(us(o)&&((t=o==null?void 0:o.tool_calls)!=null&&t.length))return(n=o.tool_calls.at(-1))==null?void 0:n.function}},Lf=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(ky(n)&&n.content!=null||Py(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var o;return r.role==="assistant"&&((o=r.tool_calls)==null?void 0:o.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},jf=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},$y=function(t){if(t.n!=null&&t.n>1)throw new je("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Df=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class Sl extends Ry{static runFunctions(t,n,r){const o=new Sl,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return o._run(()=>o._runFunctions(t,n,i)),o}static runTools(t,n,r){const o=new Sl,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return o._run(()=>o._runTools(t,n,i)),o}_addMessage(t,n=!0){super._addMessage(t,n),us(t)&&t.content&&this._emit("content",t.content)}}const My=1,Ny=2,Fy=4,Ly=8,jy=16,Dy=32,zy=64,By=128,Uy=256,Hy=By|Uy,Wy=jy|Dy|Hy|zy,qy=My|Ny|Wy,Vy=Fy|Ly,i_=qy|Vy,It={STR:My,NUM:Ny,ARR:Fy,OBJ:Ly,NULL:jy,BOOL:Dy,NAN:zy,INFINITY:By,MINUS_INFINITY:Uy,INF:Hy,SPECIAL:Wy,ATOM:qy,COLLECTION:Vy,ALL:i_};class o_ extends Error{}class s_ extends Error{}function l_(e,t=It.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return a_(e.trim(),t)}const a_=(e,t)=>{const n=e.length;let r=0;const o=_=>{throw new o_(`${_} at position ${r}`)},i=_=>{throw new s_(`${_} at position ${r}`)},s=()=>(m(),r>=n&&o("Unexpected end of input"),e[r]==='"'?l():e[r]==="{"?c():e[r]==="["?a():e.substring(r,r+4)==="null"||It.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):e.substring(r,r+4)==="true"||It.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):e.substring(r,r+5)==="false"||It.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):e.substring(r,r+8)==="Infinity"||It.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):e.substring(r,r+9)==="-Infinity"||It.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):e.substring(r,r+3)==="NaN"||It.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):h()),l=()=>{const _=r;let p=!1;for(r++;r<n&&(e[r]!=='"'||p&&e[r-1]==="\\");)p=e[r]==="\\"?!p:!1,r++;if(e.charAt(r)=='"')try{return JSON.parse(e.substring(_,++r-Number(p)))}catch(x){i(String(x))}else if(It.STR&t)try{return JSON.parse(e.substring(_,r-Number(p))+'"')}catch{return JSON.parse(e.substring(_,e.lastIndexOf("\\"))+'"')}o("Unterminated string literal")},c=()=>{r++,m();const _={};try{for(;e[r]!=="}";){if(m(),r>=n&&It.OBJ&t)return _;const p=l();m(),r++;try{const x=s();Object.defineProperty(_,p,{value:x,writable:!0,enumerable:!0,configurable:!0})}catch(x){if(It.OBJ&t)return _;throw x}m(),e[r]===","&&r++}}catch{if(It.OBJ&t)return _;o("Expected '}' at end of object")}return r++,_},a=()=>{r++;const _=[];try{for(;e[r]!=="]";)_.push(s()),m(),e[r]===","&&r++}catch{if(It.ARR&t)return _;o("Expected ']' at end of array")}return r++,_},h=()=>{if(r===0){e==="-"&&It.NUM&t&&o("Not sure what '-' is");try{return JSON.parse(e)}catch(p){if(It.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}i(String(p))}}const _=r;for(e[r]==="-"&&r++;e[r]&&!",]}".includes(e[r]);)r++;r==n&&!(It.NUM&t)&&o("Unterminated number literal");try{return JSON.parse(e.substring(_,r))}catch{e.substring(_,r)==="-"&&It.NUM&t&&o("Not sure what '-' is");try{return JSON.parse(e.substring(_,e.lastIndexOf("e")))}catch(x){i(String(x))}}},m=()=>{for(;r<n&&` 
\r	`.includes(e[r]);)r++};return s()},Jp=e=>l_(e,It.ALL^It.NUM);var Ho=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(e,n):o?o.value=n:t.set(e,n),n},Xe=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Ct,Wr,Wo,gi,Dc,sa,zc,Bc,Uc,la,Hc,Xp;class bl extends Ry{constructor(t){super(),Ct.add(this),Wr.set(this,void 0),Wo.set(this,void 0),gi.set(this,void 0),Ho(this,Wr,t,"f"),Ho(this,Wo,[],"f")}get currentChatCompletionSnapshot(){return Xe(this,gi,"f")}static fromReadableStream(t){const n=new bl(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,r){const o=new bl(n);return o._run(()=>o._runChatCompletion(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createChatCompletion(t,n,r){var s;super._createChatCompletion;const o=r==null?void 0:r.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),Xe(this,Ct,"m",Dc).call(this);const i=await t.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const l of i)Xe(this,Ct,"m",zc).call(this,l);if((s=i.controller.signal)!=null&&s.aborted)throw new sr;return this._addChatCompletion(Xe(this,Ct,"m",la).call(this))}async _fromReadableStream(t,n){var s;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Xe(this,Ct,"m",Dc).call(this),this._connected();const o=Mr.fromReadableStream(t,this.controller);let i;for await(const l of o)i&&i!==l.id&&this._addChatCompletion(Xe(this,Ct,"m",la).call(this)),Xe(this,Ct,"m",zc).call(this,l),i=l.id;if((s=o.controller.signal)!=null&&s.aborted)throw new sr;return this._addChatCompletion(Xe(this,Ct,"m",la).call(this))}[(Wr=new WeakMap,Wo=new WeakMap,gi=new WeakMap,Ct=new WeakSet,Dc=function(){this.ended||Ho(this,gi,void 0,"f")},sa=function(n){let r=Xe(this,Wo,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},Xe(this,Wo,"f")[n.index]=r,r)},zc=function(n){var o,i,s,l,c,a,h,m,_,p,x,E,A,w,g;if(this.ended)return;const r=Xe(this,Ct,"m",Xp).call(this,n);this._emit("chunk",n,r);for(const S of n.choices){const O=r.choices[S.index];S.delta.content!=null&&((o=O.message)==null?void 0:o.role)==="assistant"&&((i=O.message)!=null&&i.content)&&(this._emit("content",S.delta.content,O.message.content),this._emit("content.delta",{delta:S.delta.content,snapshot:O.message.content,parsed:O.message.parsed})),S.delta.refusal!=null&&((s=O.message)==null?void 0:s.role)==="assistant"&&((l=O.message)!=null&&l.refusal)&&this._emit("refusal.delta",{delta:S.delta.refusal,snapshot:O.message.refusal}),((c=S.logprobs)==null?void 0:c.content)!=null&&((a=O.message)==null?void 0:a.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(h=S.logprobs)==null?void 0:h.content,snapshot:((m=O.logprobs)==null?void 0:m.content)??[]}),((_=S.logprobs)==null?void 0:_.refusal)!=null&&((p=O.message)==null?void 0:p.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(x=S.logprobs)==null?void 0:x.refusal,snapshot:((E=O.logprobs)==null?void 0:E.refusal)??[]});const M=Xe(this,Ct,"m",sa).call(this,O);O.finish_reason&&(Xe(this,Ct,"m",Uc).call(this,O),M.current_tool_call_index!=null&&Xe(this,Ct,"m",Bc).call(this,O,M.current_tool_call_index));for(const F of S.delta.tool_calls??[])M.current_tool_call_index!==F.index&&(Xe(this,Ct,"m",Uc).call(this,O),M.current_tool_call_index!=null&&Xe(this,Ct,"m",Bc).call(this,O,M.current_tool_call_index)),M.current_tool_call_index=F.index;for(const F of S.delta.tool_calls??[]){const b=(A=O.message.tool_calls)==null?void 0:A[F.index];b!=null&&b.type&&((b==null?void 0:b.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(w=b.function)==null?void 0:w.name,index:F.index,arguments:b.function.arguments,parsed_arguments:b.function.parsed_arguments,arguments_delta:((g=F.function)==null?void 0:g.arguments)??""}):(b==null||b.type,void 0))}}},Bc=function(n,r){var s,l,c;if(Xe(this,Ct,"m",sa).call(this,n).done_tool_calls.has(r))return;const i=(s=n.message.tool_calls)==null?void 0:s[r];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const a=(c=(l=Xe(this,Wr,"f"))==null?void 0:l.tools)==null?void 0:c.find(h=>h.type==="function"&&h.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:r,arguments:i.function.arguments,parsed_arguments:Gl(a)?a.$parseRaw(i.function.arguments):a!=null&&a.function.strict?JSON.parse(i.function.arguments):null})}else i.type},Uc=function(n){var o,i;const r=Xe(this,Ct,"m",sa).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const s=Xe(this,Ct,"m",Hc).call(this);this._emit("content.done",{content:n.message.content,parsed:s?s.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(o=n.logprobs)!=null&&o.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},la=function(){if(this.ended)throw new je("stream has ended, this shouldn't happen");const n=Xe(this,gi,"f");if(!n)throw new je("request ended without sending any chunks");return Ho(this,gi,void 0,"f"),Ho(this,Wo,[],"f"),u_(n,Xe(this,Wr,"f"))},Hc=function(){var r;const n=(r=Xe(this,Wr,"f"))==null?void 0:r.response_format;return Ty(n)?n:null},Xp=function(n){var r,o,i,s;let l=Xe(this,gi,"f");const{choices:c,...a}=n;l?Object.assign(l,a):l=Ho(this,gi,{...a,choices:[]},"f");for(const{delta:h,finish_reason:m,index:_,logprobs:p=null,...x}of n.choices){let E=l.choices[_];if(E||(E=l.choices[_]={finish_reason:m,index:_,message:{},logprobs:p,...x}),p)if(!E.logprobs)E.logprobs=Object.assign({},p);else{const{content:F,refusal:b,...T}=p;Object.assign(E.logprobs,T),F&&((r=E.logprobs).content??(r.content=[]),E.logprobs.content.push(...F)),b&&((o=E.logprobs).refusal??(o.refusal=[]),E.logprobs.refusal.push(...b))}if(m&&(E.finish_reason=m,Xe(this,Wr,"f")&&Iy(Xe(this,Wr,"f")))){if(m==="length")throw new xy;if(m==="content_filter")throw new Sy}if(Object.assign(E,x),!h)continue;const{content:A,refusal:w,function_call:g,role:S,tool_calls:O,...M}=h;if(Object.assign(E.message,M),w&&(E.message.refusal=(E.message.refusal||"")+w),S&&(E.message.role=S),g&&(E.message.function_call?(g.name&&(E.message.function_call.name=g.name),g.arguments&&((i=E.message.function_call).arguments??(i.arguments=""),E.message.function_call.arguments+=g.arguments)):E.message.function_call=g),A&&(E.message.content=(E.message.content||"")+A,!E.message.refusal&&Xe(this,Ct,"m",Hc).call(this)&&(E.message.parsed=Jp(E.message.content))),O){E.message.tool_calls||(E.message.tool_calls=[]);for(const{index:F,id:b,type:T,function:L,...j}of O){const W=(s=E.message.tool_calls)[F]??(s[F]={});Object.assign(W,j),b&&(W.id=b),T&&(W.type=T),L&&(W.function??(W.function={name:L.name??"",arguments:""})),L!=null&&L.name&&(W.function.name=L.name),L!=null&&L.arguments&&(W.function.arguments+=L.arguments,n_(Xe(this,Wr,"f"),W)&&(W.function.parsed_arguments=Jp(W.function.arguments)))}}}return l},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("chunk",o=>{const i=n.shift();i?i.resolve(o):t.push(o)}),this.on("end",()=>{r=!0;for(const o of n)o.resolve(void 0);n.length=0}),this.on("abort",o=>{r=!0;for(const i of n)i.reject(o);n.length=0}),this.on("error",o=>{r=!0;for(const i of n)i.reject(o);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,s)=>n.push({resolve:i,reject:s})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Mr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function u_(e,t){const{id:n,choices:r,created:o,model:i,system_fingerprint:s,...l}=e,c={...l,id:n,choices:r.map(({message:a,finish_reason:h,index:m,logprobs:_,...p})=>{if(!h)throw new je(`missing finish_reason for choice ${m}`);const{content:x=null,function_call:E,tool_calls:A,...w}=a,g=a.role;if(!g)throw new je(`missing role for choice ${m}`);if(E){const{arguments:S,name:O}=E;if(S==null)throw new je(`missing function_call.arguments for choice ${m}`);if(!O)throw new je(`missing function_call.name for choice ${m}`);return{...p,message:{content:x,function_call:{arguments:S,name:O},role:g,refusal:a.refusal??null},finish_reason:h,index:m,logprobs:_}}return A?{...p,index:m,finish_reason:h,logprobs:_,message:{...w,role:g,content:x,refusal:a.refusal??null,tool_calls:A.map((S,O)=>{const{function:M,type:F,id:b,...T}=S,{arguments:L,name:j,...W}=M||{};if(b==null)throw new je(`missing choices[${m}].tool_calls[${O}].id
${aa(e)}`);if(F==null)throw new je(`missing choices[${m}].tool_calls[${O}].type
${aa(e)}`);if(j==null)throw new je(`missing choices[${m}].tool_calls[${O}].function.name
${aa(e)}`);if(L==null)throw new je(`missing choices[${m}].tool_calls[${O}].function.arguments
${aa(e)}`);return{...T,id:b,type:F,function:{...W,name:j,arguments:L}}})}}:{...p,message:{...w,content:x,role:g,refusal:a.refusal??null},finish_reason:h,index:m,logprobs:_}}),created:o,model:i,object:"chat.completion",...s?{system_fingerprint:s}:{}};return Z1(c,t)}function aa(e){return JSON.stringify(e)}class cs extends bl{static fromReadableStream(t){const n=new cs(null);return n._run(()=>n._fromReadableStream(t)),n}static runFunctions(t,n,r){const o=new cs(null),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return o._run(()=>o._runFunctions(t,n,i)),o}static runTools(t,n,r){const o=new cs(n),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return o._run(()=>o._runTools(t,n,i)),o}}let Ky=class extends Je{parse(t,n){return r_(t.tools),this._client.chat.completions.create(t,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(r=>ch(r,t))}runFunctions(t,n){return t.stream?cs.runFunctions(this._client,t,n):Sl.runFunctions(this._client,t,n)}runTools(t,n){return t.stream?cs.runTools(this._client,t,n):Sl.runTools(this._client,t,n)}stream(t,n){return bl.createChatCompletion(this._client,t,n)}};class su extends Je{constructor(){super(...arguments),this.completions=new Ky(this._client)}}(function(e){e.Completions=Ky})(su||(su={}));var me=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Sn=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(e,n):o?o.value=n:t.set(e,n),n},Dt,zf,Ir,Ra,tr,ho,Go,uo,lu,bn,Ma,Na,fl,nl,rl,Yp,Zp,em,tm,nm,rm,im;class lr extends Oy{constructor(){super(...arguments),Dt.add(this),zf.set(this,[]),Ir.set(this,{}),Ra.set(this,{}),tr.set(this,void 0),ho.set(this,void 0),Go.set(this,void 0),uo.set(this,void 0),lu.set(this,void 0),bn.set(this,void 0),Ma.set(this,void 0),Na.set(this,void 0),fl.set(this,void 0)}[(zf=new WeakMap,Ir=new WeakMap,Ra=new WeakMap,tr=new WeakMap,ho=new WeakMap,Go=new WeakMap,uo=new WeakMap,lu=new WeakMap,bn=new WeakMap,Ma=new WeakMap,Na=new WeakMap,fl=new WeakMap,Dt=new WeakSet,Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",o=>{const i=n.shift();i?i.resolve(o):t.push(o)}),this.on("end",()=>{r=!0;for(const o of n)o.resolve(void 0);n.length=0}),this.on("abort",o=>{r=!0;for(const i of n)i.reject(o);n.length=0}),this.on("error",o=>{r=!0;for(const i of n)i.reject(o);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,s)=>n.push({resolve:i,reject:s})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const n=new lr;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const o=Mr.fromReadableStream(t,this.controller);for await(const s of o)me(this,Dt,"m",nl).call(this,s);if((i=o.controller.signal)!=null&&i.aborted)throw new sr;return this._addRun(me(this,Dt,"m",rl).call(this))}toReadableStream(){return new Mr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,r,o,i){const s=new lr;return s._run(()=>s._runToolAssistantStream(t,n,r,o,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createToolAssistantStream(t,n,r,o,i){var a;const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const l={...o,stream:!0},c=await t.submitToolOutputs(n,r,l,{...i,signal:this.controller.signal});this._connected();for await(const h of c)me(this,Dt,"m",nl).call(this,h);if((a=c.controller.signal)!=null&&a.aborted)throw new sr;return this._addRun(me(this,Dt,"m",rl).call(this))}static createThreadAssistantStream(t,n,r){const o=new lr;return o._run(()=>o._threadAssistantStream(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),o}static createAssistantStream(t,n,r,o){const i=new lr;return i._run(()=>i._runAssistantStream(t,n,r,{...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return me(this,Ma,"f")}currentRun(){return me(this,Na,"f")}currentMessageSnapshot(){return me(this,tr,"f")}currentRunStepSnapshot(){return me(this,fl,"f")}async finalRunSteps(){return await this.done(),Object.values(me(this,Ir,"f"))}async finalMessages(){return await this.done(),Object.values(me(this,Ra,"f"))}async finalRun(){if(await this.done(),!me(this,ho,"f"))throw Error("Final run was not received.");return me(this,ho,"f")}async _createThreadAssistantStream(t,n,r){var l;const o=r==null?void 0:r.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},s=await t.createAndRun(i,{...r,signal:this.controller.signal});this._connected();for await(const c of s)me(this,Dt,"m",nl).call(this,c);if((l=s.controller.signal)!=null&&l.aborted)throw new sr;return this._addRun(me(this,Dt,"m",rl).call(this))}async _createAssistantStream(t,n,r,o){var c;const i=o==null?void 0:o.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const s={...r,stream:!0},l=await t.create(n,s,{...o,signal:this.controller.signal});this._connected();for await(const a of l)me(this,Dt,"m",nl).call(this,a);if((c=l.controller.signal)!=null&&c.aborted)throw new sr;return this._addRun(me(this,Dt,"m",rl).call(this))}static accumulateDelta(t,n){for(const[r,o]of Object.entries(n)){if(!t.hasOwnProperty(r)){t[r]=o;continue}let i=t[r];if(i==null){t[r]=o;continue}if(r==="index"||r==="type"){t[r]=o;continue}if(typeof i=="string"&&typeof o=="string")i+=o;else if(typeof i=="number"&&typeof o=="number")i+=o;else if(Fc(i)&&Fc(o))i=this.accumulateDelta(i,o);else if(Array.isArray(i)&&Array.isArray(o)){if(i.every(s=>typeof s=="string"||typeof s=="number")){i.push(...o);continue}for(const s of o){if(!Fc(s))throw new Error(`Expected array delta entry to be an object but got: ${s}`);const l=s.index;if(l==null)throw console.error(s),new Error("Expected array delta entry to have an `index` property");if(typeof l!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${l}`);const c=i[l];c==null?i.push(s):i[l]=this.accumulateDelta(c,s)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${o}, accValue: ${i}`);t[r]=i}return t}_addRun(t){return t}async _threadAssistantStream(t,n,r){return await this._createThreadAssistantStream(n,t,r)}async _runAssistantStream(t,n,r,o){return await this._createAssistantStream(n,t,r,o)}async _runToolAssistantStream(t,n,r,o,i){return await this._createToolAssistantStream(r,t,n,o,i)}}nl=function(t){if(!this.ended)switch(Sn(this,Ma,t,"f"),me(this,Dt,"m",em).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":me(this,Dt,"m",im).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":me(this,Dt,"m",Zp).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":me(this,Dt,"m",Yp).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},rl=function(){if(this.ended)throw new je("stream has ended, this shouldn't happen");if(!me(this,ho,"f"))throw Error("Final run has not been received");return me(this,ho,"f")},Yp=function(t){const[n,r]=me(this,Dt,"m",nm).call(this,t,me(this,tr,"f"));Sn(this,tr,n,"f"),me(this,Ra,"f")[n.id]=n;for(const o of r){const i=n.content[o.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(const o of t.data.delta.content){if(o.type=="text"&&o.text){let i=o.text,s=n.content[o.index];if(s&&s.type=="text")this._emit("textDelta",i,s.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(o.index!=me(this,Go,"f")){if(me(this,uo,"f"))switch(me(this,uo,"f").type){case"text":this._emit("textDone",me(this,uo,"f").text,me(this,tr,"f"));break;case"image_file":this._emit("imageFileDone",me(this,uo,"f").image_file,me(this,tr,"f"));break}Sn(this,Go,o.index,"f")}Sn(this,uo,n.content[o.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(me(this,Go,"f")!==void 0){const o=t.data.content[me(this,Go,"f")];if(o)switch(o.type){case"image_file":this._emit("imageFileDone",o.image_file,me(this,tr,"f"));break;case"text":this._emit("textDone",o.text,me(this,tr,"f"));break}}me(this,tr,"f")&&this._emit("messageDone",t.data),Sn(this,tr,void 0,"f")}},Zp=function(t){const n=me(this,Dt,"m",tm).call(this,t);switch(Sn(this,fl,n,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const r=t.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of r.step_details.tool_calls)i.index==me(this,lu,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(me(this,bn,"f")&&this._emit("toolCallDone",me(this,bn,"f")),Sn(this,lu,i.index,"f"),Sn(this,bn,n.step_details.tool_calls[i.index],"f"),me(this,bn,"f")&&this._emit("toolCallCreated",me(this,bn,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Sn(this,fl,void 0,"f"),t.data.step_details.type=="tool_calls"&&me(this,bn,"f")&&(this._emit("toolCallDone",me(this,bn,"f")),Sn(this,bn,void 0,"f")),this._emit("runStepDone",t.data,n);break}},em=function(t){me(this,zf,"f").push(t),this._emit("event",t)},tm=function(t){switch(t.event){case"thread.run.step.created":return me(this,Ir,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=me(this,Ir,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=t.data;if(r.delta){const o=lr.accumulateDelta(n,r.delta);me(this,Ir,"f")[t.data.id]=o}return me(this,Ir,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":me(this,Ir,"f")[t.data.id]=t.data;break}if(me(this,Ir,"f")[t.data.id])return me(this,Ir,"f")[t.data.id];throw new Error("No snapshot available")},nm=function(t,n){let r=[];switch(t.event){case"thread.message.created":return[t.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let o=t.data;if(o.delta.content)for(const i of o.delta.content)if(i.index in n.content){let s=n.content[i.index];n.content[i.index]=me(this,Dt,"m",rm).call(this,i,s)}else n.content[i.index]=i,r.push(i);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},rm=function(t,n){return lr.accumulateDelta(n,t)},im=function(t){switch(Sn(this,Na,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Sn(this,ho,t.data,"f"),me(this,bn,"f")&&(this._emit("toolCallDone",me(this,bn,"f")),Sn(this,bn,void 0,"f"));break}};class au extends Je{create(t,n,r){return this._client.post(`/threads/${t}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,o){return this._client.post(`/threads/${t}/messages/${n}`,{body:r,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}list(t,n={},r){return dn(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/messages`,fh,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/threads/${t}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class fh extends fr{}(function(e){e.MessagesPage=fh})(au||(au={}));class uu extends Je{retrieve(t,n,r,o={},i){return dn(o)?this.retrieve(t,n,r,{},o):this._client.get(`/threads/${t}/runs/${n}/steps/${r}`,{query:o,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(t,n,r={},o){return dn(r)?this.list(t,n,{},r):this._client.getAPIList(`/threads/${t}/runs/${n}/steps`,dh,{query:r,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}}class dh extends fr{}(function(e){e.RunStepsPage=dh})(uu||(uu={}));class cu extends Je{constructor(){super(...arguments),this.steps=new uu(this._client)}create(t,n,r){const{include:o,...i}=n;return this._client.post(`/threads/${t}/runs`,{query:{include:o},body:i,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(t,n,r){return this._client.get(`/threads/${t}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,n,r,o){return this._client.post(`/threads/${t}/runs/${n}`,{body:r,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}list(t,n={},r){return dn(n)?this.list(t,{},n):this._client.getAPIList(`/threads/${t}/runs`,hh,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/threads/${t}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const o=await this.create(t,n,r);return await this.poll(t,o.id,r)}createAndStream(t,n,r){return lr.createAssistantStream(t,this._client.beta.threads.runs,n,r)}async poll(t,n,r){const o={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(o["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:s}=await this.retrieve(t,n,{...r,headers:{...r==null?void 0:r.headers,...o}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const c=s.headers.get("openai-poll-after-ms");if(c){const a=parseInt(c);isNaN(a)||(l=a)}}await Ql(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(t,n,r){return lr.createAssistantStream(t,this._client.beta.threads.runs,n,r)}submitToolOutputs(t,n,r,o){return this._client.post(`/threads/${t}/runs/${n}/submit_tool_outputs`,{body:r,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(t,n,r,o){const i=await this.submitToolOutputs(t,n,r,o);return await this.poll(t,i.id,o)}submitToolOutputsStream(t,n,r,o){return lr.createToolAssistantStream(t,n,this._client.beta.threads.runs,r,o)}}class hh extends fr{}(function(e){e.RunsPage=hh,e.Steps=uu,e.RunStepsPage=dh})(cu||(cu={}));class fu extends Je{constructor(){super(...arguments),this.runs=new cu(this._client),this.messages=new au(this._client)}create(t={},n){return dn(t)?this.create({},t):this._client.post("/threads",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/threads/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n){return this._client.delete(`/threads/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:t.stream??!1})}async createAndRunPoll(t,n){const r=await this.createAndRun(t,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(t,n){return lr.createThreadAssistantStream(t,this._client.beta.threads,n)}}(function(e){e.Runs=cu,e.RunsPage=hh,e.Messages=au,e.MessagesPage=fh})(fu||(fu={}));const c_=async e=>{const t=await Promise.allSettled(e),n=t.filter(o=>o.status==="rejected");if(n.length){for(const o of n)console.error(o.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const o of t)o.status==="fulfilled"&&r.push(o.value);return r};let du=class extends Je{create(t,n,r){return this._client.post(`/vector_stores/${t}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t,n={},r){return dn(n)?this.list(t,{},n):this._client.getAPIList(`/vector_stores/${t}/files`,cc,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,n,r){return this._client.delete(`/vector_stores/${t}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const o=await this.create(t,n,r);return await this.poll(t,o.id,r)}async poll(t,n,r){const o={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(o["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const i=await this.retrieve(t,n,{...r,headers:o}).withResponse(),s=i.data;switch(s.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const c=i.response.headers.get("openai-poll-after-ms");if(c){const a=parseInt(c);isNaN(a)||(l=a)}}await Ql(l);break;case"failed":case"completed":return s}}}async upload(t,n,r){const o=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(t,{file_id:o.id},r)}async uploadAndPoll(t,n,r){const o=await this.upload(t,n,r);return await this.poll(t,o.id,r)}};class cc extends fr{}(function(e){e.VectorStoreFilesPage=cc})(du||(du={}));class hu extends Je{create(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,n,r){return this._client.get(`/vector_stores/${t}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(t,n,r){return this._client.post(`/vector_stores/${t}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(t,n,r){const o=await this.create(t,n);return await this.poll(t,o.id,r)}listFiles(t,n,r={},o){return dn(r)?this.listFiles(t,n,{},r):this._client.getAPIList(`/vector_stores/${t}/file_batches/${n}/files`,cc,{query:r,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}async poll(t,n,r){const o={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(o["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:i,response:s}=await this.retrieve(t,n,{...r,headers:o}).withResponse();switch(i.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const c=s.headers.get("openai-poll-after-ms");if(c){const a=parseInt(c);isNaN(a)||(l=a)}}await Ql(l);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(t,{files:n,fileIds:r=[]},o){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(o==null?void 0:o.maxConcurrency)??5,s=Math.min(i,n.length),l=this._client,c=n.values(),a=[...r];async function h(_){for(let p of _){const x=await l.files.create({file:p,purpose:"assistants"},o);a.push(x.id)}}const m=Array(s).fill(c).map(h);return await c_(m),await this.createAndPoll(t,{file_ids:a})}}hu||(hu={});class pu extends Je{constructor(){super(...arguments),this.files=new du(this._client),this.fileBatches=new hu(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,n){return this._client.get(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,n,r){return this._client.post(`/vector_stores/${t}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(t={},n){return dn(t)?this.list({},t):this._client.getAPIList("/vector_stores",ph,{query:t,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,n){return this._client.delete(`/vector_stores/${t}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class ph extends fr{}(function(e){e.VectorStoresPage=ph,e.Files=du,e.VectorStoreFilesPage=cc,e.FileBatches=hu})(pu||(pu={}));class mu extends Je{constructor(){super(...arguments),this.vectorStores=new pu(this._client),this.chat=new su(this._client),this.assistants=new nu(this._client),this.threads=new fu(this._client)}}(function(e){e.VectorStores=pu,e.VectorStoresPage=ph,e.Chat=su,e.Assistants=nu,e.AssistantsPage=uh,e.Threads=fu})(mu||(mu={}));class gu extends Je{create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}}gu||(gu={});class yu extends Je{create(t,n){return this._client.post("/embeddings",{body:t,...n})}}yu||(yu={});class vu extends Je{create(t,n){return this._client.post("/files",ys({body:t,...n}))}retrieve(t,n){return this._client.get(`/files/${t}`,n)}list(t={},n){return dn(t)?this.list({},t):this._client.getAPIList("/files",mh,{query:t,...n})}del(t,n){return this._client.delete(`/files/${t}`,n)}content(t,n){return this._client.get(`/files/${t}/content`,{...n,__binaryResponse:!0})}retrieveContent(t,n){return this._client.get(`/files/${t}/content`,{...n,headers:{Accept:"application/json",...n==null?void 0:n.headers}})}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const o=new Set(["processed","error","deleted"]),i=Date.now();let s=await this.retrieve(t);for(;!s.status||!o.has(s.status);)if(await Ql(n),s=await this.retrieve(t),Date.now()-i>r)throw new sh({message:`Giving up on waiting for file ${t} to finish processing after ${r} milliseconds.`});return s}}class mh extends lh{}(function(e){e.FileObjectsPage=mh})(vu||(vu={}));class wu extends Je{list(t,n={},r){return dn(n)?this.list(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,gh,{query:n,...r})}}class gh extends fr{}(function(e){e.FineTuningJobCheckpointsPage=gh})(wu||(wu={}));class _u extends Je{constructor(){super(...arguments),this.checkpoints=new wu(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(`/fine_tuning/jobs/${t}`,n)}list(t={},n){return dn(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",yh,{query:t,...n})}cancel(t,n){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},r){return dn(n)?this.listEvents(t,{},n):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,vh,{query:n,...r})}}class yh extends fr{}class vh extends fr{}(function(e){e.FineTuningJobsPage=yh,e.FineTuningJobEventsPage=vh,e.Checkpoints=wu,e.FineTuningJobCheckpointsPage=gh})(_u||(_u={}));class xu extends Je{constructor(){super(...arguments),this.jobs=new _u(this._client)}}(function(e){e.Jobs=_u,e.FineTuningJobsPage=yh,e.FineTuningJobEventsPage=vh})(xu||(xu={}));class Su extends Je{createVariation(t,n){return this._client.post("/images/variations",ys({body:t,...n}))}edit(t,n){return this._client.post("/images/edits",ys({body:t,...n}))}generate(t,n){return this._client.post("/images/generations",{body:t,...n})}}Su||(Su={});class bu extends Je{retrieve(t,n){return this._client.get(`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",wh,t)}del(t,n){return this._client.delete(`/models/${t}`,n)}}class wh extends lh{}(function(e){e.ModelsPage=wh})(bu||(bu={}));class Eu extends Je{create(t,n){return this._client.post("/moderations",{body:t,...n})}}Eu||(Eu={});class Cu extends Je{create(t,n,r){return this._client.post(`/uploads/${t}/parts`,ys({body:n,...r}))}}Cu||(Cu={});class ku extends Je{constructor(){super(...arguments),this.parts=new Cu(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(`/uploads/${t}/cancel`,n)}complete(t,n,r){return this._client.post(`/uploads/${t}/complete`,{body:n,...r})}}(function(e){e.Parts=Cu})(ku||(ku={}));var Qy;class St extends O1{constructor({baseURL:t=oa("OPENAI_BASE_URL"),apiKey:n=oa("OPENAI_API_KEY"),organization:r=oa("OPENAI_ORG_ID")??null,project:o=oa("OPENAI_PROJECT_ID")??null,...i}={}){if(n===void 0)throw new je("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const s={apiKey:n,organization:r,project:o,...i,baseURL:t||"https://api.openai.com/v1"};if(!s.dangerouslyAllowBrowser&&z1())throw new je(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:s.baseURL,timeout:s.timeout??6e5,httpAgent:s.httpAgent,maxRetries:s.maxRetries,fetch:s.fetch}),this.completions=new gu(this),this.chat=new Ja(this),this.embeddings=new yu(this),this.files=new vu(this),this.images=new Su(this),this.audio=new eu(this),this.moderations=new Eu(this),this.models=new bu(this),this.fineTuning=new xu(this),this.beta=new mu(this),this.batches=new tu(this),this.uploads=new ku(this),this._options=s,this.apiKey=n,this.organization=r,this.project=o}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return Y1(t,{arrayFormat:"brackets"})}}Qy=St;St.OpenAI=Qy;St.DEFAULT_TIMEOUT=6e5;St.OpenAIError=je;St.APIError=Bt;St.APIConnectionError=uc;St.APIConnectionTimeoutError=sh;St.APIUserAbortError=sr;St.NotFoundError=gy;St.ConflictError=yy;St.RateLimitError=wy;St.BadRequestError=hy;St.AuthenticationError=py;St.InternalServerError=_y;St.PermissionDeniedError=my;St.UnprocessableEntityError=vy;St.toFile=ly;St.fileFromPath=ny;(function(e){e.Page=lh,e.CursorPage=fr,e.Completions=gu,e.Chat=Ja,e.Embeddings=yu,e.Files=vu,e.FileObjectsPage=mh,e.Images=Su,e.Audio=eu,e.Moderations=Eu,e.Models=bu,e.ModelsPage=wh,e.FineTuning=xu,e.Beta=mu,e.Batches=tu,e.BatchesPage=ah,e.Uploads=ku})(St||(St={}));const f_=St;var Gy={},_h={},Pu=Rt&&Rt.__assign||function(){return Pu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Pu.apply(this,arguments)};Object.defineProperty(_h,"__esModule",{value:!0});var d_={delayFirstAttempt:!1,jitter:"none",maxDelay:1/0,numOfAttempts:10,retry:function(){return!0},startingDelay:100,timeMultiple:2};function h_(e){var t=Pu(Pu({},d_),e);return t.numOfAttempts<1&&(t.numOfAttempts=1),t}_h.getSanitizedOptions=h_;var xh={},Sh={},fc={},bh={},Eh={};Object.defineProperty(Eh,"__esModule",{value:!0});function p_(e){var t=Math.random()*e;return Math.round(t)}Eh.fullJitter=p_;var Ch={};Object.defineProperty(Ch,"__esModule",{value:!0});function m_(e){return e}Ch.noJitter=m_;Object.defineProperty(bh,"__esModule",{value:!0});var g_=Eh,y_=Ch;function v_(e){switch(e.jitter){case"full":return g_.fullJitter;case"none":default:return y_.noJitter}}bh.JitterFactory=v_;Object.defineProperty(fc,"__esModule",{value:!0});var w_=bh,__=function(){function e(t){this.options=t,this.attempt=0}return e.prototype.apply=function(){var t=this;return new Promise(function(n){return setTimeout(n,t.jitteredDelay)})},e.prototype.setAttemptNumber=function(t){this.attempt=t},Object.defineProperty(e.prototype,"jitteredDelay",{get:function(){var t=w_.JitterFactory(this.options);return t(this.delay)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delay",{get:function(){var t=this.options.startingDelay,n=this.options.timeMultiple,r=this.numOfDelayedAttempts,o=t*Math.pow(n,r);return Math.min(o,this.options.maxDelay)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt},enumerable:!0,configurable:!0}),e}();fc.Delay=__;var x_=Rt&&Rt.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),S_=Rt&&Rt.__awaiter||function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(h){try{a(r.next(h))}catch(m){s(m)}}function c(h){try{a(r.throw(h))}catch(m){s(m)}}function a(h){h.done?i(h.value):o(h.value).then(l,c)}a((r=r.apply(e,t||[])).next())})},b_=Rt&&Rt.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(a){return function(h){return c([a,h])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=a[0]&2?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[a[0]&2,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,o=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1],i=a;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(a);break}i[2]&&n.ops.pop(),n.trys.pop();continue}a=t.call(e,n)}catch(h){a=[6,h],o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(Sh,"__esModule",{value:!0});var E_=fc,C_=function(e){x_(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.apply=function(){return S_(this,void 0,void 0,function(){return b_(this,function(n){return[2,this.isFirstAttempt?!0:e.prototype.apply.call(this)]})})},Object.defineProperty(t.prototype,"isFirstAttempt",{get:function(){return this.attempt===0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt-1},enumerable:!0,configurable:!0}),t}(E_.Delay);Sh.SkipFirstDelay=C_;var kh={},k_=Rt&&Rt.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)o.hasOwnProperty(i)&&(r[i]=o[i])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(kh,"__esModule",{value:!0});var P_=fc,A_=function(e){k_(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(P_.Delay);kh.AlwaysDelay=A_;Object.defineProperty(xh,"__esModule",{value:!0});var O_=Sh,T_=kh;function I_(e,t){var n=$_(e);return n.setAttemptNumber(t),n}xh.DelayFactory=I_;function $_(e){return e.delayFirstAttempt?new T_.AlwaysDelay(e):new O_.SkipFirstDelay(e)}var Bf=Rt&&Rt.__awaiter||function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(h){try{a(r.next(h))}catch(m){s(m)}}function c(h){try{a(r.throw(h))}catch(m){s(m)}}function a(h){h.done?i(h.value):o(h.value).then(l,c)}a((r=r.apply(e,t||[])).next())})},Uf=Rt&&Rt.__generator||function(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(a){return function(h){return c([a,h])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=a[0]&2?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[a[0]&2,i.value]),a[0]){case 0:case 1:i=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,o=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!i||a[1]>i[0]&&a[1]<i[3])){n.label=a[1];break}if(a[0]===6&&n.label<i[1]){n.label=i[1],i=a;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(a);break}i[2]&&n.ops.pop(),n.trys.pop();continue}a=t.call(e,n)}catch(h){a=[6,h],o=0}finally{r=i=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(Gy,"__esModule",{value:!0});var R_=_h,M_=xh;function N_(e,t){return t===void 0&&(t={}),Bf(this,void 0,void 0,function(){var n,r;return Uf(this,function(o){switch(o.label){case 0:return n=R_.getSanitizedOptions(t),r=new F_(e,n),[4,r.execute()];case 1:return[2,o.sent()]}})})}var Au=Gy.backOff=N_,F_=function(){function e(t,n){this.request=t,this.options=n,this.attemptNumber=0}return e.prototype.execute=function(){return Bf(this,void 0,void 0,function(){var t,n;return Uf(this,function(r){switch(r.label){case 0:if(this.attemptLimitReached)return[3,7];r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.applyDelay()];case 2:return r.sent(),[4,this.request()];case 3:return[2,r.sent()];case 4:return t=r.sent(),this.attemptNumber++,[4,this.options.retry(t,this.attemptNumber)];case 5:if(n=r.sent(),!n||this.attemptLimitReached)throw t;return[3,6];case 6:return[3,0];case 7:throw new Error("Something went wrong.")}})})},Object.defineProperty(e.prototype,"attemptLimitReached",{get:function(){return this.attemptNumber>=this.options.numOfAttempts},enumerable:!0,configurable:!0}),e.prototype.applyDelay=function(){return Bf(this,void 0,void 0,function(){var t;return Uf(this,function(n){switch(n.label){case 0:return t=M_.DelayFactory(this.options,this.attemptNumber),[4,t.apply()];case 1:return n.sent(),[2]}})})},e}();const Jy=e=>({apiKey:e,completionEngine:"gpt-3.5-turbo",temperature:1,maxTokens:1e3,dalleImageSize:"1024",dalleModel:"dall-e-3",dalleQuality:"standard",dalleStyle:"vivid"}),Ou={numOfAttempts:7,retry:e=>e instanceof TypeError&&e.message==="Failed to fetch"?(console.warn("retrying due to network error",e),!0):!e.response||!e.response.data||!e.response.data.error?!1:e.response.status===429?e.response.data.error.type==="insufficient_quota"?!1:(console.warn("Rate limit exceeded. Retrying..."),!0):e.response.status>=500};function L_(e){return e.startsWith("http://api.openai.com")?e.replace("http://api.openai.com","https://api.openai.com"):e}async function j_(e,t){const n=t.apiKey,r=t.completionEndpoint?L_(t.completionEndpoint):"https://api.openai.com/v1",o="whisper-1",i=new FormData;i.append("model",o),i.append("file",e);const s=await Au(()=>fetch(r+"/audio/transcriptions",{method:"POST",headers:{Authorization:`Bearer ${n}`},body:i}),Ou);if(!s.ok)throw new Error(`Error transcribing audio: ${s.statusText}`);return(await s.json()).text}async function D_(e,t){const n={...Jy(t.apiKey),...t},r=new f_({apiKey:n.apiKey,baseURL:n.completionEndpoint,dangerouslyAllowBrowser:!0}),o=n.dalleImageSize?n.dalleImageSize.includes("x")?n.dalleImageSize:`${n.dalleImageSize}x${n.dalleImageSize}`:"256x256",i={prompt:e,n:1,size:o,model:n.dalleModel,quality:n.dalleQuality,style:n.dalleStyle};return(await Au(()=>r.images.generate(i),Ou)).data[0].url}async function Ph(e,t,n,r){var s,l,c,a,h,m,_;const o={...Jy(t.apiKey),...t},i=o.completionEngine;try{if(i.startsWith("gpt-3.5")||i.startsWith("gpt-4")){const p=[{role:"user",content:e}];t.chatPrompt&&t.chatPrompt.length>0&&p.unshift({role:"system",content:t.chatPrompt});const x={messages:p,temperature:o.temperature,max_tokens:o.maxTokens,top_p:1,frequency_penalty:0,presence_penalty:0,model:i,stream:!0},E=await Au(()=>fetch(`${o.completionEndpoint}/chat/completions`,{method:"POST",body:JSON.stringify(x),headers:{Authorization:`Bearer ${o.apiKey}`,"Content-Type":"application/json",Accept:"text/event-stream"}}).then(w=>{if(w.ok&&w.body){const g=w.body.pipeThrough(new TextDecoderStream).getReader();let S="";const O=()=>g.read().then(({value:M,done:F})=>{var L,j;if(F)return g.cancel(),r(),Promise.resolve({choices:[{message:{content:S}}]});const b=om(M);if(!b||!b[0])return O();let T="";for(let W=0;W<b.length;W++)T+=((j=(L=b[W].choices[0])==null?void 0:L.delta)==null?void 0:j.content)||"";return S+=T,n(T),O()});return O()}else return Promise.reject(w)}),Ou),A=E==null?void 0:E.choices;return A&&A[0]&&A[0].message&&A[0].message.content&&A[0].message.content.length>0?sm(A[0].message.content):null}else{const p={prompt:e,temperature:o.temperature,max_tokens:o.maxTokens,top_p:1,frequency_penalty:0,presence_penalty:0,model:i,stream:!0},x=await Au(()=>fetch(`${o.completionEndpoint}/completions`,{method:"POST",body:JSON.stringify(p),headers:{Authorization:`Bearer ${o.apiKey}`,"Content-Type":"application/json",Accept:"text/event-stream"}}).then(A=>{if(A.ok&&A.body){const w=A.body.pipeThrough(new TextDecoderStream).getReader();let g="";const S=()=>w.read().then(({value:O,done:M})=>{var T;if(M)return w.cancel(),r(),Promise.resolve({choices:[{text:g}]});const F=om(O);if(!F||!F[0])return S();let b="";for(let L=0;L<F.length;L++)b+=((T=F[L].choices[0])==null?void 0:T.text)||"";return g+=b,n(b),S()});return S()}else return Promise.reject(A)}),Ou),E=x==null?void 0:x.choices;return E&&E[0]&&E[0].text&&E[0].text.length>0?sm(E[0].text):null}}catch(p){throw(l=(s=p==null?void 0:p.response)==null?void 0:s.data)!=null&&l.error?(console.error((a=(c=p==null?void 0:p.response)==null?void 0:c.data)==null?void 0:a.error),new Error((_=(m=(h=p==null?void 0:p.response)==null?void 0:h.data)==null?void 0:m.error)==null?void 0:_.message)):p}}function om(e){return[...e.split("data:")].filter(n=>n.trim().length>0&&!n.trim().includes("[DONE]")).map(n=>{try{return JSON.parse(n)}catch{return null}})}function sm(e){return e.replace(/^\s+/,"")}var Hf={},Xy={exports:{}},In={},Yy={exports:{}},Zy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Z,N){var D=Z.length;Z.push(N);e:for(;0<D;){var J=D-1>>>1,ye=Z[J];if(0<o(ye,N))Z[J]=N,Z[D]=ye,D=J;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var N=Z[0],D=Z.pop();if(D!==N){Z[0]=D;e:for(var J=0,ye=Z.length,We=ye>>>1;J<We;){var Ne=2*(J+1)-1,Ce=Z[Ne],Le=Ne+1,Be=Z[Le];if(0>o(Ce,D))Le<ye&&0>o(Be,Ce)?(Z[J]=Be,Z[Le]=D,J=Le):(Z[J]=Ce,Z[Ne]=D,J=Ne);else if(Le<ye&&0>o(Be,D))Z[J]=Be,Z[Le]=D,J=Le;else break e}}return N}function o(Z,N){var D=Z.sortIndex-N.sortIndex;return D!==0?D:Z.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],a=[],h=1,m=null,_=3,p=!1,x=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(Z){for(var N=n(a);N!==null;){if(N.callback===null)r(a);else if(N.startTime<=Z)r(a),N.sortIndex=N.expirationTime,t(c,N);else break;N=n(a)}}function O(Z){if(E=!1,S(Z),!x)if(n(c)!==null)x=!0,xe(M);else{var N=n(a);N!==null&&ve(O,N.startTime-Z)}}function M(Z,N){x=!1,E&&(E=!1,w(T),T=-1),p=!0;var D=_;try{for(S(N),m=n(c);m!==null&&(!(m.expirationTime>N)||Z&&!W());){var J=m.callback;if(typeof J=="function"){m.callback=null,_=m.priorityLevel;var ye=J(m.expirationTime<=N);N=e.unstable_now(),typeof ye=="function"?m.callback=ye:m===n(c)&&r(c),S(N)}else r(c);m=n(c)}if(m!==null)var We=!0;else{var Ne=n(a);Ne!==null&&ve(O,Ne.startTime-N),We=!1}return We}finally{m=null,_=D,p=!1}}var F=!1,b=null,T=-1,L=5,j=-1;function W(){return!(e.unstable_now()-j<L)}function le(){if(b!==null){var Z=e.unstable_now();j=Z;var N=!0;try{N=b(!0,Z)}finally{N?be():(F=!1,b=null)}}else F=!1}var be;if(typeof g=="function")be=function(){g(le)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,G=ge.port2;ge.port1.onmessage=le,be=function(){G.postMessage(null)}}else be=function(){A(le,0)};function xe(Z){b=Z,F||(F=!0,be())}function ve(Z,N){T=A(function(){Z(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,xe(M))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(Z){switch(_){case 1:case 2:case 3:var N=3;break;default:N=_}var D=_;_=N;try{return Z()}finally{_=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,N){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var D=_;_=Z;try{return N()}finally{_=D}},e.unstable_scheduleCallback=function(Z,N,D){var J=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?J+D:J):D=J,Z){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=D+ye,Z={id:h++,callback:N,priorityLevel:Z,startTime:D,expirationTime:ye,sortIndex:-1},D>J?(Z.sortIndex=D,t(a,Z),n(c)===null&&Z===n(a)&&(E?(w(T),T=-1):E=!0,ve(O,D-J))):(Z.sortIndex=ye,t(c,Z),x||p||(x=!0,xe(M))),Z},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(Z){var N=_;return function(){var D=_;_=N;try{return Z.apply(this,arguments)}finally{_=D}}}})(Zy);Yy.exports=Zy;var z_=Yy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_=U,An=z_;function Y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var e0=new Set,El={};function Ao(e,t){vs(e,t),vs(e+"Capture",t)}function vs(e,t){for(El[e]=t,e=0;e<t.length;e++)e0.add(t[e])}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wf=Object.prototype.hasOwnProperty,U_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lm={},am={};function H_(e){return Wf.call(am,e)?!0:Wf.call(lm,e)?!1:U_.test(e)?am[e]=!0:(lm[e]=!0,!1)}function W_(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function q_(e,t,n,r){if(t===null||typeof t>"u"||W_(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function tn(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ut[e]=new tn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ut[t]=new tn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ut[e]=new tn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ut[e]=new tn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ut[e]=new tn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ut[e]=new tn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ut[e]=new tn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ut[e]=new tn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ut[e]=new tn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ah=/[\-:]([a-z])/g;function Oh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ah,Oh);Ut[t]=new tn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ah,Oh);Ut[t]=new tn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ah,Oh);Ut[t]=new tn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ut[e]=new tn(e,1,!1,e.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ut[e]=new tn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Th(e,t,n,r){var o=Ut.hasOwnProperty(t)?Ut[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(q_(t,n,o,r)&&(n=null),r||o===null?H_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var oi=B_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ua=Symbol.for("react.element"),Jo=Symbol.for("react.portal"),Xo=Symbol.for("react.fragment"),Ih=Symbol.for("react.strict_mode"),qf=Symbol.for("react.profiler"),t0=Symbol.for("react.provider"),n0=Symbol.for("react.context"),$h=Symbol.for("react.forward_ref"),Vf=Symbol.for("react.suspense"),Kf=Symbol.for("react.suspense_list"),Rh=Symbol.for("react.memo"),vi=Symbol.for("react.lazy"),r0=Symbol.for("react.offscreen"),um=Symbol.iterator;function Us(e){return e===null||typeof e!="object"?null:(e=um&&e[um]||e["@@iterator"],typeof e=="function"?e:null)}var ht=Object.assign,Wc;function il(e){if(Wc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Wc=t&&t[1]||""}return`
`+Wc+e}var qc=!1;function Vc(e,t){if(!e||qc)return"";qc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(a){var r=a}Reflect.construct(e,[],t)}else{try{t.call()}catch(a){r=a}e.call(t.prototype)}else{try{throw Error()}catch(a){r=a}e()}}catch(a){if(a&&r&&typeof a.stack=="string"){for(var o=a.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,l=i.length-1;1<=s&&0<=l&&o[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||o[s]!==i[l]){var c=`
`+o[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=l);break}}}finally{qc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?il(e):""}function V_(e){switch(e.tag){case 5:return il(e.type);case 16:return il("Lazy");case 13:return il("Suspense");case 19:return il("SuspenseList");case 0:case 2:case 15:return e=Vc(e.type,!1),e;case 11:return e=Vc(e.type.render,!1),e;case 1:return e=Vc(e.type,!0),e;default:return""}}function Qf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xo:return"Fragment";case Jo:return"Portal";case qf:return"Profiler";case Ih:return"StrictMode";case Vf:return"Suspense";case Kf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case n0:return(e.displayName||"Context")+".Consumer";case t0:return(e._context.displayName||"Context")+".Provider";case $h:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rh:return t=e.displayName||null,t!==null?t:Qf(e.type)||"Memo";case vi:t=e._payload,e=e._init;try{return Qf(e(t))}catch{}}return null}function K_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qf(t);case 8:return t===Ih?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ri(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function i0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Q_(e){var t=i0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ca(e){e._valueTracker||(e._valueTracker=Q_(e))}function o0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=i0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Tu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gf(e,t){var n=t.checked;return ht({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function cm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ri(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function s0(e,t){t=t.checked,t!=null&&Th(e,"checked",t,!1)}function Jf(e,t){s0(e,t);var n=Ri(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xf(e,t.type,n):t.hasOwnProperty("defaultValue")&&Xf(e,t.type,Ri(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Xf(e,t,n){(t!=="number"||Tu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ol=Array.isArray;function fs(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ri(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Yf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Y(91));return ht({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Y(92));if(ol(n)){if(1<n.length)throw Error(Y(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ri(n)}}function l0(e,t){var n=Ri(t.value),r=Ri(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function hm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function a0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?a0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fa,u0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fa=fa||document.createElement("div"),fa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var dl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},G_=["Webkit","ms","Moz","O"];Object.keys(dl).forEach(function(e){G_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),dl[t]=dl[e]})});function c0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||dl.hasOwnProperty(e)&&dl[e]?(""+t).trim():t+"px"}function f0(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=c0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var J_=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ed(e,t){if(t){if(J_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Y(62))}}function td(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nd=null;function Mh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rd=null,ds=null,hs=null;function pm(e){if(e=Yl(e)){if(typeof rd!="function")throw Error(Y(280));var t=e.stateNode;t&&(t=gc(t),rd(e.stateNode,e.type,t))}}function d0(e){ds?hs?hs.push(e):hs=[e]:ds=e}function h0(){if(ds){var e=ds,t=hs;if(hs=ds=null,pm(e),t)for(e=0;e<t.length;e++)pm(t[e])}}function p0(e,t){return e(t)}function m0(){}var Kc=!1;function g0(e,t,n){if(Kc)return e(t,n);Kc=!0;try{return p0(e,t,n)}finally{Kc=!1,(ds!==null||hs!==null)&&(m0(),h0())}}function kl(e,t){var n=e.stateNode;if(n===null)return null;var r=gc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Y(231,t,typeof n));return n}var id=!1;if(ei)try{var Hs={};Object.defineProperty(Hs,"passive",{get:function(){id=!0}}),window.addEventListener("test",Hs,Hs),window.removeEventListener("test",Hs,Hs)}catch{id=!1}function X_(e,t,n,r,o,i,s,l,c){var a=Array.prototype.slice.call(arguments,3);try{t.apply(n,a)}catch(h){this.onError(h)}}var hl=!1,Iu=null,$u=!1,od=null,Y_={onError:function(e){hl=!0,Iu=e}};function Z_(e,t,n,r,o,i,s,l,c){hl=!1,Iu=null,X_.apply(Y_,arguments)}function ex(e,t,n,r,o,i,s,l,c){if(Z_.apply(this,arguments),hl){if(hl){var a=Iu;hl=!1,Iu=null}else throw Error(Y(198));$u||($u=!0,od=a)}}function Oo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function y0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function mm(e){if(Oo(e)!==e)throw Error(Y(188))}function tx(e){var t=e.alternate;if(!t){if(t=Oo(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return mm(o),e;if(i===r)return mm(o),t;i=i.sibling}throw Error(Y(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?e:t}function v0(e){return e=tx(e),e!==null?w0(e):null}function w0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=w0(e);if(t!==null)return t;e=e.sibling}return null}var _0=An.unstable_scheduleCallback,gm=An.unstable_cancelCallback,nx=An.unstable_shouldYield,rx=An.unstable_requestPaint,xt=An.unstable_now,ix=An.unstable_getCurrentPriorityLevel,Nh=An.unstable_ImmediatePriority,x0=An.unstable_UserBlockingPriority,Ru=An.unstable_NormalPriority,ox=An.unstable_LowPriority,S0=An.unstable_IdlePriority,dc=null,Fr=null;function sx(e){if(Fr&&typeof Fr.onCommitFiberRoot=="function")try{Fr.onCommitFiberRoot(dc,e,void 0,(e.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:ux,lx=Math.log,ax=Math.LN2;function ux(e){return e>>>=0,e===0?32:31-(lx(e)/ax|0)|0}var da=64,ha=4194304;function sl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Mu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~o;l!==0?r=sl(l):(i&=s,i!==0&&(r=sl(i)))}else s=n&~o,s!==0?r=sl(s):i!==0&&(r=sl(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ar(t),o=1<<n,r|=e[n],t&=~o;return r}function cx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-ar(i),l=1<<s,c=o[s];c===-1?(!(l&n)||l&r)&&(o[s]=cx(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function sd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function b0(){var e=da;return da<<=1,!(da&4194240)&&(da=64),e}function Qc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Jl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ar(t),e[t]=n}function dx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-ar(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Fh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ar(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Ge=0;function E0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var C0,Lh,k0,P0,A0,ld=!1,pa=[],Ei=null,Ci=null,ki=null,Pl=new Map,Al=new Map,_i=[],hx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ym(e,t){switch(e){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":Pl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(t.pointerId)}}function Ws(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=Yl(t),t!==null&&Lh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function px(e,t,n,r,o){switch(t){case"focusin":return Ei=Ws(Ei,e,t,n,r,o),!0;case"dragenter":return Ci=Ws(Ci,e,t,n,r,o),!0;case"mouseover":return ki=Ws(ki,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Pl.set(i,Ws(Pl.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Al.set(i,Ws(Al.get(i)||null,e,t,n,r,o)),!0}return!1}function O0(e){var t=po(e.target);if(t!==null){var n=Oo(t);if(n!==null){if(t=n.tag,t===13){if(t=y0(n),t!==null){e.blockedOn=t,A0(e.priority,function(){k0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ad(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);nd=r,n.target.dispatchEvent(r),nd=null}else return t=Yl(n),t!==null&&Lh(t),e.blockedOn=n,!1;t.shift()}return!0}function vm(e,t,n){Fa(e)&&n.delete(t)}function mx(){ld=!1,Ei!==null&&Fa(Ei)&&(Ei=null),Ci!==null&&Fa(Ci)&&(Ci=null),ki!==null&&Fa(ki)&&(ki=null),Pl.forEach(vm),Al.forEach(vm)}function qs(e,t){e.blockedOn===t&&(e.blockedOn=null,ld||(ld=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,mx)))}function Ol(e){function t(o){return qs(o,e)}if(0<pa.length){qs(pa[0],e);for(var n=1;n<pa.length;n++){var r=pa[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ei!==null&&qs(Ei,e),Ci!==null&&qs(Ci,e),ki!==null&&qs(ki,e),Pl.forEach(t),Al.forEach(t),n=0;n<_i.length;n++)r=_i[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<_i.length&&(n=_i[0],n.blockedOn===null);)O0(n),n.blockedOn===null&&_i.shift()}var ps=oi.ReactCurrentBatchConfig,Nu=!0;function gx(e,t,n,r){var o=Ge,i=ps.transition;ps.transition=null;try{Ge=1,jh(e,t,n,r)}finally{Ge=o,ps.transition=i}}function yx(e,t,n,r){var o=Ge,i=ps.transition;ps.transition=null;try{Ge=4,jh(e,t,n,r)}finally{Ge=o,ps.transition=i}}function jh(e,t,n,r){if(Nu){var o=ad(e,t,n,r);if(o===null)of(e,t,r,Fu,n),ym(e,r);else if(px(o,e,t,n,r))r.stopPropagation();else if(ym(e,r),t&4&&-1<hx.indexOf(e)){for(;o!==null;){var i=Yl(o);if(i!==null&&C0(i),i=ad(e,t,n,r),i===null&&of(e,t,r,Fu,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else of(e,t,r,null,n)}}var Fu=null;function ad(e,t,n,r){if(Fu=null,e=Mh(r),e=po(e),e!==null)if(t=Oo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=y0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fu=e,null}function T0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ix()){case Nh:return 1;case x0:return 4;case Ru:case ox:return 16;case S0:return 536870912;default:return 16}default:return 16}}var Si=null,Dh=null,La=null;function I0(){if(La)return La;var e,t=Dh,n=t.length,r,o="value"in Si?Si.value:Si.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return La=o.slice(e,1<r?1-r:void 0)}function ja(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ma(){return!0}function wm(){return!1}function $n(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ma:wm,this.isPropagationStopped=wm,this}return ht(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ma)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ma)},persist:function(){},isPersistent:ma}),t}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zh=$n(As),Xl=ht({},As,{view:0,detail:0}),vx=$n(Xl),Gc,Jc,Vs,hc=ht({},Xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vs&&(Vs&&e.type==="mousemove"?(Gc=e.screenX-Vs.screenX,Jc=e.screenY-Vs.screenY):Jc=Gc=0,Vs=e),Gc)},movementY:function(e){return"movementY"in e?e.movementY:Jc}}),_m=$n(hc),wx=ht({},hc,{dataTransfer:0}),_x=$n(wx),xx=ht({},Xl,{relatedTarget:0}),Xc=$n(xx),Sx=ht({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),bx=$n(Sx),Ex=ht({},As,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cx=$n(Ex),kx=ht({},As,{data:0}),xm=$n(kx),Px={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ax={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ox={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ox[e])?!!t[e]:!1}function Bh(){return Tx}var Ix=ht({},Xl,{key:function(e){if(e.key){var t=Px[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ja(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ax[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bh,charCode:function(e){return e.type==="keypress"?ja(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ja(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$x=$n(Ix),Rx=ht({},hc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sm=$n(Rx),Mx=ht({},Xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bh}),Nx=$n(Mx),Fx=ht({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lx=$n(Fx),jx=ht({},hc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dx=$n(jx),zx=[9,13,27,32],Uh=ei&&"CompositionEvent"in window,pl=null;ei&&"documentMode"in document&&(pl=document.documentMode);var Bx=ei&&"TextEvent"in window&&!pl,$0=ei&&(!Uh||pl&&8<pl&&11>=pl),bm=String.fromCharCode(32),Em=!1;function R0(e,t){switch(e){case"keyup":return zx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function M0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yo=!1;function Ux(e,t){switch(e){case"compositionend":return M0(t);case"keypress":return t.which!==32?null:(Em=!0,bm);case"textInput":return e=t.data,e===bm&&Em?null:e;default:return null}}function Hx(e,t){if(Yo)return e==="compositionend"||!Uh&&R0(e,t)?(e=I0(),La=Dh=Si=null,Yo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $0&&t.locale!=="ko"?null:t.data;default:return null}}var Wx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Wx[e.type]:t==="textarea"}function N0(e,t,n,r){d0(r),t=Lu(t,"onChange"),0<t.length&&(n=new zh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ml=null,Tl=null;function qx(e){V0(e,0)}function pc(e){var t=ts(e);if(o0(t))return e}function Vx(e,t){if(e==="change")return t}var F0=!1;if(ei){var Yc;if(ei){var Zc="oninput"in document;if(!Zc){var km=document.createElement("div");km.setAttribute("oninput","return;"),Zc=typeof km.oninput=="function"}Yc=Zc}else Yc=!1;F0=Yc&&(!document.documentMode||9<document.documentMode)}function Pm(){ml&&(ml.detachEvent("onpropertychange",L0),Tl=ml=null)}function L0(e){if(e.propertyName==="value"&&pc(Tl)){var t=[];N0(t,Tl,e,Mh(e)),g0(qx,t)}}function Kx(e,t,n){e==="focusin"?(Pm(),ml=t,Tl=n,ml.attachEvent("onpropertychange",L0)):e==="focusout"&&Pm()}function Qx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pc(Tl)}function Gx(e,t){if(e==="click")return pc(t)}function Jx(e,t){if(e==="input"||e==="change")return pc(t)}function Xx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cr=typeof Object.is=="function"?Object.is:Xx;function Il(e,t){if(cr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Wf.call(t,o)||!cr(e[o],t[o]))return!1}return!0}function Am(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Om(e,t){var n=Am(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Am(n)}}function j0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?j0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function D0(){for(var e=window,t=Tu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Tu(e.document)}return t}function Hh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Yx(e){var t=D0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&j0(n.ownerDocument.documentElement,n)){if(r!==null&&Hh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=Om(n,i);var s=Om(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Zx=ei&&"documentMode"in document&&11>=document.documentMode,Zo=null,ud=null,gl=null,cd=!1;function Tm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cd||Zo==null||Zo!==Tu(r)||(r=Zo,"selectionStart"in r&&Hh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gl&&Il(gl,r)||(gl=r,r=Lu(ud,"onSelect"),0<r.length&&(t=new zh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Zo)))}function ga(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var es={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionend:ga("Transition","TransitionEnd")},ef={},z0={};ei&&(z0=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function mc(e){if(ef[e])return ef[e];if(!es[e])return e;var t=es[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in z0)return ef[e]=t[n];return e}var B0=mc("animationend"),U0=mc("animationiteration"),H0=mc("animationstart"),W0=mc("transitionend"),q0=new Map,Im="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(e,t){q0.set(e,t),Ao(t,[e])}for(var tf=0;tf<Im.length;tf++){var nf=Im[tf],eS=nf.toLowerCase(),tS=nf[0].toUpperCase()+nf.slice(1);Ni(eS,"on"+tS)}Ni(B0,"onAnimationEnd");Ni(U0,"onAnimationIteration");Ni(H0,"onAnimationStart");Ni("dblclick","onDoubleClick");Ni("focusin","onFocus");Ni("focusout","onBlur");Ni(W0,"onTransitionEnd");vs("onMouseEnter",["mouseout","mouseover"]);vs("onMouseLeave",["mouseout","mouseover"]);vs("onPointerEnter",["pointerout","pointerover"]);vs("onPointerLeave",["pointerout","pointerover"]);Ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ao("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ll));function $m(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ex(r,t,void 0,e),e.currentTarget=null}function V0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],c=l.instance,a=l.currentTarget;if(l=l.listener,c!==i&&o.isPropagationStopped())break e;$m(o,l,a),i=c}else for(s=0;s<r.length;s++){if(l=r[s],c=l.instance,a=l.currentTarget,l=l.listener,c!==i&&o.isPropagationStopped())break e;$m(o,l,a),i=c}}}if($u)throw e=od,$u=!1,od=null,e}function st(e,t){var n=t[md];n===void 0&&(n=t[md]=new Set);var r=e+"__bubble";n.has(r)||(K0(t,e,2,!1),n.add(r))}function rf(e,t,n){var r=0;t&&(r|=4),K0(n,e,r,t)}var ya="_reactListening"+Math.random().toString(36).slice(2);function $l(e){if(!e[ya]){e[ya]=!0,e0.forEach(function(n){n!=="selectionchange"&&(nS.has(n)||rf(n,!1,e),rf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ya]||(t[ya]=!0,rf("selectionchange",!1,t))}}function K0(e,t,n,r){switch(T0(t)){case 1:var o=gx;break;case 4:o=yx;break;default:o=jh}n=o.bind(null,t,n,e),o=void 0,!id||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function of(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;s=s.return}for(;l!==null;){if(s=po(l),s===null)return;if(c=s.tag,c===5||c===6){r=i=s;continue e}l=l.parentNode}}r=r.return}g0(function(){var a=i,h=Mh(n),m=[];e:{var _=q0.get(e);if(_!==void 0){var p=zh,x=e;switch(e){case"keypress":if(ja(n)===0)break e;case"keydown":case"keyup":p=$x;break;case"focusin":x="focus",p=Xc;break;case"focusout":x="blur",p=Xc;break;case"beforeblur":case"afterblur":p=Xc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=_m;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=_x;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Nx;break;case B0:case U0:case H0:p=bx;break;case W0:p=Lx;break;case"scroll":p=vx;break;case"wheel":p=Dx;break;case"copy":case"cut":case"paste":p=Cx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Sm}var E=(t&4)!==0,A=!E&&e==="scroll",w=E?_!==null?_+"Capture":null:_;E=[];for(var g=a,S;g!==null;){S=g;var O=S.stateNode;if(S.tag===5&&O!==null&&(S=O,w!==null&&(O=kl(g,w),O!=null&&E.push(Rl(g,O,S)))),A)break;g=g.return}0<E.length&&(_=new p(_,x,null,n,h),m.push({event:_,listeners:E}))}}if(!(t&7)){e:{if(_=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",_&&n!==nd&&(x=n.relatedTarget||n.fromElement)&&(po(x)||x[ti]))break e;if((p||_)&&(_=h.window===h?h:(_=h.ownerDocument)?_.defaultView||_.parentWindow:window,p?(x=n.relatedTarget||n.toElement,p=a,x=x?po(x):null,x!==null&&(A=Oo(x),x!==A||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=a),p!==x)){if(E=_m,O="onMouseLeave",w="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(E=Sm,O="onPointerLeave",w="onPointerEnter",g="pointer"),A=p==null?_:ts(p),S=x==null?_:ts(x),_=new E(O,g+"leave",p,n,h),_.target=A,_.relatedTarget=S,O=null,po(h)===a&&(E=new E(w,g+"enter",x,n,h),E.target=S,E.relatedTarget=A,O=E),A=O,p&&x)t:{for(E=p,w=x,g=0,S=E;S;S=qo(S))g++;for(S=0,O=w;O;O=qo(O))S++;for(;0<g-S;)E=qo(E),g--;for(;0<S-g;)w=qo(w),S--;for(;g--;){if(E===w||w!==null&&E===w.alternate)break t;E=qo(E),w=qo(w)}E=null}else E=null;p!==null&&Rm(m,_,p,E,!1),x!==null&&A!==null&&Rm(m,A,x,E,!0)}}e:{if(_=a?ts(a):window,p=_.nodeName&&_.nodeName.toLowerCase(),p==="select"||p==="input"&&_.type==="file")var M=Vx;else if(Cm(_))if(F0)M=Jx;else{M=Qx;var F=Kx}else(p=_.nodeName)&&p.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(M=Gx);if(M&&(M=M(e,a))){N0(m,M,n,h);break e}F&&F(e,_,a),e==="focusout"&&(F=_._wrapperState)&&F.controlled&&_.type==="number"&&Xf(_,"number",_.value)}switch(F=a?ts(a):window,e){case"focusin":(Cm(F)||F.contentEditable==="true")&&(Zo=F,ud=a,gl=null);break;case"focusout":gl=ud=Zo=null;break;case"mousedown":cd=!0;break;case"contextmenu":case"mouseup":case"dragend":cd=!1,Tm(m,n,h);break;case"selectionchange":if(Zx)break;case"keydown":case"keyup":Tm(m,n,h)}var b;if(Uh)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Yo?R0(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&($0&&n.locale!=="ko"&&(Yo||T!=="onCompositionStart"?T==="onCompositionEnd"&&Yo&&(b=I0()):(Si=h,Dh="value"in Si?Si.value:Si.textContent,Yo=!0)),F=Lu(a,T),0<F.length&&(T=new xm(T,e,null,n,h),m.push({event:T,listeners:F}),b?T.data=b:(b=M0(n),b!==null&&(T.data=b)))),(b=Bx?Ux(e,n):Hx(e,n))&&(a=Lu(a,"onBeforeInput"),0<a.length&&(h=new xm("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:a}),h.data=b))}V0(m,t)})}function Rl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lu(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=kl(e,n),i!=null&&r.unshift(Rl(e,i,o)),i=kl(e,t),i!=null&&r.push(Rl(e,i,o))),e=e.return}return r}function qo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rm(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var l=n,c=l.alternate,a=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&a!==null&&(l=a,o?(c=kl(n,i),c!=null&&s.unshift(Rl(n,c,l))):o||(c=kl(n,i),c!=null&&s.push(Rl(n,c,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var rS=/\r\n?/g,iS=/\u0000|\uFFFD/g;function Mm(e){return(typeof e=="string"?e:""+e).replace(rS,`
`).replace(iS,"")}function va(e,t,n){if(t=Mm(t),Mm(e)!==t&&n)throw Error(Y(425))}function ju(){}var fd=null,dd=null;function hd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pd=typeof setTimeout=="function"?setTimeout:void 0,oS=typeof clearTimeout=="function"?clearTimeout:void 0,Nm=typeof Promise=="function"?Promise:void 0,sS=typeof queueMicrotask=="function"?queueMicrotask:typeof Nm<"u"?function(e){return Nm.resolve(null).then(e).catch(lS)}:pd;function lS(e){setTimeout(function(){throw e})}function sf(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Ol(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Ol(t)}function Pi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Os=Math.random().toString(36).slice(2),$r="__reactFiber$"+Os,Ml="__reactProps$"+Os,ti="__reactContainer$"+Os,md="__reactEvents$"+Os,aS="__reactListeners$"+Os,uS="__reactHandles$"+Os;function po(e){var t=e[$r];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ti]||n[$r]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Fm(e);e!==null;){if(n=e[$r])return n;e=Fm(e)}return t}e=n,n=e.parentNode}return null}function Yl(e){return e=e[$r]||e[ti],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ts(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Y(33))}function gc(e){return e[Ml]||null}var gd=[],ns=-1;function Fi(e){return{current:e}}function lt(e){0>ns||(e.current=gd[ns],gd[ns]=null,ns--)}function tt(e,t){ns++,gd[ns]=e.current,e.current=t}var Mi={},Gt=Fi(Mi),an=Fi(!1),So=Mi;function ws(e,t){var n=e.type.contextTypes;if(!n)return Mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function un(e){return e=e.childContextTypes,e!=null}function Du(){lt(an),lt(Gt)}function Lm(e,t,n){if(Gt.current!==Mi)throw Error(Y(168));tt(Gt,t),tt(an,n)}function Q0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(Y(108,K_(e)||"Unknown",o));return ht({},n,r)}function zu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mi,So=Gt.current,tt(Gt,e),tt(an,an.current),!0}function jm(e,t,n){var r=e.stateNode;if(!r)throw Error(Y(169));n?(e=Q0(e,t,So),r.__reactInternalMemoizedMergedChildContext=e,lt(an),lt(Gt),tt(Gt,e)):lt(an),tt(an,n)}var Kr=null,yc=!1,lf=!1;function G0(e){Kr===null?Kr=[e]:Kr.push(e)}function cS(e){yc=!0,G0(e)}function Li(){if(!lf&&Kr!==null){lf=!0;var e=0,t=Ge;try{var n=Kr;for(Ge=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Kr=null,yc=!1}catch(o){throw Kr!==null&&(Kr=Kr.slice(e+1)),_0(Nh,Li),o}finally{Ge=t,lf=!1}}return null}var rs=[],is=0,Bu=null,Uu=0,Un=[],Hn=0,bo=null,Gr=1,Jr="";function so(e,t){rs[is++]=Uu,rs[is++]=Bu,Bu=e,Uu=t}function J0(e,t,n){Un[Hn++]=Gr,Un[Hn++]=Jr,Un[Hn++]=bo,bo=e;var r=Gr;e=Jr;var o=32-ar(r)-1;r&=~(1<<o),n+=1;var i=32-ar(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Gr=1<<32-ar(t)+o|n<<o|r,Jr=i+e}else Gr=1<<i|n<<o|r,Jr=e}function Wh(e){e.return!==null&&(so(e,1),J0(e,1,0))}function qh(e){for(;e===Bu;)Bu=rs[--is],rs[is]=null,Uu=rs[--is],rs[is]=null;for(;e===bo;)bo=Un[--Hn],Un[Hn]=null,Jr=Un[--Hn],Un[Hn]=null,Gr=Un[--Hn],Un[Hn]=null}var Pn=null,kn=null,at=!1,ir=null;function X0(e,t){var n=Wn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Dm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pn=e,kn=Pi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pn=e,kn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=bo!==null?{id:Gr,overflow:Jr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Wn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Pn=e,kn=null,!0):!1;default:return!1}}function yd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vd(e){if(at){var t=kn;if(t){var n=t;if(!Dm(e,t)){if(yd(e))throw Error(Y(418));t=Pi(n.nextSibling);var r=Pn;t&&Dm(e,t)?X0(r,n):(e.flags=e.flags&-4097|2,at=!1,Pn=e)}}else{if(yd(e))throw Error(Y(418));e.flags=e.flags&-4097|2,at=!1,Pn=e}}}function zm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pn=e}function wa(e){if(e!==Pn)return!1;if(!at)return zm(e),at=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!hd(e.type,e.memoizedProps)),t&&(t=kn)){if(yd(e))throw Y0(),Error(Y(418));for(;t;)X0(e,t),t=Pi(t.nextSibling)}if(zm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){kn=Pi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}kn=null}}else kn=Pn?Pi(e.stateNode.nextSibling):null;return!0}function Y0(){for(var e=kn;e;)e=Pi(e.nextSibling)}function _s(){kn=Pn=null,at=!1}function Vh(e){ir===null?ir=[e]:ir.push(e)}var fS=oi.ReactCurrentBatchConfig;function Ks(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=o.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,e))}return e}function _a(e,t){throw e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bm(e){var t=e._init;return t(e._payload)}function Z0(e){function t(w,g){if(e){var S=w.deletions;S===null?(w.deletions=[g],w.flags|=16):S.push(g)}}function n(w,g){if(!e)return null;for(;g!==null;)t(w,g),g=g.sibling;return null}function r(w,g){for(w=new Map;g!==null;)g.key!==null?w.set(g.key,g):w.set(g.index,g),g=g.sibling;return w}function o(w,g){return w=Ii(w,g),w.index=0,w.sibling=null,w}function i(w,g,S){return w.index=S,e?(S=w.alternate,S!==null?(S=S.index,S<g?(w.flags|=2,g):S):(w.flags|=2,g)):(w.flags|=1048576,g)}function s(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,g,S,O){return g===null||g.tag!==6?(g=pf(S,w.mode,O),g.return=w,g):(g=o(g,S),g.return=w,g)}function c(w,g,S,O){var M=S.type;return M===Xo?h(w,g,S.props.children,O,S.key):g!==null&&(g.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===vi&&Bm(M)===g.type)?(O=o(g,S.props),O.ref=Ks(w,g,S),O.return=w,O):(O=qa(S.type,S.key,S.props,null,w.mode,O),O.ref=Ks(w,g,S),O.return=w,O)}function a(w,g,S,O){return g===null||g.tag!==4||g.stateNode.containerInfo!==S.containerInfo||g.stateNode.implementation!==S.implementation?(g=mf(S,w.mode,O),g.return=w,g):(g=o(g,S.children||[]),g.return=w,g)}function h(w,g,S,O,M){return g===null||g.tag!==7?(g=wo(S,w.mode,O,M),g.return=w,g):(g=o(g,S),g.return=w,g)}function m(w,g,S){if(typeof g=="string"&&g!==""||typeof g=="number")return g=pf(""+g,w.mode,S),g.return=w,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ua:return S=qa(g.type,g.key,g.props,null,w.mode,S),S.ref=Ks(w,null,g),S.return=w,S;case Jo:return g=mf(g,w.mode,S),g.return=w,g;case vi:var O=g._init;return m(w,O(g._payload),S)}if(ol(g)||Us(g))return g=wo(g,w.mode,S,null),g.return=w,g;_a(w,g)}return null}function _(w,g,S,O){var M=g!==null?g.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return M!==null?null:l(w,g,""+S,O);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ua:return S.key===M?c(w,g,S,O):null;case Jo:return S.key===M?a(w,g,S,O):null;case vi:return M=S._init,_(w,g,M(S._payload),O)}if(ol(S)||Us(S))return M!==null?null:h(w,g,S,O,null);_a(w,S)}return null}function p(w,g,S,O,M){if(typeof O=="string"&&O!==""||typeof O=="number")return w=w.get(S)||null,l(g,w,""+O,M);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case ua:return w=w.get(O.key===null?S:O.key)||null,c(g,w,O,M);case Jo:return w=w.get(O.key===null?S:O.key)||null,a(g,w,O,M);case vi:var F=O._init;return p(w,g,S,F(O._payload),M)}if(ol(O)||Us(O))return w=w.get(S)||null,h(g,w,O,M,null);_a(g,O)}return null}function x(w,g,S,O){for(var M=null,F=null,b=g,T=g=0,L=null;b!==null&&T<S.length;T++){b.index>T?(L=b,b=null):L=b.sibling;var j=_(w,b,S[T],O);if(j===null){b===null&&(b=L);break}e&&b&&j.alternate===null&&t(w,b),g=i(j,g,T),F===null?M=j:F.sibling=j,F=j,b=L}if(T===S.length)return n(w,b),at&&so(w,T),M;if(b===null){for(;T<S.length;T++)b=m(w,S[T],O),b!==null&&(g=i(b,g,T),F===null?M=b:F.sibling=b,F=b);return at&&so(w,T),M}for(b=r(w,b);T<S.length;T++)L=p(b,w,T,S[T],O),L!==null&&(e&&L.alternate!==null&&b.delete(L.key===null?T:L.key),g=i(L,g,T),F===null?M=L:F.sibling=L,F=L);return e&&b.forEach(function(W){return t(w,W)}),at&&so(w,T),M}function E(w,g,S,O){var M=Us(S);if(typeof M!="function")throw Error(Y(150));if(S=M.call(S),S==null)throw Error(Y(151));for(var F=M=null,b=g,T=g=0,L=null,j=S.next();b!==null&&!j.done;T++,j=S.next()){b.index>T?(L=b,b=null):L=b.sibling;var W=_(w,b,j.value,O);if(W===null){b===null&&(b=L);break}e&&b&&W.alternate===null&&t(w,b),g=i(W,g,T),F===null?M=W:F.sibling=W,F=W,b=L}if(j.done)return n(w,b),at&&so(w,T),M;if(b===null){for(;!j.done;T++,j=S.next())j=m(w,j.value,O),j!==null&&(g=i(j,g,T),F===null?M=j:F.sibling=j,F=j);return at&&so(w,T),M}for(b=r(w,b);!j.done;T++,j=S.next())j=p(b,w,T,j.value,O),j!==null&&(e&&j.alternate!==null&&b.delete(j.key===null?T:j.key),g=i(j,g,T),F===null?M=j:F.sibling=j,F=j);return e&&b.forEach(function(le){return t(w,le)}),at&&so(w,T),M}function A(w,g,S,O){if(typeof S=="object"&&S!==null&&S.type===Xo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case ua:e:{for(var M=S.key,F=g;F!==null;){if(F.key===M){if(M=S.type,M===Xo){if(F.tag===7){n(w,F.sibling),g=o(F,S.props.children),g.return=w,w=g;break e}}else if(F.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===vi&&Bm(M)===F.type){n(w,F.sibling),g=o(F,S.props),g.ref=Ks(w,F,S),g.return=w,w=g;break e}n(w,F);break}else t(w,F);F=F.sibling}S.type===Xo?(g=wo(S.props.children,w.mode,O,S.key),g.return=w,w=g):(O=qa(S.type,S.key,S.props,null,w.mode,O),O.ref=Ks(w,g,S),O.return=w,w=O)}return s(w);case Jo:e:{for(F=S.key;g!==null;){if(g.key===F)if(g.tag===4&&g.stateNode.containerInfo===S.containerInfo&&g.stateNode.implementation===S.implementation){n(w,g.sibling),g=o(g,S.children||[]),g.return=w,w=g;break e}else{n(w,g);break}else t(w,g);g=g.sibling}g=mf(S,w.mode,O),g.return=w,w=g}return s(w);case vi:return F=S._init,A(w,g,F(S._payload),O)}if(ol(S))return x(w,g,S,O);if(Us(S))return E(w,g,S,O);_a(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,g!==null&&g.tag===6?(n(w,g.sibling),g=o(g,S),g.return=w,w=g):(n(w,g),g=pf(S,w.mode,O),g.return=w,w=g),s(w)):n(w,g)}return A}var xs=Z0(!0),ev=Z0(!1),Hu=Fi(null),Wu=null,os=null,Kh=null;function Qh(){Kh=os=Wu=null}function Gh(e){var t=Hu.current;lt(Hu),e._currentValue=t}function wd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ms(e,t){Wu=e,Kh=os=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ln=!0),e.firstContext=null)}function Vn(e){var t=e._currentValue;if(Kh!==e)if(e={context:e,memoizedValue:t,next:null},os===null){if(Wu===null)throw Error(Y(308));os=e,Wu.dependencies={lanes:0,firstContext:e}}else os=os.next=e;return t}var mo=null;function Jh(e){mo===null?mo=[e]:mo.push(e)}function tv(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Jh(t)):(n.next=o.next,o.next=n),t.interleaved=n,ni(e,r)}function ni(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wi=!1;function Xh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ai(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,He&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,ni(e,n)}return o=r.interleaved,o===null?(t.next=t,Jh(r)):(t.next=o.next,o.next=t),r.interleaved=t,ni(e,n)}function Da(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Fh(e,n)}}function Um(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qu(e,t,n,r){var o=e.updateQueue;wi=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var c=l,a=c.next;c.next=null,s===null?i=a:s.next=a,s=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==s&&(l===null?h.firstBaseUpdate=a:l.next=a,h.lastBaseUpdate=c))}if(i!==null){var m=o.baseState;s=0,h=a=c=null,l=i;do{var _=l.lane,p=l.eventTime;if((r&_)===_){h!==null&&(h=h.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,E=l;switch(_=t,p=n,E.tag){case 1:if(x=E.payload,typeof x=="function"){m=x.call(p,m,_);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=E.payload,_=typeof x=="function"?x.call(p,m,_):x,_==null)break e;m=ht({},m,_);break e;case 2:wi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,_=o.effects,_===null?o.effects=[l]:_.push(l))}else p={eventTime:p,lane:_,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(a=h=p,c=m):h=h.next=p,s|=_;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;_=l,l=_.next,_.next=null,o.lastBaseUpdate=_,o.shared.pending=null}}while(1);if(h===null&&(c=m),o.baseState=c,o.firstBaseUpdate=a,o.lastBaseUpdate=h,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Co|=s,e.lanes=s,e.memoizedState=m}}function Hm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(Y(191,o));o.call(r)}}}var Zl={},Lr=Fi(Zl),Nl=Fi(Zl),Fl=Fi(Zl);function go(e){if(e===Zl)throw Error(Y(174));return e}function Yh(e,t){switch(tt(Fl,t),tt(Nl,e),tt(Lr,Zl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zf(t,e)}lt(Lr),tt(Lr,t)}function Ss(){lt(Lr),lt(Nl),lt(Fl)}function rv(e){go(Fl.current);var t=go(Lr.current),n=Zf(t,e.type);t!==n&&(tt(Nl,e),tt(Lr,n))}function Zh(e){Nl.current===e&&(lt(Lr),lt(Nl))}var ft=Fi(0);function Vu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var af=[];function ep(){for(var e=0;e<af.length;e++)af[e]._workInProgressVersionPrimary=null;af.length=0}var za=oi.ReactCurrentDispatcher,uf=oi.ReactCurrentBatchConfig,Eo=0,dt=null,Pt=null,$t=null,Ku=!1,yl=!1,Ll=0,dS=0;function qt(){throw Error(Y(321))}function tp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function np(e,t,n,r,o,i){if(Eo=i,dt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,za.current=e===null||e.memoizedState===null?gS:yS,e=n(r,o),yl){i=0;do{if(yl=!1,Ll=0,25<=i)throw Error(Y(301));i+=1,$t=Pt=null,t.updateQueue=null,za.current=vS,e=n(r,o)}while(yl)}if(za.current=Qu,t=Pt!==null&&Pt.next!==null,Eo=0,$t=Pt=dt=null,Ku=!1,t)throw Error(Y(300));return e}function rp(){var e=Ll!==0;return Ll=0,e}function Or(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?dt.memoizedState=$t=e:$t=$t.next=e,$t}function Kn(){if(Pt===null){var e=dt.alternate;e=e!==null?e.memoizedState:null}else e=Pt.next;var t=$t===null?dt.memoizedState:$t.next;if(t!==null)$t=t,Pt=e;else{if(e===null)throw Error(Y(310));Pt=e,e={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},$t===null?dt.memoizedState=$t=e:$t=$t.next=e}return $t}function jl(e,t){return typeof t=="function"?t(e):t}function cf(e){var t=Kn(),n=t.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=e;var r=Pt,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var l=s=null,c=null,a=i;do{var h=a.lane;if((Eo&h)===h)c!==null&&(c=c.next={lane:0,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null}),r=a.hasEagerState?a.eagerState:e(r,a.action);else{var m={lane:h,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null};c===null?(l=c=m,s=r):c=c.next=m,dt.lanes|=h,Co|=h}a=a.next}while(a!==null&&a!==i);c===null?s=r:c.next=l,cr(r,t.memoizedState)||(ln=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,dt.lanes|=i,Co|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ff(e){var t=Kn(),n=t.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);cr(i,t.memoizedState)||(ln=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function iv(){}function ov(e,t){var n=dt,r=Kn(),o=t(),i=!cr(r.memoizedState,o);if(i&&(r.memoizedState=o,ln=!0),r=r.queue,ip(av.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||$t!==null&&$t.memoizedState.tag&1){if(n.flags|=2048,Dl(9,lv.bind(null,n,r,o,t),void 0,null),Mt===null)throw Error(Y(349));Eo&30||sv(n,t,o)}return o}function sv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=dt.updateQueue,t===null?(t={lastEffect:null,stores:null},dt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function lv(e,t,n,r){t.value=n,t.getSnapshot=r,uv(t)&&cv(e)}function av(e,t,n){return n(function(){uv(t)&&cv(e)})}function uv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cr(e,n)}catch{return!0}}function cv(e){var t=ni(e,1);t!==null&&ur(t,e,1,-1)}function Wm(e){var t=Or();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jl,lastRenderedState:e},t.queue=e,e=e.dispatch=mS.bind(null,dt,e),[t.memoizedState,e]}function Dl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=dt.updateQueue,t===null?(t={lastEffect:null,stores:null},dt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function fv(){return Kn().memoizedState}function Ba(e,t,n,r){var o=Or();dt.flags|=e,o.memoizedState=Dl(1|t,n,void 0,r===void 0?null:r)}function vc(e,t,n,r){var o=Kn();r=r===void 0?null:r;var i=void 0;if(Pt!==null){var s=Pt.memoizedState;if(i=s.destroy,r!==null&&tp(r,s.deps)){o.memoizedState=Dl(t,n,i,r);return}}dt.flags|=e,o.memoizedState=Dl(1|t,n,i,r)}function qm(e,t){return Ba(8390656,8,e,t)}function ip(e,t){return vc(2048,8,e,t)}function dv(e,t){return vc(4,2,e,t)}function hv(e,t){return vc(4,4,e,t)}function pv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mv(e,t,n){return n=n!=null?n.concat([e]):null,vc(4,4,pv.bind(null,t,e),n)}function op(){}function gv(e,t){var n=Kn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function yv(e,t){var n=Kn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function vv(e,t,n){return Eo&21?(cr(n,t)||(n=b0(),dt.lanes|=n,Co|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ln=!0),e.memoizedState=n)}function hS(e,t){var n=Ge;Ge=n!==0&&4>n?n:4,e(!0);var r=uf.transition;uf.transition={};try{e(!1),t()}finally{Ge=n,uf.transition=r}}function wv(){return Kn().memoizedState}function pS(e,t,n){var r=Ti(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_v(e))xv(t,n);else if(n=tv(e,t,n,r),n!==null){var o=Zt();ur(n,e,r,o),Sv(n,t,r)}}function mS(e,t,n){var r=Ti(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_v(e))xv(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,n);if(o.hasEagerState=!0,o.eagerState=l,cr(l,s)){var c=t.interleaved;c===null?(o.next=o,Jh(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=tv(e,t,o,r),n!==null&&(o=Zt(),ur(n,e,r,o),Sv(n,t,r))}}function _v(e){var t=e.alternate;return e===dt||t!==null&&t===dt}function xv(e,t){yl=Ku=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Sv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Fh(e,n)}}var Qu={readContext:Vn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},gS={readContext:Vn,useCallback:function(e,t){return Or().memoizedState=[e,t===void 0?null:t],e},useContext:Vn,useEffect:qm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ba(4194308,4,pv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ba(4,2,e,t)},useMemo:function(e,t){var n=Or();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Or();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=pS.bind(null,dt,e),[r.memoizedState,e]},useRef:function(e){var t=Or();return e={current:e},t.memoizedState=e},useState:Wm,useDebugValue:op,useDeferredValue:function(e){return Or().memoizedState=e},useTransition:function(){var e=Wm(!1),t=e[0];return e=hS.bind(null,e[1]),Or().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=dt,o=Or();if(at){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=t(),Mt===null)throw Error(Y(349));Eo&30||sv(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,qm(av.bind(null,r,i,e),[e]),r.flags|=2048,Dl(9,lv.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Or(),t=Mt.identifierPrefix;if(at){var n=Jr,r=Gr;n=(r&~(1<<32-ar(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ll++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dS++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yS={readContext:Vn,useCallback:gv,useContext:Vn,useEffect:ip,useImperativeHandle:mv,useInsertionEffect:dv,useLayoutEffect:hv,useMemo:yv,useReducer:cf,useRef:fv,useState:function(){return cf(jl)},useDebugValue:op,useDeferredValue:function(e){var t=Kn();return vv(t,Pt.memoizedState,e)},useTransition:function(){var e=cf(jl)[0],t=Kn().memoizedState;return[e,t]},useMutableSource:iv,useSyncExternalStore:ov,useId:wv,unstable_isNewReconciler:!1},vS={readContext:Vn,useCallback:gv,useContext:Vn,useEffect:ip,useImperativeHandle:mv,useInsertionEffect:dv,useLayoutEffect:hv,useMemo:yv,useReducer:ff,useRef:fv,useState:function(){return ff(jl)},useDebugValue:op,useDeferredValue:function(e){var t=Kn();return Pt===null?t.memoizedState=e:vv(t,Pt.memoizedState,e)},useTransition:function(){var e=ff(jl)[0],t=Kn().memoizedState;return[e,t]},useMutableSource:iv,useSyncExternalStore:ov,useId:wv,unstable_isNewReconciler:!1};function nr(e,t){if(e&&e.defaultProps){t=ht({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function _d(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ht({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var wc={isMounted:function(e){return(e=e._reactInternals)?Oo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zt(),o=Ti(e),i=Yr(r,o);i.payload=t,n!=null&&(i.callback=n),t=Ai(e,i,o),t!==null&&(ur(t,e,o,r),Da(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zt(),o=Ti(e),i=Yr(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ai(e,i,o),t!==null&&(ur(t,e,o,r),Da(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zt(),r=Ti(e),o=Yr(n,r);o.tag=2,t!=null&&(o.callback=t),t=Ai(e,o,r),t!==null&&(ur(t,e,r,n),Da(t,e,r))}};function Vm(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Il(n,r)||!Il(o,i):!0}function bv(e,t,n){var r=!1,o=Mi,i=t.contextType;return typeof i=="object"&&i!==null?i=Vn(i):(o=un(t)?So:Gt.current,r=t.contextTypes,i=(r=r!=null)?ws(e,o):Mi),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Km(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wc.enqueueReplaceState(t,t.state,null)}function xd(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Xh(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Vn(i):(i=un(t)?So:Gt.current,o.context=ws(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(_d(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&wc.enqueueReplaceState(o,o.state,null),qu(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function bs(e,t){try{var n="",r=t;do n+=V_(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function df(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Sd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var wS=typeof WeakMap=="function"?WeakMap:Map;function Ev(e,t,n){n=Yr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ju||(Ju=!0,$d=r),Sd(e,t)},n}function Cv(e,t,n){n=Yr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Sd(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Sd(e,t),typeof r!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Qm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new wS;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=RS.bind(null,e,t,n),t.then(e,e))}function Gm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Jm(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Yr(-1,1),t.tag=2,Ai(n,t,1))),n.lanes|=1),e)}var _S=oi.ReactCurrentOwner,ln=!1;function Yt(e,t,n,r){t.child=e===null?ev(t,null,n,r):xs(t,e.child,n,r)}function Xm(e,t,n,r,o){n=n.render;var i=t.ref;return ms(t,o),r=np(e,t,n,r,i,o),n=rp(),e!==null&&!ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,ri(e,t,o)):(at&&n&&Wh(t),t.flags|=1,Yt(e,t,r,o),t.child)}function Ym(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!hp(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,kv(e,t,i,r,o)):(e=qa(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Il,n(s,r)&&e.ref===t.ref)return ri(e,t,o)}return t.flags|=1,e=Ii(i,r),e.ref=t.ref,e.return=t,t.child=e}function kv(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Il(i,r)&&e.ref===t.ref)if(ln=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(ln=!0);else return t.lanes=e.lanes,ri(e,t,o)}return bd(e,t,n,r,o)}function Pv(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(ls,En),En|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,tt(ls,En),En|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,tt(ls,En),En|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,tt(ls,En),En|=r;return Yt(e,t,o,n),t.child}function Av(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function bd(e,t,n,r,o){var i=un(n)?So:Gt.current;return i=ws(t,i),ms(t,o),n=np(e,t,n,r,i,o),r=rp(),e!==null&&!ln?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,ri(e,t,o)):(at&&r&&Wh(t),t.flags|=1,Yt(e,t,n,o),t.child)}function Zm(e,t,n,r,o){if(un(n)){var i=!0;zu(t)}else i=!1;if(ms(t,o),t.stateNode===null)Ua(e,t),bv(t,n,r),xd(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var c=s.context,a=n.contextType;typeof a=="object"&&a!==null?a=Vn(a):(a=un(n)?So:Gt.current,a=ws(t,a));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||c!==a)&&Km(t,s,r,a),wi=!1;var _=t.memoizedState;s.state=_,qu(t,r,s,o),c=t.memoizedState,l!==r||_!==c||an.current||wi?(typeof h=="function"&&(_d(t,n,h,r),c=t.memoizedState),(l=wi||Vm(t,n,l,r,_,c,a))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=a,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,nv(e,t),l=t.memoizedProps,a=t.type===t.elementType?l:nr(t.type,l),s.props=a,m=t.pendingProps,_=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=Vn(c):(c=un(n)?So:Gt.current,c=ws(t,c));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==m||_!==c)&&Km(t,s,r,c),wi=!1,_=t.memoizedState,s.state=_,qu(t,r,s,o);var x=t.memoizedState;l!==m||_!==x||an.current||wi?(typeof p=="function"&&(_d(t,n,p,r),x=t.memoizedState),(a=wi||Vm(t,n,a,r,_,x,c)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),s.props=r,s.state=x,s.context=c,r=a):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),r=!1)}return Ed(e,t,n,r,i,o)}function Ed(e,t,n,r,o,i){Av(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&jm(t,n,!1),ri(e,t,i);r=t.stateNode,_S.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=xs(t,e.child,null,i),t.child=xs(t,null,l,i)):Yt(e,t,l,i),t.memoizedState=r.state,o&&jm(t,n,!0),t.child}function Ov(e){var t=e.stateNode;t.pendingContext?Lm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Lm(e,t.context,!1),Yh(e,t.containerInfo)}function eg(e,t,n,r,o){return _s(),Vh(o),t.flags|=256,Yt(e,t,n,r),t.child}var Cd={dehydrated:null,treeContext:null,retryLane:0};function kd(e){return{baseLanes:e,cachePool:null,transitions:null}}function Tv(e,t,n){var r=t.pendingProps,o=ft.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),tt(ft,o&1),e===null)return vd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Sc(s,r,0,null),e=wo(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=kd(n),t.memoizedState=Cd,e):sp(t,s));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return xS(e,t,s,r,l,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,l=o.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ii(o,c),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=Ii(l,i):(i=wo(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?kd(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=Cd,r}return i=e.child,e=i.sibling,r=Ii(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function sp(e,t){return t=Sc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xa(e,t,n,r){return r!==null&&Vh(r),xs(t,e.child,null,n),e=sp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xS(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=df(Error(Y(422))),xa(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Sc({mode:"visible",children:r.children},o,0,null),i=wo(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&xs(t,e.child,null,s),t.child.memoizedState=kd(s),t.memoizedState=Cd,i);if(!(t.mode&1))return xa(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(Y(419)),r=df(i,r,void 0),xa(e,t,s,r)}if(l=(s&e.childLanes)!==0,ln||l){if(r=Mt,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,ni(e,o),ur(r,e,o,-1))}return dp(),r=df(Error(Y(421))),xa(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=MS.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,kn=Pi(o.nextSibling),Pn=t,at=!0,ir=null,e!==null&&(Un[Hn++]=Gr,Un[Hn++]=Jr,Un[Hn++]=bo,Gr=e.id,Jr=e.overflow,bo=t),t=sp(t,r.children),t.flags|=4096,t)}function tg(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),wd(e.return,t,n)}function hf(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Iv(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Yt(e,t,r.children,n),r=ft.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tg(e,n,t);else if(e.tag===19)tg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(tt(ft,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Vu(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),hf(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Vu(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}hf(t,!0,n,null,i);break;case"together":hf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ua(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ri(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Co|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,n=Ii(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ii(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function SS(e,t,n){switch(t.tag){case 3:Ov(t),_s();break;case 5:rv(t);break;case 1:un(t.type)&&zu(t);break;case 4:Yh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;tt(Hu,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(tt(ft,ft.current&1),t.flags|=128,null):n&t.child.childLanes?Tv(e,t,n):(tt(ft,ft.current&1),e=ri(e,t,n),e!==null?e.sibling:null);tt(ft,ft.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Iv(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),tt(ft,ft.current),r)break;return null;case 22:case 23:return t.lanes=0,Pv(e,t,n)}return ri(e,t,n)}var $v,Pd,Rv,Mv;$v=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pd=function(){};Rv=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,go(Lr.current);var i=null;switch(n){case"input":o=Gf(e,o),r=Gf(e,r),i=[];break;case"select":o=ht({},o,{value:void 0}),r=ht({},r,{value:void 0}),i=[];break;case"textarea":o=Yf(e,o),r=Yf(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ju)}ed(n,r);var s;n=null;for(a in o)if(!r.hasOwnProperty(a)&&o.hasOwnProperty(a)&&o[a]!=null)if(a==="style"){var l=o[a];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else a!=="dangerouslySetInnerHTML"&&a!=="children"&&a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(El.hasOwnProperty(a)?i||(i=[]):(i=i||[]).push(a,null));for(a in r){var c=r[a];if(l=o!=null?o[a]:void 0,r.hasOwnProperty(a)&&c!==l&&(c!=null||l!=null))if(a==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(a,n)),n=c;else a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(a,c)):a==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(a,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&(El.hasOwnProperty(a)?(c!=null&&a==="onScroll"&&st("scroll",e),i||l===c||(i=[])):(i=i||[]).push(a,c))}n&&(i=i||[]).push("style",n);var a=i;(t.updateQueue=a)&&(t.flags|=4)}};Mv=function(e,t,n,r){n!==r&&(t.flags|=4)};function Qs(e,t){if(!at)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bS(e,t,n){var r=t.pendingProps;switch(qh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(t),null;case 1:return un(t.type)&&Du(),Vt(t),null;case 3:return r=t.stateNode,Ss(),lt(an),lt(Gt),ep(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ir!==null&&(Nd(ir),ir=null))),Pd(e,t),Vt(t),null;case 5:Zh(t);var o=go(Fl.current);if(n=t.type,e!==null&&t.stateNode!=null)Rv(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Y(166));return Vt(t),null}if(e=go(Lr.current),wa(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[$r]=t,r[Ml]=i,e=(t.mode&1)!==0,n){case"dialog":st("cancel",r),st("close",r);break;case"iframe":case"object":case"embed":st("load",r);break;case"video":case"audio":for(o=0;o<ll.length;o++)st(ll[o],r);break;case"source":st("error",r);break;case"img":case"image":case"link":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"input":cm(r,i),st("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},st("invalid",r);break;case"textarea":dm(r,i),st("invalid",r)}ed(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&va(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&va(r.textContent,l,e),o=["children",""+l]):El.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&st("scroll",r)}switch(n){case"input":ca(r),fm(r,i,!0);break;case"textarea":ca(r),hm(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ju)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=a0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[$r]=t,e[Ml]=r,$v(e,t,!1,!1),t.stateNode=e;e:{switch(s=td(n,r),n){case"dialog":st("cancel",e),st("close",e),o=r;break;case"iframe":case"object":case"embed":st("load",e),o=r;break;case"video":case"audio":for(o=0;o<ll.length;o++)st(ll[o],e);o=r;break;case"source":st("error",e),o=r;break;case"img":case"image":case"link":st("error",e),st("load",e),o=r;break;case"details":st("toggle",e),o=r;break;case"input":cm(e,r),o=Gf(e,r),st("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=ht({},r,{value:void 0}),st("invalid",e);break;case"textarea":dm(e,r),o=Yf(e,r),st("invalid",e);break;default:o=r}ed(n,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?f0(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&u0(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Cl(e,c):typeof c=="number"&&Cl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(El.hasOwnProperty(i)?c!=null&&i==="onScroll"&&st("scroll",e):c!=null&&Th(e,i,c,s))}switch(n){case"input":ca(e),fm(e,r,!1);break;case"textarea":ca(e),hm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ri(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?fs(e,!!r.multiple,i,!1):r.defaultValue!=null&&fs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=ju)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Vt(t),null;case 6:if(e&&t.stateNode!=null)Mv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Y(166));if(n=go(Fl.current),go(Lr.current),wa(t)){if(r=t.stateNode,n=t.memoizedProps,r[$r]=t,(i=r.nodeValue!==n)&&(e=Pn,e!==null))switch(e.tag){case 3:va(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&va(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$r]=t,t.stateNode=r}return Vt(t),null;case 13:if(lt(ft),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(at&&kn!==null&&t.mode&1&&!(t.flags&128))Y0(),_s(),t.flags|=98560,i=!1;else if(i=wa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Y(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[$r]=t}else _s(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vt(t),i=!1}else ir!==null&&(Nd(ir),ir=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ft.current&1?Ot===0&&(Ot=3):dp())),t.updateQueue!==null&&(t.flags|=4),Vt(t),null);case 4:return Ss(),Pd(e,t),e===null&&$l(t.stateNode.containerInfo),Vt(t),null;case 10:return Gh(t.type._context),Vt(t),null;case 17:return un(t.type)&&Du(),Vt(t),null;case 19:if(lt(ft),i=t.memoizedState,i===null)return Vt(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)Qs(i,!1);else{if(Ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Vu(e),s!==null){for(t.flags|=128,Qs(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return tt(ft,ft.current&1|2),t.child}e=e.sibling}i.tail!==null&&xt()>Es&&(t.flags|=128,r=!0,Qs(i,!1),t.lanes=4194304)}else{if(!r)if(e=Vu(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Qs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!at)return Vt(t),null}else 2*xt()-i.renderingStartTime>Es&&n!==1073741824&&(t.flags|=128,r=!0,Qs(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=xt(),t.sibling=null,n=ft.current,tt(ft,r?n&1|2:n&1),t):(Vt(t),null);case 22:case 23:return fp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?En&1073741824&&(Vt(t),t.subtreeFlags&6&&(t.flags|=8192)):Vt(t),null;case 24:return null;case 25:return null}throw Error(Y(156,t.tag))}function ES(e,t){switch(qh(t),t.tag){case 1:return un(t.type)&&Du(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ss(),lt(an),lt(Gt),ep(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Zh(t),null;case 13:if(lt(ft),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));_s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return lt(ft),null;case 4:return Ss(),null;case 10:return Gh(t.type._context),null;case 22:case 23:return fp(),null;case 24:return null;default:return null}}var Sa=!1,Qt=!1,CS=typeof WeakSet=="function"?WeakSet:Set,ue=null;function ss(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yt(e,t,r)}else n.current=null}function Ad(e,t,n){try{n()}catch(r){yt(e,t,r)}}var ng=!1;function kS(e,t){if(fd=Nu,e=D0(),Hh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,l=-1,c=-1,a=0,h=0,m=e,_=null;t:for(;;){for(var p;m!==n||o!==0&&m.nodeType!==3||(l=s+o),m!==i||r!==0&&m.nodeType!==3||(c=s+r),m.nodeType===3&&(s+=m.nodeValue.length),(p=m.firstChild)!==null;)_=m,m=p;for(;;){if(m===e)break t;if(_===n&&++a===o&&(l=s),_===i&&++h===r&&(c=s),(p=m.nextSibling)!==null)break;m=_,_=m.parentNode}m=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(dd={focusedElem:e,selectionRange:n},Nu=!1,ue=t;ue!==null;)if(t=ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ue=e;else for(;ue!==null;){t=ue;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var E=x.memoizedProps,A=x.memoizedState,w=t.stateNode,g=w.getSnapshotBeforeUpdate(t.elementType===t.type?E:nr(t.type,E),A);w.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(O){yt(t,t.return,O)}if(e=t.sibling,e!==null){e.return=t.return,ue=e;break}ue=t.return}return x=ng,ng=!1,x}function vl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Ad(t,n,i)}o=o.next}while(o!==r)}}function _c(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Od(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Nv(e){var t=e.alternate;t!==null&&(e.alternate=null,Nv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$r],delete t[Ml],delete t[md],delete t[aS],delete t[uS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Fv(e){return e.tag===5||e.tag===3||e.tag===4}function rg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Td(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ju));else if(r!==4&&(e=e.child,e!==null))for(Td(e,t,n),e=e.sibling;e!==null;)Td(e,t,n),e=e.sibling}function Id(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Id(e,t,n),e=e.sibling;e!==null;)Id(e,t,n),e=e.sibling}var jt=null,rr=!1;function yi(e,t,n){for(n=n.child;n!==null;)Lv(e,t,n),n=n.sibling}function Lv(e,t,n){if(Fr&&typeof Fr.onCommitFiberUnmount=="function")try{Fr.onCommitFiberUnmount(dc,n)}catch{}switch(n.tag){case 5:Qt||ss(n,t);case 6:var r=jt,o=rr;jt=null,yi(e,t,n),jt=r,rr=o,jt!==null&&(rr?(e=jt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):jt.removeChild(n.stateNode));break;case 18:jt!==null&&(rr?(e=jt,n=n.stateNode,e.nodeType===8?sf(e.parentNode,n):e.nodeType===1&&sf(e,n),Ol(e)):sf(jt,n.stateNode));break;case 4:r=jt,o=rr,jt=n.stateNode.containerInfo,rr=!0,yi(e,t,n),jt=r,rr=o;break;case 0:case 11:case 14:case 15:if(!Qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Ad(n,t,s),o=o.next}while(o!==r)}yi(e,t,n);break;case 1:if(!Qt&&(ss(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){yt(n,t,l)}yi(e,t,n);break;case 21:yi(e,t,n);break;case 22:n.mode&1?(Qt=(r=Qt)||n.memoizedState!==null,yi(e,t,n),Qt=r):yi(e,t,n);break;default:yi(e,t,n)}}function ig(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new CS),t.forEach(function(r){var o=NS.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Zn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:jt=l.stateNode,rr=!1;break e;case 3:jt=l.stateNode.containerInfo,rr=!0;break e;case 4:jt=l.stateNode.containerInfo,rr=!0;break e}l=l.return}if(jt===null)throw Error(Y(160));Lv(i,s,o),jt=null,rr=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(a){yt(o,t,a)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jv(t,e),t=t.sibling}function jv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zn(t,e),Ar(e),r&4){try{vl(3,e,e.return),_c(3,e)}catch(E){yt(e,e.return,E)}try{vl(5,e,e.return)}catch(E){yt(e,e.return,E)}}break;case 1:Zn(t,e),Ar(e),r&512&&n!==null&&ss(n,n.return);break;case 5:if(Zn(t,e),Ar(e),r&512&&n!==null&&ss(n,n.return),e.flags&32){var o=e.stateNode;try{Cl(o,"")}catch(E){yt(e,e.return,E)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&s0(o,i),td(l,s);var a=td(l,i);for(s=0;s<c.length;s+=2){var h=c[s],m=c[s+1];h==="style"?f0(o,m):h==="dangerouslySetInnerHTML"?u0(o,m):h==="children"?Cl(o,m):Th(o,h,m,a)}switch(l){case"input":Jf(o,i);break;case"textarea":l0(o,i);break;case"select":var _=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?fs(o,!!i.multiple,p,!1):_!==!!i.multiple&&(i.defaultValue!=null?fs(o,!!i.multiple,i.defaultValue,!0):fs(o,!!i.multiple,i.multiple?[]:"",!1))}o[Ml]=i}catch(E){yt(e,e.return,E)}}break;case 6:if(Zn(t,e),Ar(e),r&4){if(e.stateNode===null)throw Error(Y(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(E){yt(e,e.return,E)}}break;case 3:if(Zn(t,e),Ar(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ol(t.containerInfo)}catch(E){yt(e,e.return,E)}break;case 4:Zn(t,e),Ar(e);break;case 13:Zn(t,e),Ar(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(up=xt())),r&4&&ig(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Qt=(a=Qt)||h,Zn(t,e),Qt=a):Zn(t,e),Ar(e),r&8192){if(a=e.memoizedState!==null,(e.stateNode.isHidden=a)&&!h&&e.mode&1)for(ue=e,h=e.child;h!==null;){for(m=ue=h;ue!==null;){switch(_=ue,p=_.child,_.tag){case 0:case 11:case 14:case 15:vl(4,_,_.return);break;case 1:ss(_,_.return);var x=_.stateNode;if(typeof x.componentWillUnmount=="function"){r=_,n=_.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(E){yt(r,n,E)}}break;case 5:ss(_,_.return);break;case 22:if(_.memoizedState!==null){sg(m);continue}}p!==null?(p.return=_,ue=p):sg(m)}h=h.sibling}e:for(h=null,m=e;;){if(m.tag===5){if(h===null){h=m;try{o=m.stateNode,a?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=c0("display",s))}catch(E){yt(e,e.return,E)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=a?"":m.memoizedProps}catch(E){yt(e,e.return,E)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Zn(t,e),Ar(e),r&4&&ig(e);break;case 21:break;default:Zn(t,e),Ar(e)}}function Ar(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Fv(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Cl(o,""),r.flags&=-33);var i=rg(e);Id(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,l=rg(e);Td(e,l,s);break;default:throw Error(Y(161))}}catch(c){yt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function PS(e,t,n){ue=e,Dv(e)}function Dv(e,t,n){for(var r=(e.mode&1)!==0;ue!==null;){var o=ue,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||Sa;if(!s){var l=o.alternate,c=l!==null&&l.memoizedState!==null||Qt;l=Sa;var a=Qt;if(Sa=s,(Qt=c)&&!a)for(ue=o;ue!==null;)s=ue,c=s.child,s.tag===22&&s.memoizedState!==null?lg(o):c!==null?(c.return=s,ue=c):lg(o);for(;i!==null;)ue=i,Dv(i),i=i.sibling;ue=o,Sa=l,Qt=a}og(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,ue=i):og(e)}}function og(e){for(;ue!==null;){var t=ue;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qt||_c(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:nr(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Hm(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Hm(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var a=t.alternate;if(a!==null){var h=a.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&Ol(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Qt||t.flags&512&&Od(t)}catch(_){yt(t,t.return,_)}}if(t===e){ue=null;break}if(n=t.sibling,n!==null){n.return=t.return,ue=n;break}ue=t.return}}function sg(e){for(;ue!==null;){var t=ue;if(t===e){ue=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ue=n;break}ue=t.return}}function lg(e){for(;ue!==null;){var t=ue;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{_c(4,t)}catch(c){yt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){yt(t,o,c)}}var i=t.return;try{Od(t)}catch(c){yt(t,i,c)}break;case 5:var s=t.return;try{Od(t)}catch(c){yt(t,s,c)}}}catch(c){yt(t,t.return,c)}if(t===e){ue=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ue=l;break}ue=t.return}}var AS=Math.ceil,Gu=oi.ReactCurrentDispatcher,lp=oi.ReactCurrentOwner,qn=oi.ReactCurrentBatchConfig,He=0,Mt=null,bt=null,zt=0,En=0,ls=Fi(0),Ot=0,zl=null,Co=0,xc=0,ap=0,wl=null,sn=null,up=0,Es=1/0,Vr=null,Ju=!1,$d=null,Oi=null,ba=!1,bi=null,Xu=0,_l=0,Rd=null,Ha=-1,Wa=0;function Zt(){return He&6?xt():Ha!==-1?Ha:Ha=xt()}function Ti(e){return e.mode&1?He&2&&zt!==0?zt&-zt:fS.transition!==null?(Wa===0&&(Wa=b0()),Wa):(e=Ge,e!==0||(e=window.event,e=e===void 0?16:T0(e.type)),e):1}function ur(e,t,n,r){if(50<_l)throw _l=0,Rd=null,Error(Y(185));Jl(e,n,r),(!(He&2)||e!==Mt)&&(e===Mt&&(!(He&2)&&(xc|=n),Ot===4&&xi(e,zt)),cn(e,r),n===1&&He===0&&!(t.mode&1)&&(Es=xt()+500,yc&&Li()))}function cn(e,t){var n=e.callbackNode;fx(e,t);var r=Mu(e,e===Mt?zt:0);if(r===0)n!==null&&gm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&gm(n),t===1)e.tag===0?cS(ag.bind(null,e)):G0(ag.bind(null,e)),sS(function(){!(He&6)&&Li()}),n=null;else{switch(E0(r)){case 1:n=Nh;break;case 4:n=x0;break;case 16:n=Ru;break;case 536870912:n=S0;break;default:n=Ru}n=Kv(n,zv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function zv(e,t){if(Ha=-1,Wa=0,He&6)throw Error(Y(327));var n=e.callbackNode;if(gs()&&e.callbackNode!==n)return null;var r=Mu(e,e===Mt?zt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Yu(e,r);else{t=r;var o=He;He|=2;var i=Uv();(Mt!==e||zt!==t)&&(Vr=null,Es=xt()+500,vo(e,t));do try{IS();break}catch(l){Bv(e,l)}while(1);Qh(),Gu.current=i,He=o,bt!==null?t=0:(Mt=null,zt=0,t=Ot)}if(t!==0){if(t===2&&(o=sd(e),o!==0&&(r=o,t=Md(e,o))),t===1)throw n=zl,vo(e,0),xi(e,r),cn(e,xt()),n;if(t===6)xi(e,r);else{if(o=e.current.alternate,!(r&30)&&!OS(o)&&(t=Yu(e,r),t===2&&(i=sd(e),i!==0&&(r=i,t=Md(e,i))),t===1))throw n=zl,vo(e,0),xi(e,r),cn(e,xt()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(Y(345));case 2:lo(e,sn,Vr);break;case 3:if(xi(e,r),(r&130023424)===r&&(t=up+500-xt(),10<t)){if(Mu(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Zt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=pd(lo.bind(null,e,sn,Vr),t);break}lo(e,sn,Vr);break;case 4:if(xi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-ar(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*AS(r/1960))-r,10<r){e.timeoutHandle=pd(lo.bind(null,e,sn,Vr),r);break}lo(e,sn,Vr);break;case 5:lo(e,sn,Vr);break;default:throw Error(Y(329))}}}return cn(e,xt()),e.callbackNode===n?zv.bind(null,e):null}function Md(e,t){var n=wl;return e.current.memoizedState.isDehydrated&&(vo(e,t).flags|=256),e=Yu(e,t),e!==2&&(t=sn,sn=n,t!==null&&Nd(t)),e}function Nd(e){sn===null?sn=e:sn.push.apply(sn,e)}function OS(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!cr(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xi(e,t){for(t&=~ap,t&=~xc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ar(t),r=1<<n;e[n]=-1,t&=~r}}function ag(e){if(He&6)throw Error(Y(327));gs();var t=Mu(e,0);if(!(t&1))return cn(e,xt()),null;var n=Yu(e,t);if(e.tag!==0&&n===2){var r=sd(e);r!==0&&(t=r,n=Md(e,r))}if(n===1)throw n=zl,vo(e,0),xi(e,t),cn(e,xt()),n;if(n===6)throw Error(Y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lo(e,sn,Vr),cn(e,xt()),null}function cp(e,t){var n=He;He|=1;try{return e(t)}finally{He=n,He===0&&(Es=xt()+500,yc&&Li())}}function ko(e){bi!==null&&bi.tag===0&&!(He&6)&&gs();var t=He;He|=1;var n=qn.transition,r=Ge;try{if(qn.transition=null,Ge=1,e)return e()}finally{Ge=r,qn.transition=n,He=t,!(He&6)&&Li()}}function fp(){En=ls.current,lt(ls)}function vo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,oS(n)),bt!==null)for(n=bt.return;n!==null;){var r=n;switch(qh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Du();break;case 3:Ss(),lt(an),lt(Gt),ep();break;case 5:Zh(r);break;case 4:Ss();break;case 13:lt(ft);break;case 19:lt(ft);break;case 10:Gh(r.type._context);break;case 22:case 23:fp()}n=n.return}if(Mt=e,bt=e=Ii(e.current,null),zt=En=t,Ot=0,zl=null,ap=xc=Co=0,sn=wl=null,mo!==null){for(t=0;t<mo.length;t++)if(n=mo[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}mo=null}return e}function Bv(e,t){do{var n=bt;try{if(Qh(),za.current=Qu,Ku){for(var r=dt.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ku=!1}if(Eo=0,$t=Pt=dt=null,yl=!1,Ll=0,lp.current=null,n===null||n.return===null){Ot=1,zl=t,bt=null;break}e:{var i=e,s=n.return,l=n,c=t;if(t=zt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var a=c,h=l,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var _=h.alternate;_?(h.updateQueue=_.updateQueue,h.memoizedState=_.memoizedState,h.lanes=_.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Gm(s);if(p!==null){p.flags&=-257,Jm(p,s,l,i,t),p.mode&1&&Qm(i,a,t),t=p,c=a;var x=t.updateQueue;if(x===null){var E=new Set;E.add(c),t.updateQueue=E}else x.add(c);break e}else{if(!(t&1)){Qm(i,a,t),dp();break e}c=Error(Y(426))}}else if(at&&l.mode&1){var A=Gm(s);if(A!==null){!(A.flags&65536)&&(A.flags|=256),Jm(A,s,l,i,t),Vh(bs(c,l));break e}}i=c=bs(c,l),Ot!==4&&(Ot=2),wl===null?wl=[i]:wl.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var w=Ev(i,c,t);Um(i,w);break e;case 1:l=c;var g=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Oi===null||!Oi.has(S)))){i.flags|=65536,t&=-t,i.lanes|=t;var O=Cv(i,l,t);Um(i,O);break e}}i=i.return}while(i!==null)}Wv(n)}catch(M){t=M,bt===n&&n!==null&&(bt=n=n.return);continue}break}while(1)}function Uv(){var e=Gu.current;return Gu.current=Qu,e===null?Qu:e}function dp(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Mt===null||!(Co&268435455)&&!(xc&268435455)||xi(Mt,zt)}function Yu(e,t){var n=He;He|=2;var r=Uv();(Mt!==e||zt!==t)&&(Vr=null,vo(e,t));do try{TS();break}catch(o){Bv(e,o)}while(1);if(Qh(),He=n,Gu.current=r,bt!==null)throw Error(Y(261));return Mt=null,zt=0,Ot}function TS(){for(;bt!==null;)Hv(bt)}function IS(){for(;bt!==null&&!nx();)Hv(bt)}function Hv(e){var t=Vv(e.alternate,e,En);e.memoizedProps=e.pendingProps,t===null?Wv(e):bt=t,lp.current=null}function Wv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ES(n,t),n!==null){n.flags&=32767,bt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ot=6,bt=null;return}}else if(n=bS(n,t,En),n!==null){bt=n;return}if(t=t.sibling,t!==null){bt=t;return}bt=t=e}while(t!==null);Ot===0&&(Ot=5)}function lo(e,t,n){var r=Ge,o=qn.transition;try{qn.transition=null,Ge=1,$S(e,t,n,r)}finally{qn.transition=o,Ge=r}return null}function $S(e,t,n,r){do gs();while(bi!==null);if(He&6)throw Error(Y(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Y(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(dx(e,i),e===Mt&&(bt=Mt=null,zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ba||(ba=!0,Kv(Ru,function(){return gs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=qn.transition,qn.transition=null;var s=Ge;Ge=1;var l=He;He|=4,lp.current=null,kS(e,n),jv(n,e),Yx(dd),Nu=!!fd,dd=fd=null,e.current=n,PS(n),rx(),He=l,Ge=s,qn.transition=i}else e.current=n;if(ba&&(ba=!1,bi=e,Xu=o),i=e.pendingLanes,i===0&&(Oi=null),sx(n.stateNode),cn(e,xt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Ju)throw Ju=!1,e=$d,$d=null,e;return Xu&1&&e.tag!==0&&gs(),i=e.pendingLanes,i&1?e===Rd?_l++:(_l=0,Rd=e):_l=0,Li(),null}function gs(){if(bi!==null){var e=E0(Xu),t=qn.transition,n=Ge;try{if(qn.transition=null,Ge=16>e?16:e,bi===null)var r=!1;else{if(e=bi,bi=null,Xu=0,He&6)throw Error(Y(331));var o=He;for(He|=4,ue=e.current;ue!==null;){var i=ue,s=i.child;if(ue.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var a=l[c];for(ue=a;ue!==null;){var h=ue;switch(h.tag){case 0:case 11:case 15:vl(8,h,i)}var m=h.child;if(m!==null)m.return=h,ue=m;else for(;ue!==null;){h=ue;var _=h.sibling,p=h.return;if(Nv(h),h===a){ue=null;break}if(_!==null){_.return=p,ue=_;break}ue=p}}}var x=i.alternate;if(x!==null){var E=x.child;if(E!==null){x.child=null;do{var A=E.sibling;E.sibling=null,E=A}while(E!==null)}}ue=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,ue=s;else e:for(;ue!==null;){if(i=ue,i.flags&2048)switch(i.tag){case 0:case 11:case 15:vl(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,ue=w;break e}ue=i.return}}var g=e.current;for(ue=g;ue!==null;){s=ue;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,ue=S;else e:for(s=g;ue!==null;){if(l=ue,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:_c(9,l)}}catch(M){yt(l,l.return,M)}if(l===s){ue=null;break e}var O=l.sibling;if(O!==null){O.return=l.return,ue=O;break e}ue=l.return}}if(He=o,Li(),Fr&&typeof Fr.onPostCommitFiberRoot=="function")try{Fr.onPostCommitFiberRoot(dc,e)}catch{}r=!0}return r}finally{Ge=n,qn.transition=t}}return!1}function ug(e,t,n){t=bs(n,t),t=Ev(e,t,1),e=Ai(e,t,1),t=Zt(),e!==null&&(Jl(e,1,t),cn(e,t))}function yt(e,t,n){if(e.tag===3)ug(e,e,n);else for(;t!==null;){if(t.tag===3){ug(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Oi===null||!Oi.has(r))){e=bs(n,e),e=Cv(t,e,1),t=Ai(t,e,1),e=Zt(),t!==null&&(Jl(t,1,e),cn(t,e));break}}t=t.return}}function RS(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Zt(),e.pingedLanes|=e.suspendedLanes&n,Mt===e&&(zt&n)===n&&(Ot===4||Ot===3&&(zt&130023424)===zt&&500>xt()-up?vo(e,0):ap|=n),cn(e,t)}function qv(e,t){t===0&&(e.mode&1?(t=ha,ha<<=1,!(ha&130023424)&&(ha=4194304)):t=1);var n=Zt();e=ni(e,t),e!==null&&(Jl(e,t,n),cn(e,n))}function MS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qv(e,n)}function NS(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(t),qv(e,n)}var Vv;Vv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||an.current)ln=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ln=!1,SS(e,t,n);ln=!!(e.flags&131072)}else ln=!1,at&&t.flags&1048576&&J0(t,Uu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ua(e,t),e=t.pendingProps;var o=ws(t,Gt.current);ms(t,n),o=np(null,t,r,e,o,n);var i=rp();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,un(r)?(i=!0,zu(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Xh(t),o.updater=wc,t.stateNode=o,o._reactInternals=t,xd(t,r,e,n),t=Ed(null,t,r,!0,i,n)):(t.tag=0,at&&i&&Wh(t),Yt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ua(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=LS(r),e=nr(r,e),o){case 0:t=bd(null,t,r,e,n);break e;case 1:t=Zm(null,t,r,e,n);break e;case 11:t=Xm(null,t,r,e,n);break e;case 14:t=Ym(null,t,r,nr(r.type,e),n);break e}throw Error(Y(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:nr(r,o),bd(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:nr(r,o),Zm(e,t,r,o,n);case 3:e:{if(Ov(t),e===null)throw Error(Y(387));r=t.pendingProps,i=t.memoizedState,o=i.element,nv(e,t),qu(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=bs(Error(Y(423)),t),t=eg(e,t,r,n,o);break e}else if(r!==o){o=bs(Error(Y(424)),t),t=eg(e,t,r,n,o);break e}else for(kn=Pi(t.stateNode.containerInfo.firstChild),Pn=t,at=!0,ir=null,n=ev(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_s(),r===o){t=ri(e,t,n);break e}Yt(e,t,r,n)}t=t.child}return t;case 5:return rv(t),e===null&&vd(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,hd(r,o)?s=null:i!==null&&hd(r,i)&&(t.flags|=32),Av(e,t),Yt(e,t,s,n),t.child;case 6:return e===null&&vd(t),null;case 13:return Tv(e,t,n);case 4:return Yh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=xs(t,null,r,n):Yt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:nr(r,o),Xm(e,t,r,o,n);case 7:return Yt(e,t,t.pendingProps,n),t.child;case 8:return Yt(e,t,t.pendingProps.children,n),t.child;case 12:return Yt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,tt(Hu,r._currentValue),r._currentValue=s,i!==null)if(cr(i.value,s)){if(i.children===o.children&&!an.current){t=ri(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Yr(-1,n&-n),c.tag=2;var a=i.updateQueue;if(a!==null){a=a.shared;var h=a.pending;h===null?c.next=c:(c.next=h.next,h.next=c),a.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),wd(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Y(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),wd(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Yt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,ms(t,n),o=Vn(o),r=r(o),t.flags|=1,Yt(e,t,r,n),t.child;case 14:return r=t.type,o=nr(r,t.pendingProps),o=nr(r.type,o),Ym(e,t,r,o,n);case 15:return kv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:nr(r,o),Ua(e,t),t.tag=1,un(r)?(e=!0,zu(t)):e=!1,ms(t,n),bv(t,r,o),xd(t,r,o,n),Ed(null,t,r,!0,e,n);case 19:return Iv(e,t,n);case 22:return Pv(e,t,n)}throw Error(Y(156,t.tag))};function Kv(e,t){return _0(e,t)}function FS(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(e,t,n,r){return new FS(e,t,n,r)}function hp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function LS(e){if(typeof e=="function")return hp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$h)return 11;if(e===Rh)return 14}return 2}function Ii(e,t){var n=e.alternate;return n===null?(n=Wn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qa(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")hp(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Xo:return wo(n.children,o,i,t);case Ih:s=8,o|=8;break;case qf:return e=Wn(12,n,t,o|2),e.elementType=qf,e.lanes=i,e;case Vf:return e=Wn(13,n,t,o),e.elementType=Vf,e.lanes=i,e;case Kf:return e=Wn(19,n,t,o),e.elementType=Kf,e.lanes=i,e;case r0:return Sc(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case t0:s=10;break e;case n0:s=9;break e;case $h:s=11;break e;case Rh:s=14;break e;case vi:s=16,r=null;break e}throw Error(Y(130,e==null?e:typeof e,""))}return t=Wn(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function wo(e,t,n,r){return e=Wn(7,e,r,t),e.lanes=n,e}function Sc(e,t,n,r){return e=Wn(22,e,r,t),e.elementType=r0,e.lanes=n,e.stateNode={isHidden:!1},e}function pf(e,t,n){return e=Wn(6,e,null,t),e.lanes=n,e}function mf(e,t,n){return t=Wn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jS(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qc(0),this.expirationTimes=Qc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qc(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function pp(e,t,n,r,o,i,s,l,c){return e=new jS(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Wn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xh(i),e}function DS(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Qv(e){if(!e)return Mi;e=e._reactInternals;e:{if(Oo(e)!==e||e.tag!==1)throw Error(Y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(un(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Y(171))}if(e.tag===1){var n=e.type;if(un(n))return Q0(e,n,t)}return t}function Gv(e,t,n,r,o,i,s,l,c){return e=pp(n,r,!0,e,o,i,s,l,c),e.context=Qv(null),n=e.current,r=Zt(),o=Ti(n),i=Yr(r,o),i.callback=t??null,Ai(n,i,o),e.current.lanes=o,Jl(e,o,r),cn(e,r),e}function bc(e,t,n,r){var o=t.current,i=Zt(),s=Ti(o);return n=Qv(n),t.context===null?t.context=n:t.pendingContext=n,t=Yr(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ai(o,t,s),e!==null&&(ur(e,o,s,i),Da(e,o,s)),s}function Zu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mp(e,t){cg(e,t),(e=e.alternate)&&cg(e,t)}function zS(){return null}var Jv=typeof reportError=="function"?reportError:function(e){console.error(e)};function gp(e){this._internalRoot=e}Ec.prototype.render=gp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));bc(e,t,null,null)};Ec.prototype.unmount=gp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ko(function(){bc(null,e,null,null)}),t[ti]=null}};function Ec(e){this._internalRoot=e}Ec.prototype.unstable_scheduleHydration=function(e){if(e){var t=P0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_i.length&&t!==0&&t<_i[n].priority;n++);_i.splice(n,0,e),n===0&&O0(e)}};function yp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fg(){}function BS(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var a=Zu(s);i.call(a)}}var s=Gv(t,r,e,0,null,!1,!1,"",fg);return e._reactRootContainer=s,e[ti]=s.current,$l(e.nodeType===8?e.parentNode:e),ko(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var a=Zu(c);l.call(a)}}var c=pp(e,0,!1,null,null,!1,!1,"",fg);return e._reactRootContainer=c,e[ti]=c.current,$l(e.nodeType===8?e.parentNode:e),ko(function(){bc(t,c,n,r)}),c}function kc(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var l=o;o=function(){var c=Zu(s);l.call(c)}}bc(t,s,e,o)}else s=BS(n,t,e,o,r);return Zu(s)}C0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=sl(t.pendingLanes);n!==0&&(Fh(t,n|1),cn(t,xt()),!(He&6)&&(Es=xt()+500,Li()))}break;case 13:ko(function(){var r=ni(e,1);if(r!==null){var o=Zt();ur(r,e,1,o)}}),mp(e,1)}};Lh=function(e){if(e.tag===13){var t=ni(e,134217728);if(t!==null){var n=Zt();ur(t,e,134217728,n)}mp(e,134217728)}};k0=function(e){if(e.tag===13){var t=Ti(e),n=ni(e,t);if(n!==null){var r=Zt();ur(n,e,t,r)}mp(e,t)}};P0=function(){return Ge};A0=function(e,t){var n=Ge;try{return Ge=e,t()}finally{Ge=n}};rd=function(e,t,n){switch(t){case"input":if(Jf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=gc(r);if(!o)throw Error(Y(90));o0(r),Jf(r,o)}}}break;case"textarea":l0(e,n);break;case"select":t=n.value,t!=null&&fs(e,!!n.multiple,t,!1)}};p0=cp;m0=ko;var US={usingClientEntryPoint:!1,Events:[Yl,ts,gc,d0,h0,cp]},Gs={findFiberByHostInstance:po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HS={bundleType:Gs.bundleType,version:Gs.version,rendererPackageName:Gs.rendererPackageName,rendererConfig:Gs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=v0(e),e===null?null:e.stateNode},findFiberByHostInstance:Gs.findFiberByHostInstance||zS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ea=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ea.isDisabled&&Ea.supportsFiber)try{dc=Ea.inject(HS),Fr=Ea}catch{}}In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=US;In.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yp(t))throw Error(Y(200));return DS(e,t,null,n)};In.createRoot=function(e,t){if(!yp(e))throw Error(Y(299));var n=!1,r="",o=Jv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=pp(e,1,!1,null,null,n,!1,r,o),e[ti]=t.current,$l(e.nodeType===8?e.parentNode:e),new gp(t)};In.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=v0(t),e=e===null?null:e.stateNode,e};In.flushSync=function(e){return ko(e)};In.hydrate=function(e,t,n){if(!Cc(t))throw Error(Y(200));return kc(null,e,t,!0,n)};In.hydrateRoot=function(e,t,n){if(!yp(e))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=Jv;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Gv(t,null,e,1,n??null,o,!1,i,s),e[ti]=t.current,$l(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Ec(t)};In.render=function(e,t,n){if(!Cc(t))throw Error(Y(200));return kc(null,e,t,!1,n)};In.unmountComponentAtNode=function(e){if(!Cc(e))throw Error(Y(40));return e._reactRootContainer?(ko(function(){kc(null,null,e,!1,function(){e._reactRootContainer=null,e[ti]=null})}),!0):!1};In.unstable_batchedUpdates=cp;In.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Cc(n))throw Error(Y(200));if(e==null||e._reactInternals===void 0)throw Error(Y(38));return kc(e,t,n,!1,r)};In.version="18.3.1-next-f1338f8080-20240426";function Xv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xv)}catch(e){console.error(e)}}Xv(),Xy.exports=In;var vp=Xy.exports,dg=vp;Hf.createRoot=dg.createRoot,Hf.hydrateRoot=dg.hydrateRoot;function Vo(e,t,n){let r=n.initialDeps??[],o;return()=>{var i,s,l,c;let a;n.key&&((i=n.debug)!=null&&i.call(n))&&(a=Date.now());const h=e();if(!(h.length!==r.length||h.some((p,x)=>r[x]!==p)))return o;r=h;let _;if(n.key&&((s=n.debug)!=null&&s.call(n))&&(_=Date.now()),o=t(...h),n.key&&((l=n.debug)!=null&&l.call(n))){const p=Math.round((Date.now()-a)*100)/100,x=Math.round((Date.now()-_)*100)/100,E=x/16,A=(w,g)=>{for(w=String(w);w.length<g;)w=" "+w;return w};console.info(`%c⏱ ${A(x,5)} /${A(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*E,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(c=n==null?void 0:n.onChange)==null||c.call(n,o),o}}function gf(e,t){if(e===void 0)throw new Error(`Unexpected undefined${t?`: ${t}`:""}`);return e}const WS=(e,t)=>Math.abs(e-t)<1,qS=(e,t,n)=>{let r;return function(...o){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,o),n)}},VS=e=>e,KS=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let o=t;o<=n;o++)r.push(o);return r},QS=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const o=s=>{const{width:l,height:c}=s;t({width:Math.round(l),height:Math.round(c)})};if(o(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const i=new r.ResizeObserver(s=>{const l=s[0];if(l!=null&&l.borderBoxSize){const c=l.borderBoxSize[0];if(c){o({width:c.inlineSize,height:c.blockSize});return}}o(n.getBoundingClientRect())});return i.observe(n,{box:"border-box"}),()=>{i.unobserve(n)}},hg={passive:!0},GS=typeof window>"u"?!0:"onscrollend"in window,JS=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let o=0;const i=GS?()=>{}:qS(r,()=>{t(o,!1)},e.options.isScrollingResetDelay),s=a=>()=>{const{horizontal:h,isRtl:m}=e.options;o=h?n.scrollLeft*(m&&-1||1):n.scrollTop,i(),t(o,a)},l=s(!0),c=s(!1);return c(),n.addEventListener("scroll",l,hg),n.addEventListener("scrollend",c,hg),()=>{n.removeEventListener("scroll",l),n.removeEventListener("scrollend",c)}},XS=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},YS=(e,{adjustments:t=0,behavior:n},r)=>{var o,i;const s=e+t;(i=(o=r.scrollElement)==null?void 0:o.scrollTo)==null||i.call(o,{[r.options.horizontal?"left":"top"]:s,behavior:n})};class ZS{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(o=>{o.forEach(i=>{this._measureElement(i.target,i)})}));return{disconnect:()=>{var o;(o=r())==null||o.disconnect(),n=null},observe:o=>{var i;return(i=r())==null?void 0:i.observe(o,{box:"border-box"})},unobserve:o=>{var i;return(i=r())==null?void 0:i.unobserve(o)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,o])=>{typeof o>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:VS,rangeExtractor:KS,onChange:()=>{},measureElement:XS,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,...n}},this.notify=n=>{var r,o;(o=(r=this.options).onChange)==null||o.call(r,this,n)},this.maybeNotify=Vo(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(o=>{this.observer.observe(o)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(o,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<o?"forward":"backward":null,this.scrollOffset=o,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const o=new Map,i=new Map;for(let s=r-1;s>=0;s--){const l=n[s];if(o.has(l.lane))continue;const c=i.get(l.lane);if(c==null||l.end>c.end?i.set(l.lane,l):l.end<c.end&&o.set(l.lane,!0),o.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((s,l)=>s.end===l.end?s.index-l.index:s.end-l.end)[0]:void 0},this.getMeasurementOptions=Vo(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,o,i,s)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:o,getItemKey:i,enabled:s}),{key:!1}),this.getMeasurements=Vo(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:o,getItemKey:i,enabled:s},l)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(h=>{this.itemSizeCache.set(h.key,h.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const a=this.measurementsCache.slice(0,c);for(let h=c;h<n;h++){const m=i(h),_=this.options.lanes===1?a[h-1]:this.getFurthestMeasurement(a,h),p=_?_.end+this.options.gap:r+o,x=l.get(m),E=typeof x=="number"?x:this.options.estimateSize(h),A=p+E,w=_?_.lane:h%this.options.lanes;a[h]={index:h,start:p,size:E,end:A,key:m,lane:w}}return this.measurementsCache=a,a},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Vo(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(n,r,o)=>this.range=n.length>0&&r>0?eb({measurements:n,outerSize:r,scrollOffset:o}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=Vo(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(n,r,o,i)=>r===null?[]:n({startIndex:r.startIndex,endIndex:r.endIndex,overscan:o,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,o=n.getAttribute(r);return o?parseInt(o,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const o=this.indexFromElement(n),i=this.measurementsCache[o];if(!i)return;const s=i.key,l=this.elementsCache.get(s);l!==n&&(l&&this.observer.unobserve(l),this.observer.observe(n),this.elementsCache.set(s,n)),n.isConnected&&this.resizeItem(o,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const o=this.measurementsCache[n];if(!o)return;const i=this.itemSizeCache.get(o.key)??o.size,s=r-i;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(o,s,this):o.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(o.index),this.itemSizeCache=new Map(this.itemSizeCache.set(o.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,o)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(o))});return}this._measureElement(n,void 0)},this.getVirtualItems=Vo(()=>[this.getIndexes(),this.getMeasurements()],(n,r)=>{const o=[];for(let i=0,s=n.length;i<s;i++){const l=n[i],c=r[l];o.push(c)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return gf(r[Yv(0,r.length-1,o=>gf(r[o]).start,n)])},this.getOffsetForAlignment=(n,r)=>{const o=this.getSize(),i=this.getScrollOffset();r==="auto"&&(n<=i?r="start":n>=i+o?r="end":r="start"),r==="start"?n=n:r==="end"?n=n-o:r==="center"&&(n=n-o/2);const s=this.options.horizontal?"scrollWidth":"scrollHeight",c=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[s]:this.scrollElement[s]:0)-o;return Math.max(Math.min(c,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const o=this.measurementsCache[n];if(!o)return;const i=this.getSize(),s=this.getScrollOffset();if(r==="auto")if(o.end>=s+i-this.options.scrollPaddingEnd)r="end";else if(o.start<=s+this.options.scrollPaddingStart)r="start";else return[s,r];const l=r==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,r),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:o})},this.scrollToIndex=(n,{align:r="auto",behavior:o}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const i=this.getOffsetForIndex(n,r);if(!i)return;const[s,l]=i;this._scrollToOffset(s,{adjustments:void 0,behavior:o}),o!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[a]=gf(this.getOffsetForIndex(n,l));WS(a,this.getScrollOffset())||this.scrollToIndex(n,{align:l,behavior:o})}else this.scrollToIndex(n,{align:l,behavior:o})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let o;return r.length===0?o=this.options.paddingStart:o=this.options.lanes===1?((n=r[r.length-1])==null?void 0:n.end)??0:Math.max(...r.slice(-this.options.lanes).map(i=>i.end)),Math.max(o-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:o})=>{this.options.scrollToFn(n,{behavior:o,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const Yv=(e,t,n,r)=>{for(;e<=t;){const o=(e+t)/2|0,i=n(o);if(i<r)e=o+1;else if(i>r)t=o-1;else return o}return e>0?e-1:0};function eb({measurements:e,outerSize:t,scrollOffset:n}){const r=e.length-1,i=Yv(0,r,l=>e[l].start,n);let s=i;for(;s<r&&e[s].end<n+t;)s++;return{startIndex:i,endIndex:s}}const tb=typeof document<"u"?U.useLayoutEffect:U.useEffect;function nb(e){const t=U.useReducer(()=>({}),{})[1],n={...e,onChange:(o,i)=>{var s;i?vp.flushSync(t):t(),(s=e.onChange)==null||s.call(e,o,i)}},[r]=U.useState(()=>new ZS(n));return r.setOptions(n),U.useEffect(()=>r._didMount(),[]),tb(()=>r._willUpdate()),r}function rb(e){return nb({observeElementRect:QS,observeElementOffset:JS,scrollToFn:YS,...e})}var ib=Object.defineProperty,ob=(e,t,n)=>t in e?ib(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yf=(e,t,n)=>(ob(e,typeof t!="symbol"?t+"":t,n),n);let sb=class{constructor(){yf(this,"current",this.detect()),yf(this,"handoffState","pending"),yf(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Zr=new sb,vt=(e,t)=>{Zr.isServer?U.useEffect(e,t):U.useLayoutEffect(e,t)};function Ts(e){let t=U.useRef(e);return vt(()=>{t.current=e},[e]),t}function wp(e,t){let[n,r]=U.useState(e),o=Ts(e);return vt(()=>r(o.current),[o,r,...t]),n}let Oe=function(e){let t=Ts(e);return Ie.useCallback((...n)=>t.current(...n),[t])};function lb(e,t,n){let[r,o]=U.useState(n),i=e!==void 0,s=U.useRef(i),l=U.useRef(!1),c=U.useRef(!1);return i&&!s.current&&!l.current?(l.current=!0,s.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!i&&s.current&&!c.current&&(c.current=!0,s.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[i?e:r,Oe(a=>(i||o(a),t==null?void 0:t(a)))]}function Pc(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Cs(){let e=[],t={addEventListener(n,r,o,i){return n.addEventListener(r,o,i),t.add(()=>n.removeEventListener(r,o,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Pc(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,o){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:o}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=Cs();return n(r),this.add(()=>r.dispose())},add(n){return e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let o of e.splice(r,1))o()}},dispose(){for(let n of e.splice(0))n()}};return t}function Ac(){let[e]=U.useState(Cs);return U.useEffect(()=>()=>e.dispose(),[e]),e}function ab(){let e=typeof document>"u";return"useSyncExternalStore"in xl?(t=>t.useSyncExternalStore)(xl)(()=>()=>{},()=>!1,()=>!e):!1}function Oc(){let e=ab(),[t,n]=U.useState(Zr.isHandoffComplete);return t&&Zr.isHandoffComplete===!1&&n(!1),U.useEffect(()=>{t!==!0&&n(!0)},[t]),U.useEffect(()=>Zr.handoff(),[]),e?!1:t}var pg;let dr=(pg=Ie.useId)!=null?pg:function(){let e=Oc(),[t,n]=Ie.useState(e?()=>Zr.nextId():null);return vt(()=>{t===null&&n(Zr.nextId())},[t]),t!=null?""+t:void 0};function fn(e,t,...n){if(e in t){let o=t[e];return typeof o=="function"?o(...n):o}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,fn),r}function _p(e){return Zr.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let Fd=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var co=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(co||{}),Zv=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Zv||{}),ub=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(ub||{});function cb(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Fd)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var ew=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(ew||{});function fb(e,t=0){var n;return e===((n=_p(e))==null?void 0:n.body)?!1:fn(t,{0(){return e.matches(Fd)},1(){let r=e;for(;r!==null;){if(r.matches(Fd))return!0;r=r.parentElement}return!1}})}var db=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(db||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function _o(e){e==null||e.focus({preventScroll:!0})}let hb=["textarea","input"].join(",");function pb(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,hb))!=null?n:!1}function tw(e,t=n=>n){return e.slice().sort((n,r)=>{let o=t(n),i=t(r);if(o===null||i===null)return 0;let s=o.compareDocumentPosition(i);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Va(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:o=[]}={}){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,s=Array.isArray(e)?n?tw(e):e:cb(e);o.length>0&&s.length>1&&(s=s.filter(p=>!o.includes(p))),r=r??i.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,s.indexOf(r))-1;if(t&4)return Math.max(0,s.indexOf(r))+1;if(t&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),a=t&32?{preventScroll:!0}:{},h=0,m=s.length,_;do{if(h>=m||h+m<=0)return 0;let p=c+h;if(t&16)p=(p+m)%m;else{if(p<0)return 3;if(p>=m)return 1}_=s[p],_==null||_.focus(a),h+=l}while(_!==i.activeElement);return t&6&&pb(_)&&_.select(),2}function nw(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function mb(){return/Android/gi.test(window.navigator.userAgent)}function rw(){return nw()||mb()}function Ca(e,t,n){let r=Ts(t);U.useEffect(()=>{function o(i){r.current(i)}return document.addEventListener(e,o,n),()=>document.removeEventListener(e,o,n)},[e,n])}function iw(e,t,n){let r=Ts(t);U.useEffect(()=>{function o(i){r.current(i)}return window.addEventListener(e,o,n),()=>window.removeEventListener(e,o,n)},[e,n])}function ow(e,t,n=!0){let r=U.useRef(!1);U.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function o(s,l){if(!r.current||s.defaultPrevented)return;let c=l(s);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let a=function h(m){return typeof m=="function"?h(m()):Array.isArray(m)||m instanceof Set?m:[m]}(e);for(let h of a){if(h===null)continue;let m=h instanceof HTMLElement?h:h.current;if(m!=null&&m.contains(c)||s.composed&&s.composedPath().includes(m))return}return!fb(c,ew.Loose)&&c.tabIndex!==-1&&s.preventDefault(),t(s,c)}let i=U.useRef(null);Ca("pointerdown",s=>{var l,c;r.current&&(i.current=((c=(l=s.composedPath)==null?void 0:l.call(s))==null?void 0:c[0])||s.target)},!0),Ca("mousedown",s=>{var l,c;r.current&&(i.current=((c=(l=s.composedPath)==null?void 0:l.call(s))==null?void 0:c[0])||s.target)},!0),Ca("click",s=>{rw()||i.current&&(o(s,()=>i.current),i.current=null)},!0),Ca("touchend",s=>o(s,()=>s.target instanceof HTMLElement?s.target:null),!0),iw("blur",s=>o(s,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Is(...e){return U.useMemo(()=>_p(...e),[...e])}function mg(e){var t;if(e.type)return e.type;let n=(t=e.as)!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function gb(e,t){let[n,r]=U.useState(()=>mg(e));return vt(()=>{r(mg(e))},[e.type,e.as]),vt(()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")},[n,t]),n}let sw=Symbol();function yb(e,t=!0){return Object.assign(e,{[sw]:t})}function hn(...e){let t=U.useRef(e);U.useEffect(()=>{t.current=e},[e]);let n=Oe(r=>{for(let o of t.current)o!=null&&(typeof o=="function"?o(r):o.current=r)});return e.every(r=>r==null||(r==null?void 0:r[sw]))?void 0:n}function gg(e){return[e.screenX,e.screenY]}function vb(){let e=U.useRef([-1,-1]);return{wasMoved(t){let n=gg(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=gg(t)}}}function wb({container:e,accept:t,walk:n,enabled:r=!0}){let o=U.useRef(t),i=U.useRef(n);U.useEffect(()=>{o.current=t,i.current=n},[t,n]),vt(()=>{if(!e||!r)return;let s=_p(e);if(!s)return;let l=o.current,c=i.current,a=Object.assign(m=>l(m),{acceptNode:l}),h=s.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,a,!1);for(;h.nextNode();)c(h.currentNode)},[e,r,o,i])}function Bl(e,t){let n=U.useRef([]),r=Oe(e);U.useEffect(()=>{let o=[...n.current];for(let[i,s]of t.entries())if(n.current[i]!==s){let l=r(t,o);return n.current=t,l}},[r,...t])}function yg(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var Ul=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Ul||{}),_b=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(_b||{});function Jt({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:o,visible:i=!0,name:s,mergeRefs:l}){l=l??xb;let c=lw(t,e);if(i)return ka(c,n,r,s,l);let a=o??0;if(a&2){let{static:h=!1,...m}=c;if(h)return ka(m,n,r,s,l)}if(a&1){let{unmount:h=!0,...m}=c;return fn(h?0:1,{0(){return null},1(){return ka({...m,hidden:!0,style:{display:"none"}},n,r,s,l)}})}return ka(c,n,r,s,l)}function ka(e,t={},n,r,o){let{as:i=n,children:s,refName:l="ref",...c}=vf(e,["unmount","static"]),a=e.ref!==void 0?{[l]:e.ref}:{},h=typeof s=="function"?s(t):s;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t));let m={};if(t){let _=!1,p=[];for(let[x,E]of Object.entries(t))typeof E=="boolean"&&(_=!0),E===!0&&p.push(x);_&&(m["data-headlessui-state"]=p.join(" "))}if(i===U.Fragment&&Object.keys(Ld(c)).length>0){if(!U.isValidElement(h)||Array.isArray(h)&&h.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(E=>`  - ${E}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(E=>`  - ${E}`).join(`
`)].join(`
`));let _=h.props,p=typeof(_==null?void 0:_.className)=="function"?(...E)=>yg(_==null?void 0:_.className(...E),c.className):yg(_==null?void 0:_.className,c.className),x=p?{className:p}:{};return U.cloneElement(h,Object.assign({},lw(h.props,Ld(vf(c,["ref"]))),m,a,{ref:o(h.ref,a.ref)},x))}return U.createElement(i,Object.assign({},vf(c,["ref"]),i!==U.Fragment&&a,i!==U.Fragment&&m),h)}function xb(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function lw(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](o,...i){let s=n[r];for(let l of s){if((o instanceof Event||(o==null?void 0:o.nativeEvent)instanceof Event)&&o.defaultPrevented)return;l(o,...i)}}});return t}function Xt(e){var t;return Object.assign(U.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Ld(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function vf(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}let Sb="div";var Hl=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Hl||{});function bb(e,t){var n;let{features:r=1,...o}=e,i={ref:t,"aria-hidden":(r&2)===2?!0:(n=o["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Jt({ourProps:i,theirProps:o,slot:{},defaultTag:Sb,name:"Hidden"})}let ec=Xt(bb),xp=U.createContext(null);xp.displayName="OpenClosedContext";var Xr=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Xr||{});function aw(){return U.useContext(xp)}function Eb({value:e,children:t}){return Ie.createElement(xp.Provider,{value:e},t)}function Cb(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Rr=[];Cb(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&Rr[0]!==t.target&&(Rr.unshift(t.target),Rr=Rr.filter(n=>n!=null&&n.isConnected),Rr.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function uw(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&kb(n)?!1:r}function kb(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}function Pb(e){throw new Error("Unexpected object: "+e)}var At=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(At||{});function vg(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),o=r??-1;switch(e.focus){case 0:{for(let i=0;i<n.length;++i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 1:{for(let i=o-1;i>=0;--i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 2:{for(let i=o+1;i<n.length;++i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 3:{for(let i=n.length-1;i>=0;--i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 4:{for(let i=0;i<n.length;++i)if(t.resolveId(n[i],i,n)===e.id)return i;return r}case 5:return null;default:Pb(e)}}function cw(e={},t=null,n=[]){for(let[r,o]of Object.entries(e))dw(n,fw(t,r),o);return n}function fw(e,t){return e?e+"["+t+"]":t}function dw(e,t,n){if(Array.isArray(n))for(let[r,o]of n.entries())dw(e,fw(t,r.toString()),o);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):cw(n,t,e)}var on=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(on||{}),Ab=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ab||{}),Ob=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Ob||{}),Tb=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(Tb||{}),Ib=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.RegisterOption=3]="RegisterOption",e[e.UnregisterOption=4]="UnregisterOption",e[e.RegisterLabel=5]="RegisterLabel",e[e.SetActivationTrigger=6]="SetActivationTrigger",e[e.UpdateVirtualOptions=7]="UpdateVirtualOptions",e))(Ib||{});function wf(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=t(e.options.slice()),o=r.length>0&&r[0].dataRef.current.order!==null?r.sort((s,l)=>s.dataRef.current.order-l.dataRef.current.order):tw(r,s=>s.dataRef.current.domRef.current),i=n?o.indexOf(n):null;return i===-1&&(i=null),{options:o,activeOptionIndex:i}}let $b={1(e){var t;return(t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1}},0(e){var t,n;if((t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===0)return e;if((n=e.dataRef.current)!=null&&n.value){let r=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(r!==-1)return{...e,activeOptionIndex:r,comboboxState:0}}return{...e,comboboxState:0}},2(e,t){var n,r,o,i,s;if((n=e.dataRef.current)!=null&&n.disabled||(r=e.dataRef.current)!=null&&r.optionsRef.current&&!((o=e.dataRef.current)!=null&&o.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let h=t.focus===At.Specific?t.idx:vg(t,{resolveItems:()=>e.virtual.options,resolveActiveIndex:()=>{var _,p;return(p=(_=e.activeOptionIndex)!=null?_:e.virtual.options.findIndex(x=>!e.virtual.disabled(x)))!=null?p:null},resolveDisabled:e.virtual.disabled,resolveId(){throw new Error("Function not implemented.")}}),m=(i=t.trigger)!=null?i:2;return e.activeOptionIndex===h&&e.activationTrigger===m?e:{...e,activeOptionIndex:h,activationTrigger:m}}let l=wf(e);if(l.activeOptionIndex===null){let h=l.options.findIndex(m=>!m.dataRef.current.disabled);h!==-1&&(l.activeOptionIndex=h)}let c=t.focus===At.Specific?t.idx:vg(t,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:h=>h.id,resolveDisabled:h=>h.dataRef.current.disabled}),a=(s=t.trigger)!=null?s:2;return e.activeOptionIndex===c&&e.activationTrigger===a?e:{...e,...l,activeOptionIndex:c,activationTrigger:a}},3:(e,t)=>{var n,r,o;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:[...e.options,t.payload]};let i=t.payload,s=wf(e,c=>(c.push(i),c));e.activeOptionIndex===null&&(r=e.dataRef.current)!=null&&r.isSelected(t.payload.dataRef.current.value)&&(s.activeOptionIndex=s.options.indexOf(i));let l={...e,...s,activationTrigger:2};return(o=e.dataRef.current)!=null&&o.__demoMode&&e.dataRef.current.value===void 0&&(l.activeOptionIndex=0),l},4:(e,t)=>{var n;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:e.options.filter(o=>o.id!==t.id)};let r=wf(e,o=>{let i=o.findIndex(s=>s.id===t.id);return i!==-1&&o.splice(i,1),o});return{...e,...r,activationTrigger:2}},5:(e,t)=>e.labelId===t.id?e:{...e,labelId:t.id},6:(e,t)=>e.activationTrigger===t.trigger?e:{...e,activationTrigger:t.trigger},7:(e,t)=>{var n;if(((n=e.virtual)==null?void 0:n.options)===t.options)return e;let r=e.activeOptionIndex;if(e.activeOptionIndex!==null){let o=t.options.indexOf(e.virtual.options[e.activeOptionIndex]);o!==-1?r=o:r=null}return{...e,activeOptionIndex:r,virtual:Object.assign({},e.virtual,{options:t.options})}}},Sp=U.createContext(null);Sp.displayName="ComboboxActionsContext";function ea(e){let t=U.useContext(Sp);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ea),n}return t}let hw=U.createContext(null);function Rb(e){var t;let n=To("VirtualProvider"),[r,o]=U.useMemo(()=>{let c=n.optionsRef.current;if(!c)return[0,0];let a=window.getComputedStyle(c);return[parseFloat(a.paddingBlockStart||a.paddingTop),parseFloat(a.paddingBlockEnd||a.paddingBottom)]},[n.optionsRef.current]),i=rb({scrollPaddingStart:r,scrollPaddingEnd:o,count:n.virtual.options.length,estimateSize(){return 40},getScrollElement(){var c;return(c=n.optionsRef.current)!=null?c:null},overscan:12}),[s,l]=U.useState(0);return vt(()=>{l(c=>c+1)},[(t=n.virtual)==null?void 0:t.options]),Ie.createElement(hw.Provider,{value:i},Ie.createElement("div",{style:{position:"relative",width:"100%",height:`${i.getTotalSize()}px`},ref:c=>{if(c){if(typeof process<"u"&&{}.JEST_WORKER_ID!==void 0||n.activationTrigger===0)return;n.activeOptionIndex!==null&&n.virtual.options.length>n.activeOptionIndex&&i.scrollToIndex(n.activeOptionIndex)}}},i.getVirtualItems().map(c=>{var a;return Ie.createElement(U.Fragment,{key:c.key},Ie.cloneElement((a=e.children)==null?void 0:a.call(e,{option:n.virtual.options[c.index],open:n.comboboxState===0}),{key:`${s}-${c.key}`,"data-index":c.index,"aria-setsize":n.virtual.options.length,"aria-posinset":c.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:"none"}}))})))}let bp=U.createContext(null);bp.displayName="ComboboxDataContext";function To(e){let t=U.useContext(bp);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,To),n}return t}function Mb(e,t){return fn(t.type,$b,e,t)}let Nb=U.Fragment;function Fb(e,t){let{value:n,defaultValue:r,onChange:o,form:i,name:s,by:l=null,disabled:c=!1,__demoMode:a=!1,nullable:h=!1,multiple:m=!1,immediate:_=!1,virtual:p=null,...x}=e,E=!1,A=null,[w=m?[]:void 0,g]=lb(n,o,r),[S,O]=U.useReducer(Mb,{dataRef:U.createRef(),comboboxState:a?0:1,options:[],virtual:null,activeOptionIndex:null,activationTrigger:2,labelId:null}),M=U.useRef(!1),F=U.useRef({static:!1,hold:!1}),b=U.useRef(null),T=U.useRef(null),L=U.useRef(null),j=U.useRef(null),W=Oe(typeof l=="string"?(we,Ae)=>{let de=l;return(we==null?void 0:we[de])===(Ae==null?void 0:Ae[de])}:l??((we,Ae)=>we===Ae)),le=Oe(we=>S.options.findIndex(Ae=>W(Ae.dataRef.current.value,we))),be=U.useCallback(we=>fn(G.mode,{1:()=>w.some(Ae=>W(Ae,we)),0:()=>W(w,we)}),[w]),ge=Oe(we=>S.activeOptionIndex===le(we)),G=U.useMemo(()=>({...S,immediate:E,optionsPropsRef:F,labelRef:b,inputRef:T,buttonRef:L,optionsRef:j,value:w,defaultValue:r,disabled:c,mode:m?1:0,virtual:S.virtual,get activeOptionIndex(){if(M.current&&S.activeOptionIndex===null&&S.options.length>0){let we=S.options.findIndex(Ae=>!Ae.dataRef.current.disabled);if(we!==-1)return we}return S.activeOptionIndex},calculateIndex:le,compare:W,isSelected:be,isActive:ge,nullable:h,__demoMode:a}),[w,r,c,m,h,a,S,A]);vt(()=>{},[A,void 0]),vt(()=>{S.dataRef.current=G},[G]),ow([G.buttonRef,G.inputRef,G.optionsRef],()=>Ce.closeCombobox(),G.comboboxState===0);let xe=U.useMemo(()=>{var we,Ae,de;return{open:G.comboboxState===0,disabled:c,activeIndex:G.activeOptionIndex,activeOption:G.activeOptionIndex===null?null:G.virtual?G.virtual.options[(we=G.activeOptionIndex)!=null?we:0]:(de=(Ae=G.options[G.activeOptionIndex])==null?void 0:Ae.dataRef.current.value)!=null?de:null,value:w}},[G,c,w]),ve=Oe(()=>{if(G.activeOptionIndex!==null){if(G.virtual)We(G.virtual.options[G.activeOptionIndex]);else{let{dataRef:we}=G.options[G.activeOptionIndex];We(we.current.value)}Ce.goToOption(At.Specific,G.activeOptionIndex)}}),Z=Oe(()=>{O({type:0}),M.current=!0}),N=Oe(()=>{O({type:1}),M.current=!1}),D=Oe((we,Ae,de)=>(M.current=!1,we===At.Specific?O({type:2,focus:At.Specific,idx:Ae,trigger:de}):O({type:2,focus:we,trigger:de}))),J=Oe((we,Ae)=>(O({type:3,payload:{id:we,dataRef:Ae}}),()=>{G.isActive(Ae.current.value)&&(M.current=!0),O({type:4,id:we})})),ye=Oe(we=>(O({type:5,id:we}),()=>O({type:5,id:null}))),We=Oe(we=>fn(G.mode,{0(){return g==null?void 0:g(we)},1(){let Ae=G.value.slice(),de=Ae.findIndex(ke=>W(ke,we));return de===-1?Ae.push(we):Ae.splice(de,1),g==null?void 0:g(Ae)}})),Ne=Oe(we=>{O({type:6,trigger:we})}),Ce=U.useMemo(()=>({onChange:We,registerOption:J,registerLabel:ye,goToOption:D,closeCombobox:N,openCombobox:Z,setActivationTrigger:Ne,selectActiveOption:ve}),[]),Le=t===null?{}:{ref:t},Be=U.useRef(null),nt=Ac();return U.useEffect(()=>{Be.current&&r!==void 0&&nt.addEventListener(Be.current,"reset",()=>{g==null||g(r)})},[Be,g]),Ie.createElement(Sp.Provider,{value:Ce},Ie.createElement(bp.Provider,{value:G},Ie.createElement(Eb,{value:fn(G.comboboxState,{0:Xr.Open,1:Xr.Closed})},s!=null&&w!=null&&cw({[s]:w}).map(([we,Ae],de)=>Ie.createElement(ec,{features:Hl.Hidden,ref:de===0?ke=>{var Re;Be.current=(Re=ke==null?void 0:ke.closest("form"))!=null?Re:null}:void 0,...Ld({key:we,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:i,disabled:c,name:we,value:Ae})})),Jt({ourProps:Le,theirProps:x,slot:xe,defaultTag:Nb,name:"Combobox"}))))}let Lb="input";function jb(e,t){var n,r,o,i,s;let l=dr(),{id:c=`headlessui-combobox-input-${l}`,onChange:a,displayValue:h,type:m="text",..._}=e,p=To("Combobox.Input"),x=ea("Combobox.Input"),E=hn(p.inputRef,t),A=Is(p.inputRef),w=U.useRef(!1),g=Ac(),S=Oe(()=>{x.onChange(null),p.optionsRef.current&&(p.optionsRef.current.scrollTop=0),x.goToOption(At.Nothing)}),O=function(){var G;return typeof h=="function"&&p.value!==void 0?(G=h(p.value))!=null?G:"":typeof p.value=="string"?p.value:""}();Bl(([G,xe],[ve,Z])=>{if(w.current)return;let N=p.inputRef.current;N&&((Z===0&&xe===1||G!==ve)&&(N.value=G),requestAnimationFrame(()=>{if(w.current||!N||(A==null?void 0:A.activeElement)!==N)return;let{selectionStart:D,selectionEnd:J}=N;Math.abs((J??0)-(D??0))===0&&D===0&&N.setSelectionRange(N.value.length,N.value.length)}))},[O,p.comboboxState,A]),Bl(([G],[xe])=>{if(G===0&&xe===1){if(w.current)return;let ve=p.inputRef.current;if(!ve)return;let Z=ve.value,{selectionStart:N,selectionEnd:D,selectionDirection:J}=ve;ve.value="",ve.value=Z,J!==null?ve.setSelectionRange(N,D,J):ve.setSelectionRange(N,D)}},[p.comboboxState]);let M=U.useRef(!1),F=Oe(()=>{M.current=!0}),b=Oe(()=>{g.nextFrame(()=>{M.current=!1})}),T=Oe(G=>{switch(w.current=!0,G.key){case on.Enter:if(w.current=!1,p.comboboxState!==0||M.current)return;if(G.preventDefault(),G.stopPropagation(),p.activeOptionIndex===null){x.closeCombobox();return}x.selectActiveOption(),p.mode===0&&x.closeCombobox();break;case on.ArrowDown:return w.current=!1,G.preventDefault(),G.stopPropagation(),fn(p.comboboxState,{0:()=>x.goToOption(At.Next),1:()=>x.openCombobox()});case on.ArrowUp:return w.current=!1,G.preventDefault(),G.stopPropagation(),fn(p.comboboxState,{0:()=>x.goToOption(At.Previous),1:()=>{x.openCombobox(),g.nextFrame(()=>{p.value||x.goToOption(At.Last)})}});case on.Home:if(G.shiftKey)break;return w.current=!1,G.preventDefault(),G.stopPropagation(),x.goToOption(At.First);case on.PageUp:return w.current=!1,G.preventDefault(),G.stopPropagation(),x.goToOption(At.First);case on.End:if(G.shiftKey)break;return w.current=!1,G.preventDefault(),G.stopPropagation(),x.goToOption(At.Last);case on.PageDown:return w.current=!1,G.preventDefault(),G.stopPropagation(),x.goToOption(At.Last);case on.Escape:return w.current=!1,p.comboboxState!==0?void 0:(G.preventDefault(),p.optionsRef.current&&!p.optionsPropsRef.current.static&&G.stopPropagation(),p.nullable&&p.mode===0&&p.value===null&&S(),x.closeCombobox());case on.Tab:if(w.current=!1,p.comboboxState!==0)return;p.mode===0&&p.activationTrigger!==1&&x.selectActiveOption(),x.closeCombobox();break}}),L=Oe(G=>{a==null||a(G),p.nullable&&p.mode===0&&G.target.value===""&&S(),x.openCombobox()}),j=Oe(G=>{var xe,ve,Z;let N=(xe=G.relatedTarget)!=null?xe:Rr.find(D=>D!==G.currentTarget);if(w.current=!1,!((ve=p.optionsRef.current)!=null&&ve.contains(N))&&!((Z=p.buttonRef.current)!=null&&Z.contains(N))&&p.comboboxState===0)return G.preventDefault(),p.mode===0&&(p.nullable&&p.value===null?S():p.activationTrigger!==1&&x.selectActiveOption()),x.closeCombobox()}),W=Oe(G=>{var xe,ve,Z;let N=(xe=G.relatedTarget)!=null?xe:Rr.find(D=>D!==G.currentTarget);(ve=p.buttonRef.current)!=null&&ve.contains(N)||(Z=p.optionsRef.current)!=null&&Z.contains(N)||p.disabled||p.immediate&&p.comboboxState!==0&&(x.openCombobox(),g.nextFrame(()=>{x.setActivationTrigger(1)}))}),le=wp(()=>{if(p.labelId)return[p.labelId].join(" ")},[p.labelId]),be=U.useMemo(()=>({open:p.comboboxState===0,disabled:p.disabled}),[p]),ge={ref:E,id:c,role:"combobox",type:m,"aria-controls":(n=p.optionsRef.current)==null?void 0:n.id,"aria-expanded":p.comboboxState===0,"aria-activedescendant":p.activeOptionIndex===null?void 0:p.virtual?(r=p.options.find(G=>{var xe;return!((xe=p.virtual)!=null&&xe.disabled(G.dataRef.current.value))&&p.compare(G.dataRef.current.value,p.virtual.options[p.activeOptionIndex])}))==null?void 0:r.id:(o=p.options[p.activeOptionIndex])==null?void 0:o.id,"aria-labelledby":le,"aria-autocomplete":"list",defaultValue:(s=(i=e.defaultValue)!=null?i:p.defaultValue!==void 0?h==null?void 0:h(p.defaultValue):null)!=null?s:p.defaultValue,disabled:p.disabled,onCompositionStart:F,onCompositionEnd:b,onKeyDown:T,onChange:L,onFocus:W,onBlur:j};return Jt({ourProps:ge,theirProps:_,slot:be,defaultTag:Lb,name:"Combobox.Input"})}let Db="button";function zb(e,t){var n;let r=To("Combobox.Button"),o=ea("Combobox.Button"),i=hn(r.buttonRef,t),s=dr(),{id:l=`headlessui-combobox-button-${s}`,...c}=e,a=Ac(),h=Oe(E=>{switch(E.key){case on.ArrowDown:return E.preventDefault(),E.stopPropagation(),r.comboboxState===1&&o.openCombobox(),a.nextFrame(()=>{var A;return(A=r.inputRef.current)==null?void 0:A.focus({preventScroll:!0})});case on.ArrowUp:return E.preventDefault(),E.stopPropagation(),r.comboboxState===1&&(o.openCombobox(),a.nextFrame(()=>{r.value||o.goToOption(At.Last)})),a.nextFrame(()=>{var A;return(A=r.inputRef.current)==null?void 0:A.focus({preventScroll:!0})});case on.Escape:return r.comboboxState!==0?void 0:(E.preventDefault(),r.optionsRef.current&&!r.optionsPropsRef.current.static&&E.stopPropagation(),o.closeCombobox(),a.nextFrame(()=>{var A;return(A=r.inputRef.current)==null?void 0:A.focus({preventScroll:!0})}));default:return}}),m=Oe(E=>{if(uw(E.currentTarget))return E.preventDefault();r.comboboxState===0?o.closeCombobox():(E.preventDefault(),o.openCombobox()),a.nextFrame(()=>{var A;return(A=r.inputRef.current)==null?void 0:A.focus({preventScroll:!0})})}),_=wp(()=>{if(r.labelId)return[r.labelId,l].join(" ")},[r.labelId,l]),p=U.useMemo(()=>({open:r.comboboxState===0,disabled:r.disabled,value:r.value}),[r]),x={ref:i,id:l,type:gb(e,r.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(n=r.optionsRef.current)==null?void 0:n.id,"aria-expanded":r.comboboxState===0,"aria-labelledby":_,disabled:r.disabled,onClick:m,onKeyDown:h};return Jt({ourProps:x,theirProps:c,slot:p,defaultTag:Db,name:"Combobox.Button"})}let Bb="label";function Ub(e,t){let n=dr(),{id:r=`headlessui-combobox-label-${n}`,...o}=e,i=To("Combobox.Label"),s=ea("Combobox.Label"),l=hn(i.labelRef,t);vt(()=>s.registerLabel(r),[r]);let c=Oe(()=>{var h;return(h=i.inputRef.current)==null?void 0:h.focus({preventScroll:!0})}),a=U.useMemo(()=>({open:i.comboboxState===0,disabled:i.disabled}),[i]);return Jt({ourProps:{ref:l,id:r,onClick:c},theirProps:o,slot:a,defaultTag:Bb,name:"Combobox.Label"})}let Hb="ul",Wb=Ul.RenderStrategy|Ul.Static;function qb(e,t){let n=dr(),{id:r=`headlessui-combobox-options-${n}`,hold:o=!1,...i}=e,s=To("Combobox.Options"),l=hn(s.optionsRef,t),c=aw(),a=(()=>c!==null?(c&Xr.Open)===Xr.Open:s.comboboxState===0)();vt(()=>{var p;s.optionsPropsRef.current.static=(p=e.static)!=null?p:!1},[s.optionsPropsRef,e.static]),vt(()=>{s.optionsPropsRef.current.hold=o},[s.optionsPropsRef,o]),wb({container:s.optionsRef.current,enabled:s.comboboxState===0,accept(p){return p.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:p.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(p){p.setAttribute("role","none")}});let h=wp(()=>{var p,x;return(x=s.labelId)!=null?x:(p=s.buttonRef.current)==null?void 0:p.id},[s.labelId,s.buttonRef.current]),m=U.useMemo(()=>({open:s.comboboxState===0,option:void 0}),[s]),_={"aria-labelledby":h,role:"listbox","aria-multiselectable":s.mode===1?!0:void 0,id:r,ref:l};return s.virtual&&s.comboboxState===0&&Object.assign(i,{children:Ie.createElement(Rb,null,i.children)}),Jt({ourProps:_,theirProps:i,slot:m,defaultTag:Hb,features:Wb,visible:a,name:"Combobox.Options"})}let Vb="li";function Kb(e,t){var n;let r=dr(),{id:o=`headlessui-combobox-option-${r}`,disabled:i=!1,value:s,order:l=null,...c}=e,a=To("Combobox.Option"),h=ea("Combobox.Option"),m=a.virtual?a.activeOptionIndex===a.calculateIndex(s):a.activeOptionIndex===null?!1:((n=a.options[a.activeOptionIndex])==null?void 0:n.id)===o,_=a.isSelected(s),p=U.useRef(null),x=Ts({disabled:i,value:s,domRef:p,order:l}),E=U.useContext(hw),A=hn(t,p,E?E.measureElement:null),w=Oe(()=>h.onChange(s));vt(()=>h.registerOption(o,x),[x,o]);let g=U.useRef(!(a.virtual||a.__demoMode));vt(()=>{if(!a.virtual||!a.__demoMode)return;let j=Cs();return j.requestAnimationFrame(()=>{g.current=!0}),j.dispose},[a.virtual,a.__demoMode]),vt(()=>{if(!g.current||a.comboboxState!==0||!m||a.activationTrigger===0)return;let j=Cs();return j.requestAnimationFrame(()=>{var W,le;(le=(W=p.current)==null?void 0:W.scrollIntoView)==null||le.call(W,{block:"nearest"})}),j.dispose},[p,m,a.comboboxState,a.activationTrigger,a.activeOptionIndex]);let S=Oe(j=>{var W;if(i||(W=a.virtual)!=null&&W.disabled(s))return j.preventDefault();w(),rw()||requestAnimationFrame(()=>{var le;return(le=a.inputRef.current)==null?void 0:le.focus({preventScroll:!0})}),a.mode===0&&requestAnimationFrame(()=>h.closeCombobox())}),O=Oe(()=>{var j;if(i||(j=a.virtual)!=null&&j.disabled(s))return h.goToOption(At.Nothing);let W=a.calculateIndex(s);h.goToOption(At.Specific,W)}),M=vb(),F=Oe(j=>M.update(j)),b=Oe(j=>{var W;if(!M.wasMoved(j)||i||(W=a.virtual)!=null&&W.disabled(s)||m)return;let le=a.calculateIndex(s);h.goToOption(At.Specific,le,0)}),T=Oe(j=>{var W;M.wasMoved(j)&&(i||(W=a.virtual)!=null&&W.disabled(s)||m&&(a.optionsPropsRef.current.hold||h.goToOption(At.Nothing)))}),L=U.useMemo(()=>({active:m,selected:_,disabled:i}),[m,_,i]);return Jt({ourProps:{id:o,ref:A,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":_,disabled:void 0,onClick:S,onFocus:O,onPointerEnter:F,onMouseEnter:F,onPointerMove:b,onMouseMove:b,onPointerLeave:T,onMouseLeave:T},theirProps:c,slot:L,defaultTag:Vb,name:"Combobox.Option"})}let Qb=Xt(Fb),Gb=Xt(zb),Jb=Xt(jb),Xb=Xt(Ub),Yb=Xt(qb),Zb=Xt(Kb),Ka=Object.assign(Qb,{Input:Jb,Button:Gb,Label:Xb,Options:Yb,Option:Zb});function pw(e,t,n,r){let o=Ts(n);U.useEffect(()=>{e=e??window;function i(s){o.current(s)}return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)},[e,t,r])}function mw(){let e=U.useRef(!1);return vt(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function gw(e){let t=Oe(e),n=U.useRef(!1);U.useEffect(()=>(n.current=!1,()=>{n.current=!0,Pc(()=>{n.current&&t()})}),[t])}var al=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(al||{});function eE(){let e=U.useRef(0);return iw("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function yw(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let tE="div";var vw=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(vw||{});function nE(e,t){let n=U.useRef(null),r=hn(n,t),{initialFocus:o,containers:i,features:s=30,...l}=e;Oc()||(s=1);let c=Is(n);oE({ownerDocument:c},!!(s&16));let a=sE({ownerDocument:c,container:n,initialFocus:o},!!(s&2));lE({ownerDocument:c,container:n,containers:i,previousActiveElement:a},!!(s&8));let h=eE(),m=Oe(E=>{let A=n.current;A&&(w=>w())(()=>{fn(h.current,{[al.Forwards]:()=>{Va(A,co.First,{skipElements:[E.relatedTarget]})},[al.Backwards]:()=>{Va(A,co.Last,{skipElements:[E.relatedTarget]})}})})}),_=Ac(),p=U.useRef(!1),x={ref:r,onKeyDown(E){E.key=="Tab"&&(p.current=!0,_.requestAnimationFrame(()=>{p.current=!1}))},onBlur(E){let A=yw(i);n.current instanceof HTMLElement&&A.add(n.current);let w=E.relatedTarget;w instanceof HTMLElement&&w.dataset.headlessuiFocusGuard!=="true"&&(ww(A,w)||(p.current?Va(n.current,fn(h.current,{[al.Forwards]:()=>co.Next,[al.Backwards]:()=>co.Previous})|co.WrapAround,{relativeTo:E.target}):E.target instanceof HTMLElement&&_o(E.target)))}};return Ie.createElement(Ie.Fragment,null,!!(s&4)&&Ie.createElement(ec,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:m,features:Hl.Focusable}),Jt({ourProps:x,theirProps:l,defaultTag:tE,name:"FocusTrap"}),!!(s&4)&&Ie.createElement(ec,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:m,features:Hl.Focusable}))}let rE=Xt(nE),Js=Object.assign(rE,{features:vw});function iE(e=!0){let t=U.useRef(Rr.slice());return Bl(([n],[r])=>{r===!0&&n===!1&&Pc(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Rr.slice())},[e,Rr,t]),Oe(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function oE({ownerDocument:e},t){let n=iE(t);Bl(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&_o(n())},[t]),gw(()=>{t&&_o(n())})}function sE({ownerDocument:e,container:t,initialFocus:n},r){let o=U.useRef(null),i=mw();return Bl(()=>{if(!r)return;let s=t.current;s&&Pc(()=>{if(!i.current)return;let l=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===l){o.current=l;return}}else if(s.contains(l)){o.current=l;return}n!=null&&n.current?_o(n.current):Va(s,co.First)===Zv.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),o.current=e==null?void 0:e.activeElement})},[r]),o}function lE({ownerDocument:e,container:t,containers:n,previousActiveElement:r},o){let i=mw();pw(e==null?void 0:e.defaultView,"focus",s=>{if(!o||!i.current)return;let l=yw(n);t.current instanceof HTMLElement&&l.add(t.current);let c=r.current;if(!c)return;let a=s.target;a&&a instanceof HTMLElement?ww(l,a)?(r.current=a,_o(a)):(s.preventDefault(),s.stopPropagation(),_o(c)):_o(r.current)},!0)}function ww(e,t){for(let n of e)if(n.contains(t))return!0;return!1}let _w=U.createContext(!1);function aE(){return U.useContext(_w)}function jd(e){return Ie.createElement(_w.Provider,{value:e.force},e.children)}function uE(e){let t=aE(),n=U.useContext(xw),r=Is(e),[o,i]=U.useState(()=>{if(!t&&n!==null||Zr.isServer)return null;let s=r==null?void 0:r.getElementById("headlessui-portal-root");if(s)return s;if(r===null)return null;let l=r.createElement("div");return l.setAttribute("id","headlessui-portal-root"),r.body.appendChild(l)});return U.useEffect(()=>{o!==null&&(r!=null&&r.body.contains(o)||r==null||r.body.appendChild(o))},[o,r]),U.useEffect(()=>{t||n!==null&&i(n.current)},[n,i,t]),o}let cE=U.Fragment;function fE(e,t){let n=e,r=U.useRef(null),o=hn(yb(h=>{r.current=h}),t),i=Is(r),s=uE(r),[l]=U.useState(()=>{var h;return Zr.isServer?null:(h=i==null?void 0:i.createElement("div"))!=null?h:null}),c=U.useContext(Dd),a=Oc();return vt(()=>{!s||!l||s.contains(l)||(l.setAttribute("data-headlessui-portal",""),s.appendChild(l))},[s,l]),vt(()=>{if(l&&c)return c.register(l)},[c,l]),gw(()=>{var h;!s||!l||(l instanceof Node&&s.contains(l)&&s.removeChild(l),s.childNodes.length<=0&&((h=s.parentElement)==null||h.removeChild(s)))}),a?!s||!l?null:vp.createPortal(Jt({ourProps:{ref:o},theirProps:n,defaultTag:cE,name:"Portal"}),l):null}let dE=U.Fragment,xw=U.createContext(null);function hE(e,t){let{target:n,...r}=e,o={ref:hn(t)};return Ie.createElement(xw.Provider,{value:n},Jt({ourProps:o,theirProps:r,defaultTag:dE,name:"Popover.Group"}))}let Dd=U.createContext(null);function pE(){let e=U.useContext(Dd),t=U.useRef([]),n=Oe(i=>(t.current.push(i),e&&e.register(i),()=>r(i))),r=Oe(i=>{let s=t.current.indexOf(i);s!==-1&&t.current.splice(s,1),e&&e.unregister(i)}),o=U.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,U.useMemo(()=>function({children:i}){return Ie.createElement(Dd.Provider,{value:o},i)},[o])]}let mE=Xt(fE),gE=Xt(hE),zd=Object.assign(mE,{Group:gE});function yE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const vE=typeof Object.is=="function"?Object.is:yE,{useState:wE,useEffect:_E,useLayoutEffect:xE,useDebugValue:SE}=xl;function bE(e,t,n){const r=t(),[{inst:o},i]=wE({inst:{value:r,getSnapshot:t}});return xE(()=>{o.value=r,o.getSnapshot=t,_f(o)&&i({inst:o})},[e,r,t]),_E(()=>(_f(o)&&i({inst:o}),e(()=>{_f(o)&&i({inst:o})})),[e]),SE(r),r}function _f(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!vE(n,r)}catch{return!0}}function EE(e,t,n){return t()}const CE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kE=!CE,PE=kE?EE:bE,AE="useSyncExternalStore"in xl?(e=>e.useSyncExternalStore)(xl):PE;function OE(e){return AE(e.subscribe,e.getSnapshot,e.getSnapshot)}function TE(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(o){return r.add(o),()=>r.delete(o)},dispatch(o,...i){let s=t[o].call(n,...i);s&&(n=s,r.forEach(l=>l()))}}}function IE(){let e;return{before({doc:t}){var n;let r=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:t,d:n}){let r=t.documentElement,o=r.clientWidth-r.offsetWidth,i=e-o;n.style(r,"paddingRight",`${i}px`)}}}function $E(){return nw()?{before({doc:e,d:t,meta:n}){function r(o){return n.containers.flatMap(i=>i()).some(i=>i.contains(o))}t.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=Cs();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let i=(o=window.scrollY)!=null?o:window.pageYOffset,s=null;t.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:a}=new URL(c.href),h=e.querySelector(a);h&&!r(h)&&(s=h)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(l.target instanceof HTMLElement)if(r(l.target)){let c=l.target;for(;c.parentElement&&r(c.parentElement);)c=c.parentElement;t.style(c,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(l.target instanceof HTMLElement)if(r(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),t.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;i!==c&&window.scrollTo(0,i),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function RE(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function ME(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let yo=TE(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Cs(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:ME(n)},o=[$E(),IE(),RE()];o.forEach(({before:i})=>i==null?void 0:i(r)),o.forEach(({after:i})=>i==null?void 0:i(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});yo.subscribe(()=>{let e=yo.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",o=n.count!==0;(o&&!r||!o&&r)&&yo.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&yo.dispatch("TEARDOWN",n)}});function NE(e,t,n){let r=OE(yo),o=e?r.get(e):void 0,i=o?o.count>0:!1;return vt(()=>{if(!(!e||!t))return yo.dispatch("PUSH",e,n),()=>yo.dispatch("POP",e,n)},[t,e]),i}let xf=new Map,Xs=new Map;function wg(e,t=!0){vt(()=>{var n;if(!t)return;let r=typeof e=="function"?e():e.current;if(!r)return;function o(){var s;if(!r)return;let l=(s=Xs.get(r))!=null?s:1;if(l===1?Xs.delete(r):Xs.set(r,l-1),l!==1)return;let c=xf.get(r);c&&(c["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",c["aria-hidden"]),r.inert=c.inert,xf.delete(r))}let i=(n=Xs.get(r))!=null?n:0;return Xs.set(r,i+1),i!==0||(xf.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),o},[e,t])}function FE({defaultContainers:e=[],portals:t,mainTreeNodeRef:n}={}){var r;let o=U.useRef((r=n==null?void 0:n.current)!=null?r:null),i=Is(o),s=Oe(()=>{var l,c,a;let h=[];for(let m of e)m!==null&&(m instanceof HTMLElement?h.push(m):"current"in m&&m.current instanceof HTMLElement&&h.push(m.current));if(t!=null&&t.current)for(let m of t.current)h.push(m);for(let m of(l=i==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?l:[])m!==document.body&&m!==document.head&&m instanceof HTMLElement&&m.id!=="headlessui-portal-root"&&(m.contains(o.current)||m.contains((a=(c=o.current)==null?void 0:c.getRootNode())==null?void 0:a.host)||h.some(_=>m.contains(_))||h.push(m));return h});return{resolveContainers:s,contains:Oe(l=>s().some(c=>c.contains(l))),mainTreeNodeRef:o,MainTreeNode:U.useMemo(()=>function(){return n!=null?null:Ie.createElement(ec,{features:Hl.Hidden,ref:o})},[o,n])}}let Ep=U.createContext(()=>{});Ep.displayName="StackContext";var Bd=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Bd||{});function LE(){return U.useContext(Ep)}function jE({children:e,onUpdate:t,type:n,element:r,enabled:o}){let i=LE(),s=Oe((...l)=>{t==null||t(...l),i(...l)});return vt(()=>{let l=o===void 0||o===!0;return l&&s(0,n,r),()=>{l&&s(1,n,r)}},[s,n,r,o]),Ie.createElement(Ep.Provider,{value:s},e)}let Sw=U.createContext(null);function bw(){let e=U.useContext(Sw);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,bw),t}return e}function DE(){let[e,t]=U.useState([]);return[e.length>0?e.join(" "):void 0,U.useMemo(()=>function(n){let r=Oe(i=>(t(s=>[...s,i]),()=>t(s=>{let l=s.slice(),c=l.indexOf(i);return c!==-1&&l.splice(c,1),l}))),o=U.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return Ie.createElement(Sw.Provider,{value:o},n.children)},[t])]}let zE="p";function BE(e,t){let n=dr(),{id:r=`headlessui-description-${n}`,...o}=e,i=bw(),s=hn(t);vt(()=>i.register(r),[r,i.register]);let l={ref:s,...i.props,id:r};return Jt({ourProps:l,theirProps:o,slot:i.slot||{},defaultTag:zE,name:i.name||"Description"})}let UE=Xt(BE),HE=Object.assign(UE,{});var WE=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(WE||{}),qE=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(qE||{});let VE={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},tc=U.createContext(null);tc.displayName="DialogContext";function ta(e){let t=U.useContext(tc);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ta),n}return t}function KE(e,t,n=()=>[document.body]){NE(e,t,r=>{var o;return{containers:[...(o=r.containers)!=null?o:[],n]}})}function QE(e,t){return fn(t.type,VE,e,t)}let GE="div",JE=Ul.RenderStrategy|Ul.Static;function XE(e,t){let n=dr(),{id:r=`headlessui-dialog-${n}`,open:o,onClose:i,initialFocus:s,role:l="dialog",__demoMode:c=!1,...a}=e,[h,m]=U.useState(0),_=U.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(_.current||(_.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=aw();o===void 0&&p!==null&&(o=(p&Xr.Open)===Xr.Open);let x=U.useRef(null),E=hn(x,t),A=Is(x),w=e.hasOwnProperty("open")||p!==null,g=e.hasOwnProperty("onClose");if(!w&&!g)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!w)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!g)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof o!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${o}`);if(typeof i!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${i}`);let S=o?0:1,[O,M]=U.useReducer(QE,{titleId:null,descriptionId:null,panelRef:U.createRef()}),F=Oe(()=>i(!1)),b=Oe(de=>M({type:0,id:de})),T=Oc()?c?!1:S===0:!1,L=h>1,j=U.useContext(tc)!==null,[W,le]=pE(),be={get current(){var de;return(de=O.panelRef.current)!=null?de:x.current}},{resolveContainers:ge,mainTreeNodeRef:G,MainTreeNode:xe}=FE({portals:W,defaultContainers:[be]}),ve=L?"parent":"leaf",Z=p!==null?(p&Xr.Closing)===Xr.Closing:!1,N=(()=>j||Z?!1:T)(),D=U.useCallback(()=>{var de,ke;return(ke=Array.from((de=A==null?void 0:A.querySelectorAll("body > *"))!=null?de:[]).find(Re=>Re.id==="headlessui-portal-root"?!1:Re.contains(G.current)&&Re instanceof HTMLElement))!=null?ke:null},[G]);wg(D,N);let J=(()=>L?!0:T)(),ye=U.useCallback(()=>{var de,ke;return(ke=Array.from((de=A==null?void 0:A.querySelectorAll("[data-headlessui-portal]"))!=null?de:[]).find(Re=>Re.contains(G.current)&&Re instanceof HTMLElement))!=null?ke:null},[G]);wg(ye,J);let We=(()=>!(!T||L))();ow(ge,de=>{de.preventDefault(),F()},We);let Ne=(()=>!(L||S!==0))();pw(A==null?void 0:A.defaultView,"keydown",de=>{Ne&&(de.defaultPrevented||de.key===on.Escape&&(de.preventDefault(),de.stopPropagation(),F()))});let Ce=(()=>!(Z||S!==0||j))();KE(A,Ce,ge),U.useEffect(()=>{if(S!==0||!x.current)return;let de=new ResizeObserver(ke=>{for(let Re of ke){let Tt=Re.target.getBoundingClientRect();Tt.x===0&&Tt.y===0&&Tt.width===0&&Tt.height===0&&F()}});return de.observe(x.current),()=>de.disconnect()},[S,x,F]);let[Le,Be]=DE(),nt=U.useMemo(()=>[{dialogState:S,close:F,setTitleId:b},O],[S,O,F,b]),we=U.useMemo(()=>({open:S===0}),[S]),Ae={ref:E,id:r,role:l,"aria-modal":S===0?!0:void 0,"aria-labelledby":O.titleId,"aria-describedby":Le};return Ie.createElement(jE,{type:"Dialog",enabled:S===0,element:x,onUpdate:Oe((de,ke)=>{ke==="Dialog"&&fn(de,{[Bd.Add]:()=>m(Re=>Re+1),[Bd.Remove]:()=>m(Re=>Re-1)})})},Ie.createElement(jd,{force:!0},Ie.createElement(zd,null,Ie.createElement(tc.Provider,{value:nt},Ie.createElement(zd.Group,{target:x},Ie.createElement(jd,{force:!1},Ie.createElement(Be,{slot:we,name:"Dialog.Description"},Ie.createElement(Js,{initialFocus:s,containers:ge,features:T?fn(ve,{parent:Js.features.RestoreFocus,leaf:Js.features.All&~Js.features.FocusLock}):Js.features.None},Ie.createElement(le,null,Jt({ourProps:Ae,theirProps:a,slot:we,defaultTag:GE,features:JE,visible:S===0,name:"Dialog"}))))))))),Ie.createElement(xe,null))}let YE="div";function ZE(e,t){let n=dr(),{id:r=`headlessui-dialog-overlay-${n}`,...o}=e,[{dialogState:i,close:s}]=ta("Dialog.Overlay"),l=hn(t),c=Oe(h=>{if(h.target===h.currentTarget){if(uw(h.currentTarget))return h.preventDefault();h.preventDefault(),h.stopPropagation(),s()}}),a=U.useMemo(()=>({open:i===0}),[i]);return Jt({ourProps:{ref:l,id:r,"aria-hidden":!0,onClick:c},theirProps:o,slot:a,defaultTag:YE,name:"Dialog.Overlay"})}let eC="div";function tC(e,t){let n=dr(),{id:r=`headlessui-dialog-backdrop-${n}`,...o}=e,[{dialogState:i},s]=ta("Dialog.Backdrop"),l=hn(t);U.useEffect(()=>{if(s.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[s.panelRef]);let c=U.useMemo(()=>({open:i===0}),[i]);return Ie.createElement(jd,{force:!0},Ie.createElement(zd,null,Jt({ourProps:{ref:l,id:r,"aria-hidden":!0},theirProps:o,slot:c,defaultTag:eC,name:"Dialog.Backdrop"})))}let nC="div";function rC(e,t){let n=dr(),{id:r=`headlessui-dialog-panel-${n}`,...o}=e,[{dialogState:i},s]=ta("Dialog.Panel"),l=hn(t,s.panelRef),c=U.useMemo(()=>({open:i===0}),[i]),a=Oe(h=>{h.stopPropagation()});return Jt({ourProps:{ref:l,id:r,onClick:a},theirProps:o,slot:c,defaultTag:nC,name:"Dialog.Panel"})}let iC="h2";function oC(e,t){let n=dr(),{id:r=`headlessui-dialog-title-${n}`,...o}=e,[{dialogState:i,setTitleId:s}]=ta("Dialog.Title"),l=hn(t);U.useEffect(()=>(s(r),()=>s(null)),[r,s]);let c=U.useMemo(()=>({open:i===0}),[i]);return Jt({ourProps:{ref:l,id:r},theirProps:o,slot:c,defaultTag:iC,name:"Dialog.Title"})}let sC=Xt(XE),lC=Xt(tC),aC=Xt(rC),uC=Xt(ZE),cC=Xt(oC),_g=Object.assign(sC,{Backdrop:lC,Panel:aC,Overlay:uC,Title:cC,Description:HE});function Ew(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Ew(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Cw(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Ew(e))&&(r&&(r+=" "),r+=t);return r}const fC=({command:e})=>e.type==="custom"?$i(oh,{children:[Me("span",{className:"text-sm mr-2 text-slate-400",children:"Custom:"}),Me("span",{className:"text-sm text-left flex flex-auto",children:e.name})]}):Me("span",{className:"text-sm text-left flex flex-auto",children:e.name}),dC=({commands:e})=>Me(oh,{children:e.map((t,n)=>Me(Ka.Option,{value:t,children:({active:r})=>Me("div",{className:Cw("w-full h-[46px] text-white flex items-center hover:bg-primary/40 cursor-default transition-colors duration-100 ease-in",r?"bg-primary/40":""),children:Me("div",{className:"px-3.5 flex items-center w-full",children:Me(fC,{command:t})})})},n))}),hC=({children:e,toolbar:t})=>Me("form",{children:$i("div",{className:"w-full mb-4 border border-gray-200 rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600",children:[Me("div",{className:"px-4 py-2 bg-white rounded-t-lg dark:bg-gray-800",children:e}),t]})});function ii(e){return Array.isArray?Array.isArray(e):Aw(e)==="[object Array]"}const pC=1/0;function mC(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-pC?"-0":t}function gC(e){return e==null?"":mC(e)}function Nr(e){return typeof e=="string"}function kw(e){return typeof e=="number"}function yC(e){return e===!0||e===!1||vC(e)&&Aw(e)=="[object Boolean]"}function Pw(e){return typeof e=="object"}function vC(e){return Pw(e)&&e!==null}function Cn(e){return e!=null}function Sf(e){return!e.trim().length}function Aw(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const wC="Incorrect 'index' type",_C=e=>`Invalid value for key ${e}`,xC=e=>`Pattern length exceeds max of ${e}.`,SC=e=>`Missing ${e} property in key`,bC=e=>`Property 'weight' in key '${e}' must be a positive integer`,xg=Object.prototype.hasOwnProperty;class EC{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let o=Ow(r);n+=o.weight,this._keys.push(o),this._keyMap[o.id]=o,n+=o.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Ow(e){let t=null,n=null,r=null,o=1,i=null;if(Nr(e)||ii(e))r=e,t=Sg(e),n=Ud(e);else{if(!xg.call(e,"name"))throw new Error(SC("name"));const s=e.name;if(r=s,xg.call(e,"weight")&&(o=e.weight,o<=0))throw new Error(bC(s));t=Sg(s),n=Ud(s),i=e.getFn}return{path:t,id:n,weight:o,src:r,getFn:i}}function Sg(e){return ii(e)?e:e.split(".")}function Ud(e){return ii(e)?e.join("."):e}function CC(e,t){let n=[],r=!1;const o=(i,s,l)=>{if(Cn(i))if(!s[l])n.push(i);else{let c=s[l];const a=i[c];if(!Cn(a))return;if(l===s.length-1&&(Nr(a)||kw(a)||yC(a)))n.push(gC(a));else if(ii(a)){r=!0;for(let h=0,m=a.length;h<m;h+=1)o(a[h],s,l+1)}else s.length&&o(a,s,l+1)}};return o(e,Nr(t)?t.split("."):t,0),r?n:n[0]}const kC={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},PC={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},AC={location:0,threshold:.6,distance:100},OC={useExtendedSearch:!1,getFn:CC,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Pe={...PC,...kC,...AC,...OC};const TC=/[^ ]+/g;function IC(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(o){const i=o.match(TC).length;if(n.has(i))return n.get(i);const s=1/Math.pow(i,.5*e),l=parseFloat(Math.round(s*r)/r);return n.set(i,l),l},clear(){n.clear()}}}class Cp{constructor({getFn:t=Pe.getFn,fieldNormWeight:n=Pe.fieldNormWeight}={}){this.norm=IC(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Nr(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();Nr(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!Cn(t)||Sf(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((o,i)=>{let s=o.getFn?o.getFn(t):this.getFn(t,o.path);if(Cn(s)){if(ii(s)){let l=[];const c=[{nestedArrIndex:-1,value:s}];for(;c.length;){const{nestedArrIndex:a,value:h}=c.pop();if(Cn(h))if(Nr(h)&&!Sf(h)){let m={v:h,i:a,n:this.norm.get(h)};l.push(m)}else ii(h)&&h.forEach((m,_)=>{c.push({nestedArrIndex:_,value:m})})}r.$[i]=l}else if(Nr(s)&&!Sf(s)){let l={v:s,n:this.norm.get(s)};r.$[i]=l}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function Tw(e,t,{getFn:n=Pe.getFn,fieldNormWeight:r=Pe.fieldNormWeight}={}){const o=new Cp({getFn:n,fieldNormWeight:r});return o.setKeys(e.map(Ow)),o.setSources(t),o.create(),o}function $C(e,{getFn:t=Pe.getFn,fieldNormWeight:n=Pe.fieldNormWeight}={}){const{keys:r,records:o}=e,i=new Cp({getFn:t,fieldNormWeight:n});return i.setKeys(r),i.setIndexRecords(o),i}function Pa(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:o=Pe.distance,ignoreLocation:i=Pe.ignoreLocation}={}){const s=t/e.length;if(i)return s;const l=Math.abs(r-n);return o?s+l/o:l?1:s}function RC(e=[],t=Pe.minMatchCharLength){let n=[],r=-1,o=-1,i=0;for(let s=e.length;i<s;i+=1){let l=e[i];l&&r===-1?r=i:!l&&r!==-1&&(o=i-1,o-r+1>=t&&n.push([r,o]),r=-1)}return e[i-1]&&i-r>=t&&n.push([r,i-1]),n}const fo=32;function MC(e,t,n,{location:r=Pe.location,distance:o=Pe.distance,threshold:i=Pe.threshold,findAllMatches:s=Pe.findAllMatches,minMatchCharLength:l=Pe.minMatchCharLength,includeMatches:c=Pe.includeMatches,ignoreLocation:a=Pe.ignoreLocation}={}){if(t.length>fo)throw new Error(xC(fo));const h=t.length,m=e.length,_=Math.max(0,Math.min(r,m));let p=i,x=_;const E=l>1||c,A=E?Array(m):[];let w;for(;(w=e.indexOf(t,x))>-1;){let b=Pa(t,{currentLocation:w,expectedLocation:_,distance:o,ignoreLocation:a});if(p=Math.min(b,p),x=w+h,E){let T=0;for(;T<h;)A[w+T]=1,T+=1}}x=-1;let g=[],S=1,O=h+m;const M=1<<h-1;for(let b=0;b<h;b+=1){let T=0,L=O;for(;T<L;)Pa(t,{errors:b,currentLocation:_+L,expectedLocation:_,distance:o,ignoreLocation:a})<=p?T=L:O=L,L=Math.floor((O-T)/2+T);O=L;let j=Math.max(1,_-L+1),W=s?m:Math.min(_+L,m)+h,le=Array(W+2);le[W+1]=(1<<b)-1;for(let ge=W;ge>=j;ge-=1){let G=ge-1,xe=n[e.charAt(G)];if(E&&(A[G]=+!!xe),le[ge]=(le[ge+1]<<1|1)&xe,b&&(le[ge]|=(g[ge+1]|g[ge])<<1|1|g[ge+1]),le[ge]&M&&(S=Pa(t,{errors:b,currentLocation:G,expectedLocation:_,distance:o,ignoreLocation:a}),S<=p)){if(p=S,x=G,x<=_)break;j=Math.max(1,2*_-x)}}if(Pa(t,{errors:b+1,currentLocation:_,expectedLocation:_,distance:o,ignoreLocation:a})>p)break;g=le}const F={isMatch:x>=0,score:Math.max(.001,S)};if(E){const b=RC(A,l);b.length?c&&(F.indices=b):F.isMatch=!1}return F}function NC(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const o=e.charAt(n);t[o]=(t[o]||0)|1<<r-n-1}return t}class Iw{constructor(t,{location:n=Pe.location,threshold:r=Pe.threshold,distance:o=Pe.distance,includeMatches:i=Pe.includeMatches,findAllMatches:s=Pe.findAllMatches,minMatchCharLength:l=Pe.minMatchCharLength,isCaseSensitive:c=Pe.isCaseSensitive,ignoreLocation:a=Pe.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:o,includeMatches:i,findAllMatches:s,minMatchCharLength:l,isCaseSensitive:c,ignoreLocation:a},this.pattern=c?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const h=(_,p)=>{this.chunks.push({pattern:_,alphabet:NC(_),startIndex:p})},m=this.pattern.length;if(m>fo){let _=0;const p=m%fo,x=m-p;for(;_<x;)h(this.pattern.substr(_,fo),_),_+=fo;if(p){const E=m-fo;h(this.pattern.substr(E),E)}}else h(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,includeMatches:r}=this.options;if(n||(t=t.toLowerCase()),this.pattern===t){let x={isMatch:!0,score:0};return r&&(x.indices=[[0,t.length-1]]),x}const{location:o,distance:i,threshold:s,findAllMatches:l,minMatchCharLength:c,ignoreLocation:a}=this.options;let h=[],m=0,_=!1;this.chunks.forEach(({pattern:x,alphabet:E,startIndex:A})=>{const{isMatch:w,score:g,indices:S}=MC(t,x,E,{location:o+A,distance:i,threshold:s,findAllMatches:l,minMatchCharLength:c,includeMatches:r,ignoreLocation:a});w&&(_=!0),m+=g,w&&S&&(h=[...h,...S])});let p={isMatch:_,score:_?m/this.chunks.length:1};return _&&r&&(p.indices=h),p}}class ji{constructor(t){this.pattern=t}static isMultiMatch(t){return bg(t,this.multiRegex)}static isSingleMatch(t){return bg(t,this.singleRegex)}search(){}}function bg(e,t){const n=e.match(t);return n?n[1]:null}class FC extends ji{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class LC extends ji{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class jC extends ji{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class DC extends ji{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class zC extends ji{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class BC extends ji{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class $w extends ji{constructor(t,{location:n=Pe.location,threshold:r=Pe.threshold,distance:o=Pe.distance,includeMatches:i=Pe.includeMatches,findAllMatches:s=Pe.findAllMatches,minMatchCharLength:l=Pe.minMatchCharLength,isCaseSensitive:c=Pe.isCaseSensitive,ignoreLocation:a=Pe.ignoreLocation}={}){super(t),this._bitapSearch=new Iw(t,{location:n,threshold:r,distance:o,includeMatches:i,findAllMatches:s,minMatchCharLength:l,isCaseSensitive:c,ignoreLocation:a})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class Rw extends ji{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,r;const o=[],i=this.pattern.length;for(;(r=t.indexOf(this.pattern,n))>-1;)n=r+i,o.push([r,n-1]);const s=!!o.length;return{isMatch:s,score:s?0:1,indices:o}}}const Hd=[FC,Rw,jC,DC,BC,zC,LC,$w],Eg=Hd.length,UC=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,HC="|";function WC(e,t={}){return e.split(HC).map(n=>{let r=n.trim().split(UC).filter(i=>i&&!!i.trim()),o=[];for(let i=0,s=r.length;i<s;i+=1){const l=r[i];let c=!1,a=-1;for(;!c&&++a<Eg;){const h=Hd[a];let m=h.isMultiMatch(l);m&&(o.push(new h(m,t)),c=!0)}if(!c)for(a=-1;++a<Eg;){const h=Hd[a];let m=h.isSingleMatch(l);if(m){o.push(new h(m,t));break}}}return o})}const qC=new Set([$w.type,Rw.type]);class VC{constructor(t,{isCaseSensitive:n=Pe.isCaseSensitive,includeMatches:r=Pe.includeMatches,minMatchCharLength:o=Pe.minMatchCharLength,ignoreLocation:i=Pe.ignoreLocation,findAllMatches:s=Pe.findAllMatches,location:l=Pe.location,threshold:c=Pe.threshold,distance:a=Pe.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:r,minMatchCharLength:o,findAllMatches:s,ignoreLocation:i,location:l,threshold:c,distance:a},this.pattern=n?t:t.toLowerCase(),this.query=WC(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:o}=this.options;t=o?t:t.toLowerCase();let i=0,s=[],l=0;for(let c=0,a=n.length;c<a;c+=1){const h=n[c];s.length=0,i=0;for(let m=0,_=h.length;m<_;m+=1){const p=h[m],{isMatch:x,indices:E,score:A}=p.search(t);if(x){if(i+=1,l+=A,r){const w=p.constructor.type;qC.has(w)?s=[...s,...E]:s.push(E)}}else{l=0,i=0,s.length=0;break}}if(i){let m={isMatch:!0,score:l/i};return r&&(m.indices=s),m}}return{isMatch:!1,score:1}}}const Wd=[];function KC(...e){Wd.push(...e)}function qd(e,t){for(let n=0,r=Wd.length;n<r;n+=1){let o=Wd[n];if(o.condition(e,t))return new o(e,t)}return new Iw(e,t)}const nc={AND:"$and",OR:"$or"},Vd={PATH:"$path",PATTERN:"$val"},Kd=e=>!!(e[nc.AND]||e[nc.OR]),QC=e=>!!e[Vd.PATH],GC=e=>!ii(e)&&Pw(e)&&!Kd(e),Cg=e=>({[nc.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function Mw(e,t,{auto:n=!0}={}){const r=o=>{let i=Object.keys(o);const s=QC(o);if(!s&&i.length>1&&!Kd(o))return r(Cg(o));if(GC(o)){const c=s?o[Vd.PATH]:i[0],a=s?o[Vd.PATTERN]:o[c];if(!Nr(a))throw new Error(_C(c));const h={keyId:Ud(c),pattern:a};return n&&(h.searcher=qd(a,t)),h}let l={children:[],operator:i[0]};return i.forEach(c=>{const a=o[c];ii(a)&&a.forEach(h=>{l.children.push(r(h))})}),l};return Kd(e)||(e=Cg(e)),r(e)}function JC(e,{ignoreFieldNorm:t=Pe.ignoreFieldNorm}){e.forEach(n=>{let r=1;n.matches.forEach(({key:o,norm:i,score:s})=>{const l=o?o.weight:null;r*=Math.pow(s===0&&l?Number.EPSILON:s,(l||1)*(t?1:i))}),n.score=r})}function XC(e,t){const n=e.matches;t.matches=[],Cn(n)&&n.forEach(r=>{if(!Cn(r.indices)||!r.indices.length)return;const{indices:o,value:i}=r;let s={indices:o,value:i};r.key&&(s.key=r.key.src),r.idx>-1&&(s.refIndex=r.idx),t.matches.push(s)})}function YC(e,t){t.score=e.score}function ZC(e,t,{includeMatches:n=Pe.includeMatches,includeScore:r=Pe.includeScore}={}){const o=[];return n&&o.push(XC),r&&o.push(YC),e.map(i=>{const{idx:s}=i,l={item:t[s],refIndex:s};return o.length&&o.forEach(c=>{c(i,l)}),l})}class $s{constructor(t,n={},r){this.options={...Pe,...n},this.options.useExtendedSearch,this._keyStore=new EC(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof Cp))throw new Error(wC);this._myIndex=n||Tw(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Cn(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let r=0,o=this._docs.length;r<o;r+=1){const i=this._docs[r];t(i,r)&&(this.removeAt(r),r-=1,o-=1,n.push(i))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:r,includeScore:o,shouldSort:i,sortFn:s,ignoreFieldNorm:l}=this.options;let c=Nr(t)?Nr(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return JC(c,{ignoreFieldNorm:l}),i&&c.sort(s),kw(n)&&n>-1&&(c=c.slice(0,n)),ZC(c,this._docs,{includeMatches:r,includeScore:o})}_searchStringList(t){const n=qd(t,this.options),{records:r}=this._myIndex,o=[];return r.forEach(({v:i,i:s,n:l})=>{if(!Cn(i))return;const{isMatch:c,score:a,indices:h}=n.searchIn(i);c&&o.push({item:i,idx:s,matches:[{score:a,value:i,norm:l,indices:h}]})}),o}_searchLogical(t){const n=Mw(t,this.options),r=(l,c,a)=>{if(!l.children){const{keyId:m,searcher:_}=l,p=this._findMatches({key:this._keyStore.get(m),value:this._myIndex.getValueForItemAtKeyId(c,m),searcher:_});return p&&p.length?[{idx:a,item:c,matches:p}]:[]}const h=[];for(let m=0,_=l.children.length;m<_;m+=1){const p=l.children[m],x=r(p,c,a);if(x.length)h.push(...x);else if(l.operator===nc.AND)return[]}return h},o=this._myIndex.records,i={},s=[];return o.forEach(({$:l,i:c})=>{if(Cn(l)){let a=r(n,l,c);a.length&&(i[c]||(i[c]={idx:c,item:l,matches:[]},s.push(i[c])),a.forEach(({matches:h})=>{i[c].matches.push(...h)}))}}),s}_searchObjectList(t){const n=qd(t,this.options),{keys:r,records:o}=this._myIndex,i=[];return o.forEach(({$:s,i:l})=>{if(!Cn(s))return;let c=[];r.forEach((a,h)=>{c.push(...this._findMatches({key:a,value:s[h],searcher:n}))}),c.length&&i.push({idx:l,item:s,matches:c})}),i}_findMatches({key:t,value:n,searcher:r}){if(!Cn(n))return[];let o=[];if(ii(n))n.forEach(({v:i,i:s,n:l})=>{if(!Cn(i))return;const{isMatch:c,score:a,indices:h}=r.searchIn(i);c&&o.push({score:a,key:t,value:i,idx:s,norm:l,indices:h})});else{const{v:i,n:s}=n,{isMatch:l,score:c,indices:a}=r.searchIn(i);l&&o.push({score:c,key:t,value:i,norm:s,indices:a})}return o}}$s.version="6.6.2";$s.createIndex=Tw;$s.parseIndex=$C;$s.config=Pe;$s.parseQuery=Mw;KC(VC);const kg=e=>({type:"custom",name:e,prompt:e+`
`});class ek{constructor(t){he(this,"fuse");this.commands=t,this.fuse=new $s(t,{includeScore:!0,keys:["name"]}),this.commands=t}query(t){const n=t===""?this.commands:this.fuse.search(t).filter(r=>r.score?r.score<.5:!1).map(r=>({...r.item}));return n.length===0?[kg(t)]:t!==""?[...n,kg(t)]:n}}const bf=({disabled:e,children:t,onClick:n})=>Me("button",{type:"button",disabled:e,onClick:n,className:Cw("inline-flex items-center py-2.5 px-4 text-xs font-medium text-center",!e&&" text-white bg-blue-700 rounded-lg focus:ring-4 focus:ring-blue-200 dark:focus:ring-blue-900 hover:bg-blue-800",e&&"text-gray-200 bg-gray-400 rounded-lg opacity-60 cursor-not-allowed"),children:t}),tk=({left:e,right:t})=>$i("div",{className:"flex items-center justify-between px-3 py-2 border-t dark:border-gray-600",children:[Me("div",{className:"flex pl-0 space-x-1 sm:pl-2",children:e}),Me("div",{className:"flex pl-0 space-x-1 sm:pl-2",children:t})]}),nk=()=>Me("div",{className:"flex items-center justify-center w-full h-40 bg-gray-100 dark:bg-gray-800",children:$i("svg",{"aria-hidden":"true",className:"w-8 h-8 mr-2 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Me("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),Me("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})}),rk=({message:e})=>$i("div",{className:"flex items-center flex-col justify-center w-full h-40 bg-red-100 dark:bg-red-800",children:[$i("div",{className:"flex items-center text-2xl text-red-600 dark:text-red-400",children:[Me("svg",{className:"h-5 w-5 text-red-600 dark:text-red-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:Me("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),Me("span",{className:"ml-2 text-red-600 dark:text-red-400",children:"Error"})]}),Me("span",{className:"ml-2 text-sm text-gray-500 dark:text-gray-400",children:e})]}),ik=({result:e})=>Me("textarea",{rows:10,value:e,readOnly:!0,className:"w-full px-0 text-sm text-gray-900 bg-white border-0 dark:bg-gray-800 focus:ring-0 dark:text-white dark:placeholder-gray-400"}),ok=({commands:e,handleCommand:t,onClose:n,onInsert:r,onReplace:o})=>{const[i,s]=U.useState({status:"ready"}),[l,c]=U.useState(null),[a,h]=U.useState(""),m=new ek(e);async function _(w){c(w),h(w.name),s({status:"loading"});try{let g="";await t(w,S=>{g+=S||"",s({status:"success",result:g})})}catch(g){g instanceof Error?s({status:"error",error:g}):s({status:"error",error:new Error("Unknown error")})}}async function p(){l&&await _(l)}function x(){h(""),s({status:"ready"})}const E=U.useCallback(w=>{i.status==="success"&&w.key==="Enter"&&(r(i.result),x())},[i]);U.useEffect(()=>(document.addEventListener("keydown",E),()=>{document.removeEventListener("keydown",E)}),[E]);let A;if(i.status==="ready")A=Me(Ka.Options,{className:"max-h-40 overflow-y-auto flex flex-col",static:!0,children:Me(dC,{commands:m.query(a)})});else{const w=i.status!=="success",g=i.status!=="success"&&i.status!=="error",S=Me(tk,{left:Me(bf,{disabled:g,onClick:p,children:"Regenerate"}),right:$i(oh,{children:[Me(bf,{disabled:w,onClick:()=>{i.status==="success"&&o(i.result),x()},children:"Replace"}),Me(bf,{disabled:w,onClick:()=>{i.status==="success"&&r(i.result),x()},children:"Insert ⏎"})]})});let O;i.status==="loading"?O=Me(nk,{}):i.status==="error"?O=Me(rk,{message:i.error.message}):i.status==="success"&&(O=Me(ik,{result:i.result})),A=Me(hC,{toolbar:S,children:O})}return Me(_g,{open:!0,onClose:()=>{n(),x()},className:"fixed top-1/2 inset-0 z-50 overflow-y-auto",children:Me(_g.Panel,{className:"bg-accent-dark max-w-2xl mx-auto rounded-lg shadow-2xl relative flex flex-col p-4",children:$i(Ka,{as:"div",onChange:_,children:[Me("div",{className:"flex items-center text-lg font-medium border-b border-slate-500",children:Me(Ka.Input,{id:"logseq-openai-search",autoFocus:!0,className:"p-5 text-white placeholder-gray-200 w-full bg-transparent border-0 outline-none",placeholder:"Type a command or search for template...",onChange:w=>{h(w.target.value),s({status:"ready"})},displayValue:()=>a,value:a})}),A]})})})};var sk=function(){function e(r,o){function i(){this.constructor=r}i.prototype=o.prototype,r.prototype=new i}function t(r,o,i,s,l,c){this.message=r,this.expected=o,this.found=i,this.offset=s,this.line=l,this.column=c,this.name="SyntaxError"}e(t,Error);function n(r){var o=arguments.length>1?arguments[1]:{},i={},s={start:nn},l=nn,c=function(){return Fp},a=i,h="#",m={type:"literal",value:"#",description:'"#"'},_=void 0,p={type:"any",description:"any character"},x="[",E={type:"literal",value:"[",description:'"["'},A="]",w={type:"literal",value:"]",description:'"]"'},g=function(u){Ic(Lt("ObjectPath",u,it,mt))},S=function(u){Ic(Lt("ArrayPath",u,it,mt))},O=function(u,d){return u.concat(d)},M=function(u){return[u]},F=function(u){return u},b=".",T={type:"literal",value:".",description:'"."'},L="=",j={type:"literal",value:"=",description:'"="'},W=function(u,d){Ic(Lt("Assign",d,it,mt,u))},le=function(u){return u.join("")},be=function(u){return u.value},ge='"""',G={type:"literal",value:'"""',description:'"\\"\\"\\""'},xe=null,ve=function(u){return Lt("String",u.join(""),it,mt)},Z='"',N={type:"literal",value:'"',description:'"\\""'},D="'''",J={type:"literal",value:"'''",description:`"'''"`},ye="'",We={type:"literal",value:"'",description:`"'"`},Ne=function(u){return u},Ce=function(u){return u},Le="\\",Be={type:"literal",value:"\\",description:'"\\\\"'},nt=function(){return""},we="e",Ae={type:"literal",value:"e",description:'"e"'},de="E",ke={type:"literal",value:"E",description:'"E"'},Re=function(u,d){return Lt("Float",parseFloat(u+"e"+d),it,mt)},Tt=function(u){return Lt("Float",parseFloat(u),it,mt)},Rn="+",pn={type:"literal",value:"+",description:'"+"'},Mn=function(u){return u.join("")},Nn="-",mn={type:"literal",value:"-",description:'"-"'},Di=function(u){return"-"+u.join("")},Ms=function(u){return Lt("Integer",parseInt(u,10),it,mt)},zi="true",Ns={type:"literal",value:"true",description:'"true"'},_e=function(){return Lt("Boolean",!0,it,mt)},ne="false",ae={type:"literal",value:"false",description:'"false"'},De=function(){return Lt("Boolean",!1,it,mt)},Ye=function(){return Lt("Array",[],it,mt)},Ht=function(u){return Lt("Array",u?[u]:[],it,mt)},hr=function(u){return Lt("Array",u,it,mt)},Qn=function(u,d){return Lt("Array",u.concat(d),it,mt)},Bi=function(u){return u},si=",",Dr={type:"literal",value:",",description:'","'},Ui="{",Io={type:"literal",value:"{",description:'"{"'},Hi="}",$o={type:"literal",value:"}",description:'"}"'},zr=function(u){return Lt("InlineTable",u,it,mt)},Wi=function(u,d){return Lt("InlineTableValue",d,it,mt,u)},Ro=function(u){return"."+u},Fs=function(u){return u.join("")},Gn=":",Fn={type:"literal",value:":",description:'":"'},gn=function(u){return u.join("")},qi="T",Ue={type:"literal",value:"T",description:'"T"'},li="Z",Br={type:"literal",value:"Z",description:'"Z"'},Vi=function(u,d){return Lt("Date",new Date(u+"T"+d+"Z"),it,mt)},Mo=function(u,d){return Lt("Date",new Date(u+"T"+d),it,mt)},No=/^[ \t]/,Ki={type:"class",value:"[ \\t]",description:"[ \\t]"},Nt=`
`,pr={type:"literal",value:`
`,description:'"\\n"'},Jn="\r",Qi={type:"literal",value:"\r",description:'"\\r"'},ai=/^[0-9a-f]/i,Ls={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},js=/^[0-9]/,Ds={type:"class",value:"[0-9]",description:"[0-9]"},Fo="_",ui={type:"literal",value:"_",description:'"_"'},pt=function(){return""},Lo=/^[A-Za-z0-9_\-]/,wt={type:"class",value:"[A-Za-z0-9_\\-]",description:"[A-Za-z0-9_\\-]"},Gi=function(u){return u.join("")},rt='\\"',mr={type:"literal",value:'\\"',description:'"\\\\\\""'},Ji=function(){return'"'},Xi="\\\\",Yi={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},jo=function(){return"\\"},Xn="\\b",yn={type:"literal",value:"\\b",description:'"\\\\b"'},gr=function(){return"\b"},ci="\\t",yr={type:"literal",value:"\\t",description:'"\\\\t"'},fi=function(){return"	"},vr="\\n",Zi={type:"literal",value:"\\n",description:'"\\\\n"'},wr=function(){return`
`},_r="\\f",Ln={type:"literal",value:"\\f",description:'"\\\\f"'},xr=function(){return"\f"},eo="\\r",to={type:"literal",value:"\\r",description:'"\\\\r"'},jn=function(){return"\r"},di="\\U",Do={type:"literal",value:"\\U",description:'"\\\\U"'},Sr=function(u){return Bw(u.join(""))},hi="\\u",Dn={type:"literal",value:"\\u",description:'"\\\\u"'},f=0,ce=0,br=0,Ur={line:1,column:1,seenCR:!1},vn=0,no=[],V=0,Q={},Wt;if("startRule"in o){if(!(o.startRule in s))throw new Error(`Can't start parsing from rule "`+o.startRule+'".');l=s[o.startRule]}function it(){return wn(ce).line}function mt(){return wn(ce).column}function wn(u){function d(y,P,$){var B,H;for(B=P;B<$;B++)H=r.charAt(B),H===`
`?(y.seenCR||y.line++,y.column=1,y.seenCR=!1):H==="\r"||H==="\u2028"||H==="\u2029"?(y.line++,y.column=1,y.seenCR=!0):(y.column++,y.seenCR=!1)}return br!==u&&(br>u&&(br=0,Ur={line:1,column:1,seenCR:!1}),d(Ur,br,u),br=u),Ur}function X(u){f<vn||(f>vn&&(vn=f,no=[]),no.push(u))}function zo(u,d,y){function P(se){var Se=1;for(se.sort(function(Qe,Ve){return Qe.description<Ve.description?-1:Qe.description>Ve.description?1:0});Se<se.length;)se[Se-1]===se[Se]?se.splice(Se,1):Se++}function $(se,Se){function Qe(Uo){function mi(xn){return xn.charCodeAt(0).toString(16).toUpperCase()}return Uo.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(xn){return"\\x0"+mi(xn)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(xn){return"\\x"+mi(xn)}).replace(/[\u0180-\u0FFF]/g,function(xn){return"\\u0"+mi(xn)}).replace(/[\u1080-\uFFFF]/g,function(xn){return"\\u"+mi(xn)})}var Ve=new Array(se.length),ut,_t,_n;for(_n=0;_n<se.length;_n++)Ve[_n]=se[_n].description;return ut=se.length>1?Ve.slice(0,-1).join(", ")+" or "+Ve[se.length-1]:Ve[0],_t=Se?'"'+Qe(Se)+'"':"end of input","Expected "+ut+" but "+_t+" found."}var B=wn(y),H=y<r.length?r.charAt(y):null;return d!==null&&P(d),new t(u!==null?u:$(d,H),d,H,y,B.line,B.column)}function nn(){var u,d,y,P=f*49+0,$=Q[P];if($)return f=$.nextPos,$.result;for(u=f,d=[],y=pi();y!==i;)d.push(y),y=pi();return d!==i&&(ce=u,d=c()),u=d,Q[P]={nextPos:f,result:u},u}function pi(){var u,d,y,P,$,B,H,se=f*49+1,Se=Q[se];if(Se)return f=Se.nextPos,Se.result;for(u=f,d=[],y=fe();y!==i;)d.push(y),y=fe();if(d!==i)if(y=Bo(),y!==i){for(P=[],$=fe();$!==i;)P.push($),$=fe();if(P!==i){for($=[],B=Yn();B!==i;)$.push(B),B=Yn();if($!==i){if(B=[],H=zn(),H!==i)for(;H!==i;)B.push(H),H=zn();else B=a;B===i&&(B=na()),B!==i?(d=[d,y,P,$,B],u=d):(f=u,u=a)}else f=u,u=a}else f=u,u=a}else f=u,u=a;else f=u,u=a;if(u===i){if(u=f,d=[],y=fe(),y!==i)for(;y!==i;)d.push(y),y=fe();else d=a;if(d!==i){if(y=[],P=zn(),P!==i)for(;P!==i;)y.push(P),P=zn();else y=a;y===i&&(y=na()),y!==i?(d=[d,y],u=d):(f=u,u=a)}else f=u,u=a;u===i&&(u=zn())}return Q[se]={nextPos:f,result:u},u}function Bo(){var u,d=f*49+2,y=Q[d];return y?(f=y.nextPos,y.result):(u=Yn(),u===i&&(u=zs(),u===i&&(u=Hr(),u===i&&(u=io()))),Q[d]={nextPos:f,result:u},u)}function Yn(){var u,d,y,P,$,B,H=f*49+3,se=Q[H];if(se)return f=se.nextPos,se.result;if(u=f,r.charCodeAt(f)===35?(d=h,f++):(d=i,V===0&&X(m)),d!==i){for(y=[],P=f,$=f,V++,B=zn(),B===i&&(B=na()),V--,B===i?$=_:(f=$,$=a),$!==i?(r.length>f?(B=r.charAt(f),f++):(B=i,V===0&&X(p)),B!==i?($=[$,B],P=$):(f=P,P=a)):(f=P,P=a);P!==i;)y.push(P),P=f,$=f,V++,B=zn(),B===i&&(B=na()),V--,B===i?$=_:(f=$,$=a),$!==i?(r.length>f?(B=r.charAt(f),f++):(B=i,V===0&&X(p)),B!==i?($=[$,B],P=$):(f=P,P=a)):(f=P,P=a);y!==i?(d=[d,y],u=d):(f=u,u=a)}else f=u,u=a;return Q[H]={nextPos:f,result:u},u}function zs(){var u,d,y,P,$,B,H=f*49+4,se=Q[H];if(se)return f=se.nextPos,se.result;if(u=f,r.charCodeAt(f)===91?(d=x,f++):(d=i,V===0&&X(E)),d!==i){for(y=[],P=fe();P!==i;)y.push(P),P=fe();if(y!==i)if(P=Et(),P!==i){for($=[],B=fe();B!==i;)$.push(B),B=fe();$!==i?(r.charCodeAt(f)===93?(B=A,f++):(B=i,V===0&&X(w)),B!==i?(ce=u,d=g(P),u=d):(f=u,u=a)):(f=u,u=a)}else f=u,u=a;else f=u,u=a}else f=u,u=a;return Q[H]={nextPos:f,result:u},u}function Hr(){var u,d,y,P,$,B,H,se,Se=f*49+5,Qe=Q[Se];if(Qe)return f=Qe.nextPos,Qe.result;if(u=f,r.charCodeAt(f)===91?(d=x,f++):(d=i,V===0&&X(E)),d!==i)if(r.charCodeAt(f)===91?(y=x,f++):(y=i,V===0&&X(E)),y!==i){for(P=[],$=fe();$!==i;)P.push($),$=fe();if(P!==i)if($=Et(),$!==i){for(B=[],H=fe();H!==i;)B.push(H),H=fe();B!==i?(r.charCodeAt(f)===93?(H=A,f++):(H=i,V===0&&X(w)),H!==i?(r.charCodeAt(f)===93?(se=A,f++):(se=i,V===0&&X(w)),se!==i?(ce=u,d=S($),u=d):(f=u,u=a)):(f=u,u=a)):(f=u,u=a)}else f=u,u=a;else f=u,u=a}else f=u,u=a;else f=u,u=a;return Q[Se]={nextPos:f,result:u},u}function Et(){var u,d,y,P=f*49+6,$=Q[P];if($)return f=$.nextPos,$.result;if(u=f,d=[],y=ro(),y!==i)for(;y!==i;)d.push(y),y=ro();else d=a;return d!==i?(y=Er(),y!==i?(ce=u,d=O(d,y),u=d):(f=u,u=a)):(f=u,u=a),u===i&&(u=f,d=Er(),d!==i&&(ce=u,d=M(d)),u=d),Q[P]={nextPos:f,result:u},u}function Er(){var u,d,y,P,$,B=f*49+7,H=Q[B];if(H)return f=H.nextPos,H.result;for(u=f,d=[],y=fe();y!==i;)d.push(y),y=fe();if(d!==i)if(y=Cr(),y!==i){for(P=[],$=fe();$!==i;)P.push($),$=fe();P!==i?(ce=u,d=F(y),u=d):(f=u,u=a)}else f=u,u=a;else f=u,u=a;if(u===i){for(u=f,d=[],y=fe();y!==i;)d.push(y),y=fe();if(d!==i)if(y=oo(),y!==i){for(P=[],$=fe();$!==i;)P.push($),$=fe();P!==i?(ce=u,d=F(y),u=d):(f=u,u=a)}else f=u,u=a;else f=u,u=a}return Q[B]={nextPos:f,result:u},u}function ro(){var u,d,y,P,$,B,H,se=f*49+8,Se=Q[se];if(Se)return f=Se.nextPos,Se.result;for(u=f,d=[],y=fe();y!==i;)d.push(y),y=fe();if(d!==i)if(y=Cr(),y!==i){for(P=[],$=fe();$!==i;)P.push($),$=fe();if(P!==i)if(r.charCodeAt(f)===46?($=b,f++):($=i,V===0&&X(T)),$!==i){for(B=[],H=fe();H!==i;)B.push(H),H=fe();B!==i?(ce=u,d=F(y),u=d):(f=u,u=a)}else f=u,u=a;else f=u,u=a}else f=u,u=a;else f=u,u=a;if(u===i){for(u=f,d=[],y=fe();y!==i;)d.push(y),y=fe();if(d!==i)if(y=oo(),y!==i){for(P=[],$=fe();$!==i;)P.push($),$=fe();if(P!==i)if(r.charCodeAt(f)===46?($=b,f++):($=i,V===0&&X(T)),$!==i){for(B=[],H=fe();H!==i;)B.push(H),H=fe();B!==i?(ce=u,d=F(y),u=d):(f=u,u=a)}else f=u,u=a;else f=u,u=a}else f=u,u=a;else f=u,u=a}return Q[se]={nextPos:f,result:u},u}function io(){var u,d,y,P,$,B,H=f*49+9,se=Q[H];if(se)return f=se.nextPos,se.result;if(u=f,d=Cr(),d!==i){for(y=[],P=fe();P!==i;)y.push(P),P=fe();if(y!==i)if(r.charCodeAt(f)===61?(P=L,f++):(P=i,V===0&&X(j)),P!==i){for($=[],B=fe();B!==i;)$.push(B),B=fe();$!==i?(B=R(),B!==i?(ce=u,d=W(d,B),u=d):(f=u,u=a)):(f=u,u=a)}else f=u,u=a;else f=u,u=a}else f=u,u=a;if(u===i)if(u=f,d=oo(),d!==i){for(y=[],P=fe();P!==i;)y.push(P),P=fe();if(y!==i)if(r.charCodeAt(f)===61?(P=L,f++):(P=i,V===0&&X(j)),P!==i){for($=[],B=fe();B!==i;)$.push(B),B=fe();$!==i?(B=R(),B!==i?(ce=u,d=W(d,B),u=d):(f=u,u=a)):(f=u,u=a)}else f=u,u=a;else f=u,u=a}else f=u,u=a;return Q[H]={nextPos:f,result:u},u}function Cr(){var u,d,y,P=f*49+10,$=Q[P];if($)return f=$.nextPos,$.result;if(u=f,d=[],y=Mp(),y!==i)for(;y!==i;)d.push(y),y=Mp();else d=a;return d!==i&&(ce=u,d=le(d)),u=d,Q[P]={nextPos:f,result:u},u}function oo(){var u,d,y=f*49+11,P=Q[y];return P?(f=P.nextPos,P.result):(u=f,d=ze(),d!==i&&(ce=u,d=be(d)),u=d,u===i&&(u=f,d=C(),d!==i&&(ce=u,d=be(d)),u=d),Q[y]={nextPos:f,result:u},u)}function R(){var u,d=f*49+12,y=Q[d];return y?(f=y.nextPos,y.result):(u=oe(),u===i&&(u=jw(),u===i&&(u=K(),u===i&&(u=re(),u===i&&(u=ot(),u===i&&(u=Ee(),u===i&&(u=Ze())))))),Q[d]={nextPos:f,result:u},u)}function oe(){var u,d=f*49+13,y=Q[d];return y?(f=y.nextPos,y.result):(u=te(),u===i&&(u=ze(),u===i&&(u=et(),u===i&&(u=C()))),Q[d]={nextPos:f,result:u},u)}function te(){var u,d,y,P,$,B=f*49+14,H=Q[B];if(H)return f=H.nextPos,H.result;if(u=f,r.substr(f,3)===ge?(d=ge,f+=3):(d=i,V===0&&X(G)),d!==i)if(y=zn(),y===i&&(y=xe),y!==i){for(P=[],$=I();$!==i;)P.push($),$=I();P!==i?(r.substr(f,3)===ge?($=ge,f+=3):($=i,V===0&&X(G)),$!==i?(ce=u,d=ve(P),u=d):(f=u,u=a)):(f=u,u=a)}else f=u,u=a;else f=u,u=a;return Q[B]={nextPos:f,result:u},u}function ze(){var u,d,y,P,$=f*49+15,B=Q[$];if(B)return f=B.nextPos,B.result;if(u=f,r.charCodeAt(f)===34?(d=Z,f++):(d=i,V===0&&X(N)),d!==i){for(y=[],P=k();P!==i;)y.push(P),P=k();y!==i?(r.charCodeAt(f)===34?(P=Z,f++):(P=i,V===0&&X(N)),P!==i?(ce=u,d=ve(y),u=d):(f=u,u=a)):(f=u,u=a)}else f=u,u=a;return Q[$]={nextPos:f,result:u},u}function et(){var u,d,y,P,$,B=f*49+16,H=Q[B];if(H)return f=H.nextPos,H.result;if(u=f,r.substr(f,3)===D?(d=D,f+=3):(d=i,V===0&&X(J)),d!==i)if(y=zn(),y===i&&(y=xe),y!==i){for(P=[],$=q();$!==i;)P.push($),$=q();P!==i?(r.substr(f,3)===D?($=D,f+=3):($=i,V===0&&X(J)),$!==i?(ce=u,d=ve(P),u=d):(f=u,u=a)):(f=u,u=a)}else f=u,u=a;else f=u,u=a;return Q[B]={nextPos:f,result:u},u}function C(){var u,d,y,P,$=f*49+17,B=Q[$];if(B)return f=B.nextPos,B.result;if(u=f,r.charCodeAt(f)===39?(d=ye,f++):(d=i,V===0&&X(We)),d!==i){for(y=[],P=v();P!==i;)y.push(P),P=v();y!==i?(r.charCodeAt(f)===39?(P=ye,f++):(P=i,V===0&&X(We)),P!==i?(ce=u,d=ve(y),u=d):(f=u,u=a)):(f=u,u=a)}else f=u,u=a;return Q[$]={nextPos:f,result:u},u}function k(){var u,d,y,P=f*49+18,$=Q[P];return $?(f=$.nextPos,$.result):(u=Np(),u===i&&(u=f,d=f,V++,r.charCodeAt(f)===34?(y=Z,f++):(y=i,V===0&&X(N)),V--,y===i?d=_:(f=d,d=a),d!==i?(r.length>f?(y=r.charAt(f),f++):(y=i,V===0&&X(p)),y!==i?(ce=u,d=Ne(y),u=d):(f=u,u=a)):(f=u,u=a)),Q[P]={nextPos:f,result:u},u)}function v(){var u,d,y,P=f*49+19,$=Q[P];return $?(f=$.nextPos,$.result):(u=f,d=f,V++,r.charCodeAt(f)===39?(y=ye,f++):(y=i,V===0&&X(We)),V--,y===i?d=_:(f=d,d=a),d!==i?(r.length>f?(y=r.charAt(f),f++):(y=i,V===0&&X(p)),y!==i?(ce=u,d=Ne(y),u=d):(f=u,u=a)):(f=u,u=a),Q[P]={nextPos:f,result:u},u)}function I(){var u,d,y,P=f*49+20,$=Q[P];return $?(f=$.nextPos,$.result):(u=Np(),u===i&&(u=z(),u===i&&(u=f,d=f,V++,r.substr(f,3)===ge?(y=ge,f+=3):(y=i,V===0&&X(G)),V--,y===i?d=_:(f=d,d=a),d!==i?(r.length>f?(y=r.charAt(f),f++):(y=i,V===0&&X(p)),y!==i?(ce=u,d=Ce(y),u=d):(f=u,u=a)):(f=u,u=a))),Q[P]={nextPos:f,result:u},u)}function z(){var u,d,y,P,$,B=f*49+21,H=Q[B];if(H)return f=H.nextPos,H.result;if(u=f,r.charCodeAt(f)===92?(d=Le,f++):(d=i,V===0&&X(Be)),d!==i)if(y=zn(),y!==i){for(P=[],$=Rp();$!==i;)P.push($),$=Rp();P!==i?(ce=u,d=nt(),u=d):(f=u,u=a)}else f=u,u=a;else f=u,u=a;return Q[B]={nextPos:f,result:u},u}function q(){var u,d,y,P=f*49+22,$=Q[P];return $?(f=$.nextPos,$.result):(u=f,d=f,V++,r.substr(f,3)===D?(y=D,f+=3):(y=i,V===0&&X(J)),V--,y===i?d=_:(f=d,d=a),d!==i?(r.length>f?(y=r.charAt(f),f++):(y=i,V===0&&X(p)),y!==i?(ce=u,d=Ne(y),u=d):(f=u,u=a)):(f=u,u=a),Q[P]={nextPos:f,result:u},u)}function K(){var u,d,y,P,$=f*49+23,B=Q[$];return B?(f=B.nextPos,B.result):(u=f,d=ee(),d===i&&(d=ie()),d!==i?(r.charCodeAt(f)===101?(y=we,f++):(y=i,V===0&&X(Ae)),y===i&&(r.charCodeAt(f)===69?(y=de,f++):(y=i,V===0&&X(ke))),y!==i?(P=ie(),P!==i?(ce=u,d=Re(d,P),u=d):(f=u,u=a)):(f=u,u=a)):(f=u,u=a),u===i&&(u=f,d=ee(),d!==i&&(ce=u,d=Tt(d)),u=d),Q[$]={nextPos:f,result:u},u)}function ee(){var u,d,y,P,$,B,H=f*49+24,se=Q[H];return se?(f=se.nextPos,se.result):(u=f,r.charCodeAt(f)===43?(d=Rn,f++):(d=i,V===0&&X(pn)),d===i&&(d=xe),d!==i?(y=f,P=Bs(),P!==i?(r.charCodeAt(f)===46?($=b,f++):($=i,V===0&&X(T)),$!==i?(B=Bs(),B!==i?(P=[P,$,B],y=P):(f=y,y=a)):(f=y,y=a)):(f=y,y=a),y!==i?(ce=u,d=Mn(y),u=d):(f=u,u=a)):(f=u,u=a),u===i&&(u=f,r.charCodeAt(f)===45?(d=Nn,f++):(d=i,V===0&&X(mn)),d!==i?(y=f,P=Bs(),P!==i?(r.charCodeAt(f)===46?($=b,f++):($=i,V===0&&X(T)),$!==i?(B=Bs(),B!==i?(P=[P,$,B],y=P):(f=y,y=a)):(f=y,y=a)):(f=y,y=a),y!==i?(ce=u,d=Di(y),u=d):(f=u,u=a)):(f=u,u=a)),Q[H]={nextPos:f,result:u},u)}function re(){var u,d,y=f*49+25,P=Q[y];return P?(f=P.nextPos,P.result):(u=f,d=ie(),d!==i&&(ce=u,d=Ms(d)),u=d,Q[y]={nextPos:f,result:u},u)}function ie(){var u,d,y,P,$,B=f*49+26,H=Q[B];if(H)return f=H.nextPos,H.result;if(u=f,r.charCodeAt(f)===43?(d=Rn,f++):(d=i,V===0&&X(pn)),d===i&&(d=xe),d!==i){if(y=[],P=Ke(),P!==i)for(;P!==i;)y.push(P),P=Ke();else y=a;y!==i?(P=f,V++,r.charCodeAt(f)===46?($=b,f++):($=i,V===0&&X(T)),V--,$===i?P=_:(f=P,P=a),P!==i?(ce=u,d=Mn(y),u=d):(f=u,u=a)):(f=u,u=a)}else f=u,u=a;if(u===i)if(u=f,r.charCodeAt(f)===45?(d=Nn,f++):(d=i,V===0&&X(mn)),d!==i){if(y=[],P=Ke(),P!==i)for(;P!==i;)y.push(P),P=Ke();else y=a;y!==i?(P=f,V++,r.charCodeAt(f)===46?($=b,f++):($=i,V===0&&X(T)),V--,$===i?P=_:(f=P,P=a),P!==i?(ce=u,d=Di(y),u=d):(f=u,u=a)):(f=u,u=a)}else f=u,u=a;return Q[B]={nextPos:f,result:u},u}function ot(){var u,d,y=f*49+27,P=Q[y];return P?(f=P.nextPos,P.result):(u=f,r.substr(f,4)===zi?(d=zi,f+=4):(d=i,V===0&&X(Ns)),d!==i&&(ce=u,d=_e()),u=d,u===i&&(u=f,r.substr(f,5)===ne?(d=ne,f+=5):(d=i,V===0&&X(ae)),d!==i&&(ce=u,d=De()),u=d),Q[y]={nextPos:f,result:u},u)}function Ee(){var u,d,y,P,$,B=f*49+28,H=Q[B];if(H)return f=H.nextPos,H.result;if(u=f,r.charCodeAt(f)===91?(d=x,f++):(d=i,V===0&&X(E)),d!==i){for(y=[],P=Te();P!==i;)y.push(P),P=Te();y!==i?(r.charCodeAt(f)===93?(P=A,f++):(P=i,V===0&&X(w)),P!==i?(ce=u,d=Ye(),u=d):(f=u,u=a)):(f=u,u=a)}else f=u,u=a;if(u===i&&(u=f,r.charCodeAt(f)===91?(d=x,f++):(d=i,V===0&&X(E)),d!==i?(y=pe(),y===i&&(y=xe),y!==i?(r.charCodeAt(f)===93?(P=A,f++):(P=i,V===0&&X(w)),P!==i?(ce=u,d=Ht(y),u=d):(f=u,u=a)):(f=u,u=a)):(f=u,u=a),u===i)){if(u=f,r.charCodeAt(f)===91?(d=x,f++):(d=i,V===0&&X(E)),d!==i){if(y=[],P=$e(),P!==i)for(;P!==i;)y.push(P),P=$e();else y=a;y!==i?(r.charCodeAt(f)===93?(P=A,f++):(P=i,V===0&&X(w)),P!==i?(ce=u,d=hr(y),u=d):(f=u,u=a)):(f=u,u=a)}else f=u,u=a;if(u===i)if(u=f,r.charCodeAt(f)===91?(d=x,f++):(d=i,V===0&&X(E)),d!==i){if(y=[],P=$e(),P!==i)for(;P!==i;)y.push(P),P=$e();else y=a;y!==i?(P=pe(),P!==i?(r.charCodeAt(f)===93?($=A,f++):($=i,V===0&&X(w)),$!==i?(ce=u,d=Qn(y,P),u=d):(f=u,u=a)):(f=u,u=a)):(f=u,u=a)}else f=u,u=a}return Q[B]={nextPos:f,result:u},u}function pe(){var u,d,y,P,$,B=f*49+29,H=Q[B];if(H)return f=H.nextPos,H.result;for(u=f,d=[],y=Te();y!==i;)d.push(y),y=Te();if(d!==i)if(y=R(),y!==i){for(P=[],$=Te();$!==i;)P.push($),$=Te();P!==i?(ce=u,d=Bi(y),u=d):(f=u,u=a)}else f=u,u=a;else f=u,u=a;return Q[B]={nextPos:f,result:u},u}function $e(){var u,d,y,P,$,B,H,se=f*49+30,Se=Q[se];if(Se)return f=Se.nextPos,Se.result;for(u=f,d=[],y=Te();y!==i;)d.push(y),y=Te();if(d!==i)if(y=R(),y!==i){for(P=[],$=Te();$!==i;)P.push($),$=Te();if(P!==i)if(r.charCodeAt(f)===44?($=si,f++):($=i,V===0&&X(Dr)),$!==i){for(B=[],H=Te();H!==i;)B.push(H),H=Te();B!==i?(ce=u,d=Bi(y),u=d):(f=u,u=a)}else f=u,u=a;else f=u,u=a}else f=u,u=a;else f=u,u=a;return Q[se]={nextPos:f,result:u},u}function Te(){var u,d=f*49+31,y=Q[d];return y?(f=y.nextPos,y.result):(u=fe(),u===i&&(u=zn(),u===i&&(u=Yn())),Q[d]={nextPos:f,result:u},u)}function Ze(){var u,d,y,P,$,B,H=f*49+32,se=Q[H];if(se)return f=se.nextPos,se.result;if(u=f,r.charCodeAt(f)===123?(d=Ui,f++):(d=i,V===0&&X(Io)),d!==i){for(y=[],P=fe();P!==i;)y.push(P),P=fe();if(y!==i){for(P=[],$=qe();$!==i;)P.push($),$=qe();if(P!==i){for($=[],B=fe();B!==i;)$.push(B),B=fe();$!==i?(r.charCodeAt(f)===125?(B=Hi,f++):(B=i,V===0&&X($o)),B!==i?(ce=u,d=zr(P),u=d):(f=u,u=a)):(f=u,u=a)}else f=u,u=a}else f=u,u=a}else f=u,u=a;return Q[H]={nextPos:f,result:u},u}function qe(){var u,d,y,P,$,B,H,se,Se,Qe,Ve,ut=f*49+33,_t=Q[ut];if(_t)return f=_t.nextPos,_t.result;for(u=f,d=[],y=fe();y!==i;)d.push(y),y=fe();if(d!==i)if(y=Cr(),y!==i){for(P=[],$=fe();$!==i;)P.push($),$=fe();if(P!==i)if(r.charCodeAt(f)===61?($=L,f++):($=i,V===0&&X(j)),$!==i){for(B=[],H=fe();H!==i;)B.push(H),H=fe();if(B!==i)if(H=R(),H!==i){for(se=[],Se=fe();Se!==i;)se.push(Se),Se=fe();if(se!==i)if(r.charCodeAt(f)===44?(Se=si,f++):(Se=i,V===0&&X(Dr)),Se!==i){for(Qe=[],Ve=fe();Ve!==i;)Qe.push(Ve),Ve=fe();Qe!==i?(ce=u,d=Wi(y,H),u=d):(f=u,u=a)}else f=u,u=a;else f=u,u=a}else f=u,u=a;else f=u,u=a}else f=u,u=a;else f=u,u=a}else f=u,u=a;else f=u,u=a;if(u===i){for(u=f,d=[],y=fe();y!==i;)d.push(y),y=fe();if(d!==i)if(y=Cr(),y!==i){for(P=[],$=fe();$!==i;)P.push($),$=fe();if(P!==i)if(r.charCodeAt(f)===61?($=L,f++):($=i,V===0&&X(j)),$!==i){for(B=[],H=fe();H!==i;)B.push(H),H=fe();B!==i?(H=R(),H!==i?(ce=u,d=Wi(y,H),u=d):(f=u,u=a)):(f=u,u=a)}else f=u,u=a;else f=u,u=a}else f=u,u=a;else f=u,u=a}return Q[ut]={nextPos:f,result:u},u}function gt(){var u,d,y,P=f*49+34,$=Q[P];return $?(f=$.nextPos,$.result):(u=f,r.charCodeAt(f)===46?(d=b,f++):(d=i,V===0&&X(T)),d!==i?(y=Bs(),y!==i?(ce=u,d=Ro(y),u=d):(f=u,u=a)):(f=u,u=a),Q[P]={nextPos:f,result:u},u)}function Ft(){var u,d,y,P,$,B,H,se,Se,Qe,Ve,ut,_t=f*49+35,_n=Q[_t];return _n?(f=_n.nextPos,_n.result):(u=f,d=f,y=Ke(),y!==i?(P=Ke(),P!==i?($=Ke(),$!==i?(B=Ke(),B!==i?(r.charCodeAt(f)===45?(H=Nn,f++):(H=i,V===0&&X(mn)),H!==i?(se=Ke(),se!==i?(Se=Ke(),Se!==i?(r.charCodeAt(f)===45?(Qe=Nn,f++):(Qe=i,V===0&&X(mn)),Qe!==i?(Ve=Ke(),Ve!==i?(ut=Ke(),ut!==i?(y=[y,P,$,B,H,se,Se,Qe,Ve,ut],d=y):(f=d,d=a)):(f=d,d=a)):(f=d,d=a)):(f=d,d=a)):(f=d,d=a)):(f=d,d=a)):(f=d,d=a)):(f=d,d=a)):(f=d,d=a)):(f=d,d=a),d!==i&&(ce=u,d=Fs(d)),u=d,Q[_t]={nextPos:f,result:u},u)}function kr(){var u,d,y,P,$,B,H,se,Se,Qe,Ve,ut=f*49+36,_t=Q[ut];return _t?(f=_t.nextPos,_t.result):(u=f,d=f,y=Ke(),y!==i?(P=Ke(),P!==i?(r.charCodeAt(f)===58?($=Gn,f++):($=i,V===0&&X(Fn)),$!==i?(B=Ke(),B!==i?(H=Ke(),H!==i?(r.charCodeAt(f)===58?(se=Gn,f++):(se=i,V===0&&X(Fn)),se!==i?(Se=Ke(),Se!==i?(Qe=Ke(),Qe!==i?(Ve=gt(),Ve===i&&(Ve=xe),Ve!==i?(y=[y,P,$,B,H,se,Se,Qe,Ve],d=y):(f=d,d=a)):(f=d,d=a)):(f=d,d=a)):(f=d,d=a)):(f=d,d=a)):(f=d,d=a)):(f=d,d=a)):(f=d,d=a)):(f=d,d=a),d!==i&&(ce=u,d=gn(d)),u=d,Q[ut]={nextPos:f,result:u},u)}function Lw(){var u,d,y,P,$,B,H,se,Se,Qe,Ve,ut,_t,_n,Uo,mi,xn,Lp=f*49+37,$c=Q[Lp];return $c?(f=$c.nextPos,$c.result):(u=f,d=f,y=Ke(),y!==i?(P=Ke(),P!==i?(r.charCodeAt(f)===58?($=Gn,f++):($=i,V===0&&X(Fn)),$!==i?(B=Ke(),B!==i?(H=Ke(),H!==i?(r.charCodeAt(f)===58?(se=Gn,f++):(se=i,V===0&&X(Fn)),se!==i?(Se=Ke(),Se!==i?(Qe=Ke(),Qe!==i?(Ve=gt(),Ve===i&&(Ve=xe),Ve!==i?(r.charCodeAt(f)===45?(ut=Nn,f++):(ut=i,V===0&&X(mn)),ut===i&&(r.charCodeAt(f)===43?(ut=Rn,f++):(ut=i,V===0&&X(pn))),ut!==i?(_t=Ke(),_t!==i?(_n=Ke(),_n!==i?(r.charCodeAt(f)===58?(Uo=Gn,f++):(Uo=i,V===0&&X(Fn)),Uo!==i?(mi=Ke(),mi!==i?(xn=Ke(),xn!==i?(y=[y,P,$,B,H,se,Se,Qe,Ve,ut,_t,_n,Uo,mi,xn],d=y):(f=d,d=a)):(f=d,d=a)):(f=d,d=a)):(f=d,d=a)):(f=d,d=a)):(f=d,d=a)):(f=d,d=a)):(f=d,d=a)):(f=d,d=a)):(f=d,d=a)):(f=d,d=a)):(f=d,d=a)):(f=d,d=a)):(f=d,d=a)):(f=d,d=a),d!==i&&(ce=u,d=gn(d)),u=d,Q[Lp]={nextPos:f,result:u},u)}function jw(){var u,d,y,P,$,B=f*49+38,H=Q[B];return H?(f=H.nextPos,H.result):(u=f,d=Ft(),d!==i?(r.charCodeAt(f)===84?(y=qi,f++):(y=i,V===0&&X(Ue)),y!==i?(P=kr(),P!==i?(r.charCodeAt(f)===90?($=li,f++):($=i,V===0&&X(Br)),$!==i?(ce=u,d=Vi(d,P),u=d):(f=u,u=a)):(f=u,u=a)):(f=u,u=a)):(f=u,u=a),u===i&&(u=f,d=Ft(),d!==i?(r.charCodeAt(f)===84?(y=qi,f++):(y=i,V===0&&X(Ue)),y!==i?(P=Lw(),P!==i?(ce=u,d=Mo(d,P),u=d):(f=u,u=a)):(f=u,u=a)):(f=u,u=a)),Q[B]={nextPos:f,result:u},u)}function fe(){var u,d=f*49+39,y=Q[d];return y?(f=y.nextPos,y.result):(No.test(r.charAt(f))?(u=r.charAt(f),f++):(u=i,V===0&&X(Ki)),Q[d]={nextPos:f,result:u},u)}function zn(){var u,d,y,P=f*49+40,$=Q[P];return $?(f=$.nextPos,$.result):(r.charCodeAt(f)===10?(u=Nt,f++):(u=i,V===0&&X(pr)),u===i&&(u=f,r.charCodeAt(f)===13?(d=Jn,f++):(d=i,V===0&&X(Qi)),d!==i?(r.charCodeAt(f)===10?(y=Nt,f++):(y=i,V===0&&X(pr)),y!==i?(d=[d,y],u=d):(f=u,u=a)):(f=u,u=a)),Q[P]={nextPos:f,result:u},u)}function Rp(){var u,d=f*49+41,y=Q[d];return y?(f=y.nextPos,y.result):(u=zn(),u===i&&(u=fe()),Q[d]={nextPos:f,result:u},u)}function na(){var u,d,y=f*49+42,P=Q[y];return P?(f=P.nextPos,P.result):(u=f,V++,r.length>f?(d=r.charAt(f),f++):(d=i,V===0&&X(p)),V--,d===i?u=_:(f=u,u=a),Q[y]={nextPos:f,result:u},u)}function Bn(){var u,d=f*49+43,y=Q[d];return y?(f=y.nextPos,y.result):(ai.test(r.charAt(f))?(u=r.charAt(f),f++):(u=i,V===0&&X(Ls)),Q[d]={nextPos:f,result:u},u)}function Ke(){var u,d,y=f*49+44,P=Q[y];return P?(f=P.nextPos,P.result):(js.test(r.charAt(f))?(u=r.charAt(f),f++):(u=i,V===0&&X(Ds)),u===i&&(u=f,r.charCodeAt(f)===95?(d=Fo,f++):(d=i,V===0&&X(ui)),d!==i&&(ce=u,d=pt()),u=d),Q[y]={nextPos:f,result:u},u)}function Mp(){var u,d=f*49+45,y=Q[d];return y?(f=y.nextPos,y.result):(Lo.test(r.charAt(f))?(u=r.charAt(f),f++):(u=i,V===0&&X(wt)),Q[d]={nextPos:f,result:u},u)}function Bs(){var u,d,y,P=f*49+46,$=Q[P];if($)return f=$.nextPos,$.result;if(u=f,d=[],y=Ke(),y!==i)for(;y!==i;)d.push(y),y=Ke();else d=a;return d!==i&&(ce=u,d=Gi(d)),u=d,Q[P]={nextPos:f,result:u},u}function Np(){var u,d,y=f*49+47,P=Q[y];return P?(f=P.nextPos,P.result):(u=f,r.substr(f,2)===rt?(d=rt,f+=2):(d=i,V===0&&X(mr)),d!==i&&(ce=u,d=Ji()),u=d,u===i&&(u=f,r.substr(f,2)===Xi?(d=Xi,f+=2):(d=i,V===0&&X(Yi)),d!==i&&(ce=u,d=jo()),u=d,u===i&&(u=f,r.substr(f,2)===Xn?(d=Xn,f+=2):(d=i,V===0&&X(yn)),d!==i&&(ce=u,d=gr()),u=d,u===i&&(u=f,r.substr(f,2)===ci?(d=ci,f+=2):(d=i,V===0&&X(yr)),d!==i&&(ce=u,d=fi()),u=d,u===i&&(u=f,r.substr(f,2)===vr?(d=vr,f+=2):(d=i,V===0&&X(Zi)),d!==i&&(ce=u,d=wr()),u=d,u===i&&(u=f,r.substr(f,2)===_r?(d=_r,f+=2):(d=i,V===0&&X(Ln)),d!==i&&(ce=u,d=xr()),u=d,u===i&&(u=f,r.substr(f,2)===eo?(d=eo,f+=2):(d=i,V===0&&X(to)),d!==i&&(ce=u,d=jn()),u=d,u===i&&(u=Dw()))))))),Q[y]={nextPos:f,result:u},u)}function Dw(){var u,d,y,P,$,B,H,se,Se,Qe,Ve,ut=f*49+48,_t=Q[ut];return _t?(f=_t.nextPos,_t.result):(u=f,r.substr(f,2)===di?(d=di,f+=2):(d=i,V===0&&X(Do)),d!==i?(y=f,P=Bn(),P!==i?($=Bn(),$!==i?(B=Bn(),B!==i?(H=Bn(),H!==i?(se=Bn(),se!==i?(Se=Bn(),Se!==i?(Qe=Bn(),Qe!==i?(Ve=Bn(),Ve!==i?(P=[P,$,B,H,se,Se,Qe,Ve],y=P):(f=y,y=a)):(f=y,y=a)):(f=y,y=a)):(f=y,y=a)):(f=y,y=a)):(f=y,y=a)):(f=y,y=a)):(f=y,y=a),y!==i?(ce=u,d=Sr(y),u=d):(f=u,u=a)):(f=u,u=a),u===i&&(u=f,r.substr(f,2)===hi?(d=hi,f+=2):(d=i,V===0&&X(Dn)),d!==i?(y=f,P=Bn(),P!==i?($=Bn(),$!==i?(B=Bn(),B!==i?(H=Bn(),H!==i?(P=[P,$,B,H],y=P):(f=y,y=a)):(f=y,y=a)):(f=y,y=a)):(f=y,y=a),y!==i?(ce=u,d=Sr(y),u=d):(f=u,u=a)):(f=u,u=a)),Q[ut]={nextPos:f,result:u},u)}var Fp=[];function zw(u,d,y){var P=new Error(u);throw P.line=d,P.column=y,P}function Ic(u){Fp.push(u)}function Lt(u,d,y,P,$){var B={type:u,value:d,line:y(),column:P()};return $&&(B.key=$),B}function Bw(u,d,y){var P=parseInt("0x"+u);if(!isFinite(P)||Math.floor(P)!=P||P<0||P>1114111||P>55295&&P<57344)zw("Invalid Unicode escape code: "+u,d,y);else return Uw(P)}function Uw(){var u=16384,d=[],y,P,$=-1,B=arguments.length;if(!B)return"";for(var H="";++$<B;){var se=Number(arguments[$]);se<=65535?d.push(se):(se-=65536,y=(se>>10)+55296,P=se%1024+56320,d.push(y,P)),($+1==B||d.length>u)&&(H+=String.fromCharCode.apply(null,d),d.length=0)}return H}if(Wt=l(),Wt!==i&&f===r.length)return Wt;throw Wt!==i&&f<r.length&&X({type:"end",description:"end of input"}),zo(null,no,vn)}return{SyntaxError:t,parse:n}}();function lk(e){var t=[],n=[],r="",o=Object.create(null),i=o;return s(e);function s(w){for(var g,S=0;S<w.length;S++)switch(g=w[S],g.type){case"Assign":c(g);break;case"ObjectPath":_(g);break;case"ArrayPath":p(g);break}return o}function l(w,g,S){var O=new Error(w);throw O.line=g,O.column=S,O}function c(w){var g=w.key,S=w.value,O=w.line,M=w.column,F;r?F=r+"."+g:F=g,typeof i[g]<"u"&&l("Cannot redefine existing key '"+F+"'.",O,M),i[g]=h(S),a(F)||(t.push(F),n.push(F))}function a(w){return t.indexOf(w)!==-1}function h(w){return w.type==="Array"?E(w.value):w.type==="InlineTable"?m(w.value):w.value}function m(w){for(var g=Object.create(null),S=0;S<w.length;S++){var O=w[S];O.value.type==="InlineTable"?g[O.key]=m(O.value.value):O.type==="InlineTableValue"&&(g[O.key]=h(O.value))}return g}function _(w){var g=w.value,S=g.map(A).join("."),O=w.line,M=w.column;a(S)&&l("Cannot redefine existing key '"+g+"'.",O,M),t.push(S),i=x(o,g,Object.create(null),O,M),r=g}function p(w){var g=w.value,S=g.map(A).join("."),O=w.line,M=w.column;if(a(S)||t.push(S),t=t.filter(function(b){return b.indexOf(S)!==0}),t.push(S),i=x(o,g,[],O,M),r=S,i instanceof Array){var F=Object.create(null);i.push(F),i=F}else l("Cannot redefine existing key '"+g+"'.",O,M)}function x(w,g,S,O,M){var F=[],b="";g.join(".");for(var T=w,L=0;L<g.length;L++){var j=g[L];F.push(j),b=F.join("."),typeof T[j]>"u"?L===g.length-1?T[j]=S:T[j]=Object.create(null):L!==g.length-1&&n.indexOf(b)>-1&&l("Cannot redefine existing key '"+b+"'.",O,M),T=T[j],T instanceof Array&&T.length&&L<g.length-1&&(T=T[T.length-1])}return T}function E(w){for(var g=null,S=0;S<w.length;S++){var O=w[S];g===null?g=O.type:O.type!==g&&l("Cannot add value of type "+O.type+" to array of type "+g+".",O.line,O.column)}return w.map(h)}function A(w){return w.indexOf(".")>-1?'"'+w+'"':w}}var ak={compile:lk},uk=sk,ck=ak,fk={parse:function(e){var t=uk.parse(e.toString());return ck.compile(t)}};const dk=Dg(fk),hk=`[continue]
name = "Continue"
description = "Continue writing"
prompt = ''

[summarize-text]
name = "Summarize Text"
description = "Summarize a text document"
prompt = '''
Summarize text:
'''

[three-sentence-summary]
name = "Three Sentence Summary"
description = "Summarize a text document into three sentences"
prompt = '''
Summarize text into three sentences:
'''

[write-introduction]
name = "Write Introduction"
description = "Write an introduction for a text document"
prompt = '''
Write an introduction for the following text:
'''

[write-conclusion]
name = "Write Conclusion"
description = "Write a conclusion for a text document"
prompt = '''
Write a conclusion for the following text:
'''

[create-outline]
name = "Create Outline"
description = "Create an outline from text"
prompt = '''
Create outline from text:
'''

[extract-keywords]
name = "Extract Keywords"
description = "Extract keywords from text"
prompt = '''
Extract keywords from text:
'''

[extract-entities]
name = "Extract Entities"
description = "Extract entities from a text"
prompt = '''
Extract entities from text:
'''

[brainstorm-ideas]
name = "Brainstorm Ideas"
description = "Brainstorm ideas using text"
prompt = '''
Brainstorm ideas using the following text:
'''

[ask-questions]
name = "Ask Questions"
description = "Ask questions from text"
prompt = '''
Ask questions about the following text:
'''

[common-objections]
name = "Common Objections"
description = "Find common objections to your idea"
prompt = '''
Find common objections to the following idea:
'''

[find-contradictions]
name = "Find Contradictions"
description = "Find contradictions in text"
prompt = '''
Find contradictions in the following text:
'''

[define]
name = "Define"
description = "Define a word"
prompt = '''Define a word: '''

[find-synonyms]
name = "Find Synonyms"
description = "Find synonyms for a word"
prompt = '''Find synonyms for a word: '''

[find-antonyms]
name = "Find Antonyms"
description = "Find antonyms for a word"
prompt = '''Find antonyms for a word: '''

[find-related-words]
name = "Find Related Words"
description = "Find related words for a word"
prompt = '''Find related words for a word: '''

[markdown-table]
name = "Markdown Table"
description = "Create a markdown table"
prompt = '''
Create a markdown table using the following text:
'''

[find-quotes]
name = "Find Quotes"
description = "Find quotes in text"
prompt = '''
Find quotes in the following text:

'''
[convert-links-to-markdown]
name = "Convert Links to Markdown"
description = "Convert links to markdown"
prompt = '''
Convert links in the following text to markdown:
'''

[most-important-ideas]
name = "Most Important Ideas"
description = "Find the most important ideas in text"
prompt = '''
Find the most important ideas in the following text:
'''

[write-blog-post]
name = "Write Blog Post"
description = "Write a blog post about topic"
prompt = '''
Write a blog post about the following text:
'''

[write-tweet]
name = "Write Tweet"
description = "Write a tweet in less than 280 characters about the following topic:"
prompt = '''
Write a tweet about:
'''

[fix-grammar]
name = "Fix Grammar"
description = "Fix grammar in text"
prompt = '''
Fix grammar in the following text:
'''

[fix-spelling]
name = "Fix Spelling"
description = "Fix spelling in text"
prompt = '''
Fix spelling in the following text:
'''

[csv-output]
name = "CSV Export"
description = "CSV file for"
prompt = '''
Give me in a CSV format: 
'''


[pros-cons]
name = "Pros and Cons Table"
description = "Pros and Cons Table"
prompt = '''
Give me Pros and Cons in a table for: 
'''

[translate-to-english]
name = "Translate to English"
description = "Translate text to English"
prompt = '''
Translate text to English:
'''

[translate-to-chinese]
name = "Translate to Chinese"
description = "Translate text to Chinese"
prompt = '''
Translate text to Chinese:
'''

[translate-to-spanish]
name = "Translate to Spanish"
description = "Translate text to Spanish"
prompt = '''
Translate text to Spanish:
'''

[translate-to-german]
name = "Translate to German"
description = "Translate text to German"
prompt = '''
Translate text to German:
'''

[translate-to-french]
name = "Translate to French"
description = "Translate text to French"
prompt = '''
Translate text to French:
'''

[translate-to-italian]
name = "Translate to Italian"
description = "Translate text to Italian"
prompt = '''
Translate text to Italian:
'''

[translate-to-japanese]
name = "Translate to Japanese"
description = "Translate text to Japanese"
prompt = '''
Translate text to Japanese:
'''

[translate-to-korean]
name = "Translate to Korean"
description = "Translate text to Korean"
prompt = '''
Translate text to Korean:
'''

[translate-to-portuguese]
name = "Translate to Portuguese"
description = "Translate text to Portuguese"
prompt = '''
Translate text to Portuguese:
'''

[translate-to-russian]
name = "Translate to Russian"
description = "Translate text to Russian"
prompt = '''
Translate text to Russian:
'''

[translate-to-arabic]
name = "Translate to Arabic"
description = "Translate text to Arabic"
prompt = '''
Translate text to Arabic:
'''

[translate-to-hindi]
name = "Translate to Hindi"
description = "Translate text to Hindi"
prompt = '''
Translate text to Hindi:
'''
`;function pk(e){const t=/```prompt\s+([\s\S]+)\s+```/g,n=e.match(t);return n?n[0].replace(t,"$1"):""}async function Pg(){const e=`
[:find (pull ?b [*])
           :where
           [?b :block/properties ?props]
           [(get ?props :prompt-template)]]
`,n=`
[:find (pull ?b [*])
           :where
           [?p :block/properties ?props]
           [(get ?props :prompt-template)]
           [?b :block/parent ?p]
           [?b :block/content ?c]
           [(re-pattern "\`\`\`prompt") ?q]
           [(re-find ?q ?c)]]
`,r=await logseq.DB.datascriptQuery(n),o=new Map;for(const l of r){const c=pk(l[0].content);o.set(l[0].parent.id,c)}const i=await logseq.DB.datascriptQuery(e);let s=new Array;for(const l of i){const c=l[0].properties["prompt-template"],a=o.get(l[0].id);c&&a&&s.push({type:c,name:c,temperature:Number(l[0].properties["prompt-temperature"]),prompt:a})}return s}function mk(e){return Object.entries(e).map(([t,n])=>({type:t,name:n.name,description:n.description,prompt:n.prompt,temperature:n.temperature}))}async function gk(){const e=dk.parse(hk);return mk(e)}const yk=[{key:"openAIKey",type:"string",default:"",title:"OpenAI API Key",description:"Your OpenAI API key. You can get one at https://beta.openai.com"},{key:"openAICompletionEngine",type:"string",default:"gpt-3.5-turbo",title:"OpenAI Completion Engine",description:"See Engines in OpenAI docs."},{key:"chatCompletionEndpoint",type:"string",default:"https://api.openai.com/v1",title:"OpenAI API Completion Endpoint",description:"The endpoint to use for OpenAI API completion requests. You shouldn't need to change this."},{key:"chatPrompt",type:"string",default:"Do not refer to yourself in your answers. Do not say as an AI language model...",title:"OpenAI Chat Prompt",description:"Initial message that tells ChatGPT how to answer. Only used for gpt-3.5. See https://platform.openai.com/docs/guides/chat/introduction for more info."},{key:"openAITemperature",type:"number",default:1,title:"OpenAI Temperature",description:"The temperature controls how much randomness is in the output.<br/>You can set a different temperature in your own prompt templates by adding a 'prompt-template' property to the block."},{key:"openAIMaxTokens",type:"number",default:1e3,title:"OpenAI Max Tokens",description:"The maximum amount of tokens to generate. Tokens can be words or just chunks of characters. The number of tokens processed in a given API request depends on the length of both your inputs and outputs. As a rough rule of thumb, 1 token is approximately 4 characters or 0.75 words for English text. One limitation to keep in mind is that your text prompt and generated completion combined must be no more than the model's maximum context length (for most models this is 2048 tokens, or about 1500 words)."},{key:"injectPrefix",type:"string",default:"",title:"Output prefix",description:"Prepends the output with this string. Such as a tag like [[gpt3]] or markdown like > to blockquote. Add a space at the end if you want a space between the prefix and the output or \\n for a linebreak."},{key:"dalleImageSize",type:"string",default:"1024",title:"DALL-E Image Size",description:"Size of the image to generate. Can be 256, 512, or 1024 for dall-e-2;  Must be one of 1024x1024 , 1792x1024 , or 1024x1792 for dall-e-3 models."},{key:"dalleModel",type:"string",default:"dall-e-3",title:"DALL-E Model",description:"The DALL-E model to use. Can be dall-e-2 or dall-e-3."},{key:"dalleStyle",type:"string",default:"vivid",title:"Style",description:"The style of the generated images. Must be one of vivid or natural. Vivid causes the model to lean towards generating hyper-real and dramatic images. Natural causes the model to produce more natural, less hyper-real looking images."},{key:"dalleQuality",type:"string",default:"standard",title:"Quality",description:"The quality of the image that will be generated. ‘hd’ creates images with finer details and greater consistency across the image. Defaults to ‘standard’."},{key:"shortcutBlock",type:"string",default:"mod+j",title:"Keyboard Shortcut for /gpt-block",description:""},{key:"popupShortcut",type:"string",default:"mod+g",title:"Keyboard Shortcut for /gpt popup",description:""}];function vk(e){return e.replace(/\\n/g,`
`)}function Qr(){const e=logseq.settings.openAIKey,t=logseq.settings.openAICompletionEngine,n=vk(logseq.settings.injectPrefix),r=Number.parseFloat(logseq.settings.openAITemperature),o=Number.parseInt(logseq.settings.openAIMaxTokens),i=logseq.settings.dalleImageSize,s=logseq.settings.dalleModel,l=logseq.settings.dalleStyle,c=logseq.settings.dalleQuality,a=logseq.settings.chatPrompt,h=logseq.settings.chatCompletionEndpoint;return{apiKey:e,completionEngine:t,temperature:r,maxTokens:o,dalleImageSize:i,dalleModel:s,dalleQuality:c,dalleStyle:l,injectPrefix:n,chatPrompt:a,completionEndpoint:h}}function wk(e){return e.uuid!==void 0}async function Qd(e){let t="";const n=e.content.trim();if(n.length>0&&(t+=n),!e.children)return t;for(const r of e.children)if(wk(r))t+=await Qd(r);else{const o=await logseq.Editor.getBlock(r[1],{includeChildren:!0});o&&(t+=await Qd(o))}return t}async function _k(e){let t=[];const n=await logseq.Editor.getBlock(e);if(!n)throw new Error("Block not found");const r=await logseq.Editor.getPage(n.page.id);if(!r)throw new Error("Page not found");const o=await logseq.Editor.getPageBlocksTree(r.name);for(const i of o){const s=await Qd(i);s.length>0&&t.push(s)}return t.join(" ")}async function xk(e){const t=logseq.Assets.makeSandboxStorage(),n=`dalle-${Date.now()}.png`,o=await(await fetch(e)).arrayBuffer();return await t.setItem(n,o),`![](assets/storages/${logseq.baseInfo.id||"logseq-plugin-gpt3-openai"}/${n})`}async function Sk(e){var m;const t=/!\[.*\]\((.*(mp3|mp4|mpeg|mpga|m4a|wav|webm))\)/,n=(m=await logseq.App.getCurrentGraph())==null?void 0:m.path,r=t.exec(e);if(!r||!r[1])return null;const o=r[1].split(".").pop();if(!o)return null;const i=r[1].replace("../",""),s=i.replace("assets/",""),l="file://"+n+"/"+i,a=await(await fetch(l)).blob();return new File([a],s,{type:`audio/${o}`})}function Tc(e){if(!e.response||!e.response.status||!e.response.data||!e.response.data.error){console.error(`Unknown OpenAI error: ${e}`),logseq.App.showMsg("Unknown OpenAI Error","error");return}const t=e.response.status,n=e.response.data.error.code,r=e.response.data.error.message,o=e.response.data.error.type;t===401?(console.error("OpenAI API key is invalid."),logseq.App.showMsg("Invalid OpenAI API Key.","error")):t===429?o==="insufficient_quota"?(console.error("Exceeded OpenAI API quota. Or your trial is over. You can buy more at https://beta.openai.com/account/billing/overview"),logseq.App.showMsg("OpenAI Quota Reached","error")):(console.warn("OpenAI API rate limit exceeded. Try slowing down your requests."),logseq.App.showMsg("OpenAI Rate Limited","warning")):logseq.App.showMsg("OpenAI Plugin Error","error"),console.error(`OpenAI error: ${o} ${n}  ${r}`)}function kp(e){if(!e.apiKey)throw console.error("Need API key set in settings."),logseq.App.showMsg("Need openai API key. Add one in plugin settings.","error"),new Error("Need API key set in settings.");if(e.dalleImageSize!=="256"&&e.dalleImageSize!=="256x256"&&e.dalleImageSize!=="512"&&e.dalleImageSize!=="512x512"&&e.dalleImageSize!=="1024"&&e.dalleImageSize!=="1024x1024"&&e.dalleImageSize!=="1024x1792"&&e.dalleImageSize!=="1792x1024")throw console.error("DALL-E image size must be 256, 512, or 1024."),logseq.App.showMsg("DALL-E image size must be 256, 512, or 1024.","error"),new Error("DALL-E image size must be 256, 512, 1024, 1024x1792, or 179x1024")}async function Ef(e){const t=Qr();kp(t);const n=await logseq.Editor.getBlock(e.uuid);if(!n){console.error("No current block");return}if(n.content.trim().length===0){logseq.App.showMsg("Empty Content","warning"),console.warn("Blank page");return}try{let r="";const o=await logseq.Editor.insertBlock(n.uuid,r,{sibling:!1});if(t.injectPrefix&&r.length==0&&(r=t.injectPrefix+r),await Ph(n.content,t,async i=>{r+=i||"",o!=null&&await logseq.Editor.updateBlock(o.uuid,r)},()=>{}),!r){logseq.App.showMsg("No OpenAI content","warning");return}}catch(r){Tc(r)}}async function Ag(e){const t=Qr();kp(t);const n=await _k(e.uuid),r=await logseq.Editor.getBlock(e.uuid);if(n.length===0){logseq.App.showMsg("Empty Content","warning"),console.warn("Blank page");return}if(!r){console.error("No current block");return}const o=await logseq.Editor.getPage(r.page.id);if(o)try{let i="";const s=await logseq.Editor.appendBlockInPage(o.uuid,i);if(t.injectPrefix&&i.length==0&&(i=t.injectPrefix+i),await Ph(n,t,async l=>{i+=l||"",s!=null&&await logseq.Editor.updateBlock(s.uuid,i)},()=>{}),!i){logseq.App.showMsg("No OpenAI content","warning");return}}catch(i){Tc(i)}}async function Og(e){const t=Qr();kp(t);const n=await logseq.Editor.getBlock(e.uuid);if(!n){console.error("No current block");return}if(n.content.trim().length===0){logseq.App.showMsg("Empty Content","warning"),console.warn("Blank block");return}try{const r=await D_(n.content,t);if(!r){logseq.App.showMsg("No Dalle results.","warning");return}const o=await xk(r);await logseq.Editor.insertBlock(n.uuid,o,{sibling:!1})}catch(r){Tc(r)}}async function Tg(e){const t=await logseq.Editor.getBlock(e.uuid);if(t){const n=await Sk(t.content);if(!n){logseq.App.showMsg("No supported audio file found in block.","warning");return}const r=Qr();try{const o=await j_(n,r);o&&await logseq.Editor.insertBlock(t.uuid,o)}catch(o){Tc(o)}}}function or(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(o){return"'"+o+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ks(e){return!!e&&!!e[On]}function Po(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var o=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===Tk}(e)||Array.isArray(e)||!!e[jg]||!!(!((t=e.constructor)===null||t===void 0)&&t[jg])||Pp(e)||Ap(e))}function Wl(e,t,n){n===void 0&&(n=!1),Rs(e)===0?(n?Object.keys:$p)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,o){return t(o,r,e)})}function Rs(e){var t=e[On];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Pp(e)?2:Ap(e)?3:0}function Gd(e,t){return Rs(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function bk(e,t){return Rs(e)===2?e.get(t):e[t]}function Nw(e,t,n){var r=Rs(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Ek(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Pp(e){return Ak&&e instanceof Map}function Ap(e){return Ok&&e instanceof Set}function ao(e){return e.o||e.t}function Op(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Ik(e);delete t[On];for(var n=$p(t),r=0;r<n.length;r++){var o=n[r],i=t[o];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function ql(e,t){return t===void 0&&(t=!1),Tp(e)||ks(e)||!Po(e)||(Rs(e)>1&&(e.set=e.add=e.clear=e.delete=Ck),Object.freeze(e),t&&Wl(e,function(n,r){return ql(r,!0)},!0)),e}function Ck(){or(2)}function Tp(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function jr(e){var t=$k[e];return t||or(18,e),t}function Ig(){return Vl}function Cf(e,t){t&&(jr("Patches"),e.u=[],e.s=[],e.v=t)}function rc(e){Jd(e),e.p.forEach(kk),e.p=null}function Jd(e){e===Vl&&(Vl=e.l)}function $g(e){return Vl={p:[],l:Vl,h:e,m:!0,_:0}}function kk(e){var t=e[On];t.i===0||t.i===1?t.j():t.g=!0}function kf(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||jr("ES5").S(t,e,r),r?(n[On].P&&(rc(t),or(4)),Po(e)&&(e=ic(t,e),t.l||oc(t,e)),t.u&&jr("Patches").M(n[On].t,e,t.u,t.s)):e=ic(t,n,[]),rc(t),t.u&&t.v(t.u,t.s),e!==Fw?e:void 0}function ic(e,t,n){if(Tp(t))return t;var r=t[On];if(!r)return Wl(t,function(l,c){return Rg(e,r,t,l,c,n)},!0),t;if(r.A!==e)return t;if(!r.P)return oc(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=r.i===4||r.i===5?r.o=Op(r.k):r.o,i=o,s=!1;r.i===3&&(i=new Set(o),o.clear(),s=!0),Wl(i,function(l,c){return Rg(e,r,o,l,c,n,s)}),oc(e,o,!1),n&&e.u&&jr("Patches").N(r,n,e.u,e.s)}return r.o}function Rg(e,t,n,r,o,i,s){if(ks(o)){var l=ic(e,o,i&&t&&t.i!==3&&!Gd(t.R,r)?i.concat(r):void 0);if(Nw(n,r,l),!ks(l))return;e.m=!1}else s&&n.add(o);if(Po(o)&&!Tp(o)){if(!e.h.D&&e._<1)return;ic(e,o),t&&t.A.l||oc(e,o)}}function oc(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&ql(t,n)}function Pf(e,t){var n=e[On];return(n?ao(n):e)[t]}function Mg(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Xd(e){e.P||(e.P=!0,e.l&&Xd(e.l))}function Af(e){e.o||(e.o=Op(e.t))}function Yd(e,t,n){var r=Pp(t)?jr("MapSet").F(t,n):Ap(t)?jr("MapSet").T(t,n):e.O?function(o,i){var s=Array.isArray(o),l={i:s?1:0,A:i?i.A:Ig(),P:!1,I:!1,R:{},l:i,t:o,k:null,o:null,j:null,C:!1},c=l,a=Zd;s&&(c=[l],a=ul);var h=Proxy.revocable(c,a),m=h.revoke,_=h.proxy;return l.k=_,l.j=m,_}(t,n):jr("ES5").J(t,n);return(n?n.A:Ig()).p.push(r),r}function Pk(e){return ks(e)||or(22,e),function t(n){if(!Po(n))return n;var r,o=n[On],i=Rs(n);if(o){if(!o.P&&(o.i<4||!jr("ES5").K(o)))return o.t;o.I=!0,r=Ng(n,i),o.I=!1}else r=Ng(n,i);return Wl(r,function(s,l){o&&bk(o.t,s)===l||Nw(r,s,t(l))}),i===3?new Set(r):r}(e)}function Ng(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Op(e)}var Fg,Vl,Ip=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Ak=typeof Map<"u",Ok=typeof Set<"u",Lg=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Fw=Ip?Symbol.for("immer-nothing"):((Fg={})["immer-nothing"]=!0,Fg),jg=Ip?Symbol.for("immer-draftable"):"__$immer_draftable",On=Ip?Symbol.for("immer-state"):"__$immer_state",Tk=""+Object.prototype.constructor,$p=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Ik=Object.getOwnPropertyDescriptors||function(e){var t={};return $p(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},$k={},Zd={get:function(e,t){if(t===On)return e;var n=ao(e);if(!Gd(n,t))return function(o,i,s){var l,c=Mg(i,s);return c?"value"in c?c.value:(l=c.get)===null||l===void 0?void 0:l.call(o.k):void 0}(e,n,t);var r=n[t];return e.I||!Po(r)?r:r===Pf(e.t,t)?(Af(e),e.o[t]=Yd(e.A.h,r,e)):r},has:function(e,t){return t in ao(e)},ownKeys:function(e){return Reflect.ownKeys(ao(e))},set:function(e,t,n){var r=Mg(ao(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=Pf(ao(e),t),i=o==null?void 0:o[On];if(i&&i.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(Ek(n,o)&&(n!==void 0||Gd(e.t,t)))return!0;Af(e),Xd(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return Pf(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,Af(e),Xd(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=ao(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){or(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){or(12)}},ul={};Wl(Zd,function(e,t){ul[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),ul.deleteProperty=function(e,t){return ul.set.call(this,e,t,void 0)},ul.set=function(e,t,n){return Zd.set.call(this,e[0],t,n,e[0])};var Rk=function(){function e(n){var r=this;this.O=Lg,this.D=!0,this.produce=function(o,i,s){if(typeof o=="function"&&typeof i!="function"){var l=i;i=o;var c=r;return function(E){var A=this;E===void 0&&(E=l);for(var w=arguments.length,g=Array(w>1?w-1:0),S=1;S<w;S++)g[S-1]=arguments[S];return c.produce(E,function(O){var M;return(M=i).call.apply(M,[A,O].concat(g))})}}var a;if(typeof i!="function"&&or(6),s!==void 0&&typeof s!="function"&&or(7),Po(o)){var h=$g(r),m=Yd(r,o,void 0),_=!0;try{a=i(m),_=!1}finally{_?rc(h):Jd(h)}return typeof Promise<"u"&&a instanceof Promise?a.then(function(E){return Cf(h,s),kf(E,h)},function(E){throw rc(h),E}):(Cf(h,s),kf(a,h))}if(!o||typeof o!="object"){if((a=i(o))===void 0&&(a=o),a===Fw&&(a=void 0),r.D&&ql(a,!0),s){var p=[],x=[];jr("Patches").M(o,a,p,x),s(p,x)}return a}or(21,o)},this.produceWithPatches=function(o,i){if(typeof o=="function")return function(a){for(var h=arguments.length,m=Array(h>1?h-1:0),_=1;_<h;_++)m[_-1]=arguments[_];return r.produceWithPatches(a,function(p){return o.apply(void 0,[p].concat(m))})};var s,l,c=r.produce(o,i,function(a,h){s=a,l=h});return typeof Promise<"u"&&c instanceof Promise?c.then(function(a){return[a,s,l]}):[c,s,l]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Po(n)||or(8),ks(n)&&(n=Pk(n));var r=$g(this),o=Yd(this,n,void 0);return o[On].C=!0,Jd(r),o},t.finishDraft=function(n,r){var o=n&&n[On],i=o.A;return Cf(i,r),kf(void 0,i)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!Lg&&or(20),this.O=n},t.applyPatches=function(n,r){var o;for(o=r.length-1;o>=0;o--){var i=r[o];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}o>-1&&(r=r.slice(o+1));var s=jr("Patches").$;return ks(n)?s(n,r):this.produce(n,function(l){return s(l,r)})},e}(),Tn=new Rk,Mk=Tn.produce;Tn.produceWithPatches.bind(Tn);Tn.setAutoFreeze.bind(Tn);Tn.setUseProxies.bind(Tn);Tn.applyPatches.bind(Tn);Tn.createDraft.bind(Tn);Tn.finishDraft.bind(Tn);const Nk=Mk;function Fk(e){var t=U.useState(function(){return ql(typeof e=="function"?e():e,!0)}),n=t[1];return[t[0],U.useCallback(function(r){n(typeof r=="function"?Nk(r):ql(r))},[])]}logseq.useSettingsSchema(yk);async function Lk(){Hf.createRoot(document.getElementById("app")).render(Me(Ie.StrictMode,{children:Me(Dk,{})}));function t(){return{show(){logseq.showMainUI({autoFocus:!0})}}}logseq.provideModel(t()),logseq.setMainUIInlineStyle({zIndex:11})}logseq.ready(Lk).catch(console.error);const jk={selection:{type:"noBlockSelected"}},Dk=()=>{const[e,t]=U.useState([]),[n,r]=U.useState([]),[o,i]=Fk(jk),s=async()=>{const _=await Pg();r(_),logseq.showMainUI({autoFocus:!0}),setTimeout(()=>{var p;(p=document.getElementById("logseq-openai-search"))==null||p.focus()},100)};Ie.useEffect(()=>{(async()=>{const p=await gk();t(p)})()},[]),Ie.useEffect(()=>{(async()=>{const p=await Pg();r(p)})()},[]),Ie.useEffect(()=>{logseq.settings.popupShortcut&&logseq.App.registerCommandShortcut({binding:logseq.settings.popupShortcut},async()=>{const _=await logseq.Editor.getEditingCursorPosition(),p=await logseq.Editor.getCurrentBlock(),x=await logseq.Editor.getCurrentPage(),E=await logseq.Editor.getSelectedBlocks();if(E&&E.length>0)i(A=>{A.selection={type:"multipleBlocksSelected",blocks:E}});else if(!_&&!x){logseq.App.showMsg("Put cursor in block or navigate to specific page to use keyboard shortcut","warning");return}else i(_&&p?A=>{A.selection={type:"singleBlockSelected",block:p}}:A=>{A.selection={type:"noBlockSelected"}});s()})},[]),Ie.useEffect(()=>{logseq.Editor.registerBlockContextMenuItem("gpt",async _=>{const p=await logseq.Editor.getBlock(_.uuid);p&&(i(x=>{x.selection={type:"singleBlockSelected",block:p}}),s())}),logseq.Editor.registerSlashCommand("gpt",async _=>{const p=await logseq.Editor.getBlock(_.uuid);p&&(i(x=>{x.selection={type:"singleBlockSelected",block:p}}),s())}),logseq.Editor.registerSlashCommand("gpt-page",Ag),logseq.Editor.registerBlockContextMenuItem("gpt-page",Ag),logseq.Editor.registerSlashCommand("gpt-block",Ef),logseq.Editor.registerBlockContextMenuItem("gpt-block",Ef),logseq.Editor.registerSlashCommand("dalle",Og),logseq.Editor.registerBlockContextMenuItem("dalle",Og),logseq.Editor.registerSlashCommand("whisper",Tg),logseq.Editor.registerBlockContextMenuItem("whisper",Tg),logseq.settings.shortcutBlock&&logseq.App.registerCommandShortcut({binding:logseq.settings.shortcutBlock},Ef)},[]);const l=[...e,...n];return Me(ok,{commands:l,handleCommand:async(_,p)=>{let x;o.selection.type==="singleBlockSelected"?x=o.selection.block.content:o.selection.type==="multipleBlocksSelected"?x=o.selection.blocks.map(w=>w.content).join(`
`):x="";const E=Qr();_.temperature!=null&&!Number.isNaN(_.temperature)&&(E.temperature=_.temperature);const A=await Ph(_.prompt+x,E,p,()=>{});if(A)return A;throw new Error("No OpenAI results.")},onClose:()=>{logseq.hideMainUI({restoreEditingCursor:!0})},onInsert:async _=>{let p=_;if(Qr().injectPrefix&&(p=Qr().injectPrefix+p),o.selection.type==="singleBlockSelected")o.selection.block.content.length>0?logseq.Editor.insertBlock(o.selection.block.uuid,p,{sibling:!1}):logseq.Editor.updateBlock(o.selection.block.uuid,p);else if(o.selection.type==="multipleBlocksSelected"){const x=o.selection.blocks[o.selection.blocks.length-1];logseq.Editor.insertBlock(x.uuid,p,{sibling:!0})}else if(o.selection.type==="noBlockSelected"){const x=await logseq.Editor.getCurrentPage();x&&logseq.Editor.appendBlockInPage(x.uuid,p)}else console.error("Unknown selection type");logseq.hideMainUI({restoreEditingCursor:!0})},onReplace:async _=>{let p=_;if(Qr().injectPrefix&&(p=Qr().injectPrefix+p),o.selection.type==="singleBlockSelected")logseq.Editor.updateBlock(o.selection.block.uuid,p);else if(o.selection.type==="multipleBlocksSelected"){const x=o.selection.blocks[0];if(logseq.Editor.updateBlock(x.uuid,p),o.selection.blocks.length>1){const A=o.selection.blocks.slice(1).map(w=>logseq.Editor.removeBlock(w.uuid));await Promise.all(A)}}else if(o.selection.type==="noBlockSelected"){const x=await logseq.Editor.getCurrentPage();x&&logseq.Editor.appendBlockInPage(x.uuid,p)}else console.error("Unknown selection type");logseq.hideMainUI({restoreEditingCursor:!0})}})};
