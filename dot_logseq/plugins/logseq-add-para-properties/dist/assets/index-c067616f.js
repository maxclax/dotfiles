(function(){const fe=document.createElement("link").relList;if(fe&&fe.supports&&fe.supports("modulepreload"))return;for(const J of document.querySelectorAll('link[rel="modulepreload"]'))Xe(J);new MutationObserver(J=>{for(const we of J)if(we.type==="childList")for(const U of we.addedNodes)U.tagName==="LINK"&&U.rel==="modulepreload"&&Xe(U)}).observe(document,{childList:!0,subtree:!0});function Ne(J){const we={};return J.integrity&&(we.integrity=J.integrity),J.referrerPolicy&&(we.referrerPolicy=J.referrerPolicy),J.crossOrigin==="use-credentials"?we.credentials="include":J.crossOrigin==="anonymous"?we.credentials="omit":we.credentials="same-origin",we}function Xe(J){if(J.ep)return;J.ep=!0;const we=Ne(J);fetch(J.href,we)}})();var Tn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},In={exports:{}};/*! For license information please see lsplugin.user.js.LICENSE.txt */In.exports;(function(X,fe){(function(Ne,Xe){X.exports=Xe()})(self,()=>(()=>{var Ne={227:(U,d,k)=>{var I=k(155);d.formatArgs=function(M){if(M[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+M[0]+(this.useColors?"%c ":" ")+"+"+U.exports.humanize(this.diff),!this.useColors)return;const Q="color: "+this.color;M.splice(1,0,Q,"color: inherit");let v=0,f=0;M[0].replace(/%[a-zA-Z%]/g,y=>{y!=="%%"&&(v++,y==="%c"&&(f=v))}),M.splice(f,0,Q)},d.save=function(M){try{M?d.storage.setItem("debug",M):d.storage.removeItem("debug")}catch{}},d.load=function(){let M;try{M=d.storage.getItem("debug")}catch{}return!M&&I!==void 0&&"env"in I&&(M=I.env.DEBUG),M},d.useColors=function(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},d.storage=function(){try{return localStorage}catch{}}(),d.destroy=(()=>{let M=!1;return()=>{M||(M=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),d.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],d.log=console.debug||console.log||(()=>{}),U.exports=k(447)(d);const{formatters:O}=U.exports;O.j=function(M){try{return JSON.stringify(M)}catch(Q){return"[UnexpectedJSONParseError]: "+Q.message}}},447:(U,d,k)=>{U.exports=function(I){function O(v){let f,y,b,R=null;function P(...D){if(!P.enabled)return;const H=P,E=Number(new Date),N=E-(f||E);H.diff=N,H.prev=f,H.curr=E,f=E,D[0]=O.coerce(D[0]),typeof D[0]!="string"&&D.unshift("%O");let a=0;D[0]=D[0].replace(/%([a-zA-Z%])/g,(c,g)=>{if(c==="%%")return"%";a++;const C=O.formatters[g];if(typeof C=="function"){const B=D[a];c=C.call(H,B),D.splice(a,1),a--}return c}),O.formatArgs.call(H,D),(H.log||O.log).apply(H,D)}return P.namespace=v,P.useColors=O.useColors(),P.color=O.selectColor(v),P.extend=M,P.destroy=O.destroy,Object.defineProperty(P,"enabled",{enumerable:!0,configurable:!1,get:()=>R!==null?R:(y!==O.namespaces&&(y=O.namespaces,b=O.enabled(v)),b),set:D=>{R=D}}),typeof O.init=="function"&&O.init(P),P}function M(v,f){const y=O(this.namespace+(f===void 0?":":f)+v);return y.log=this.log,y}function Q(v){return v.toString().substring(2,v.toString().length-2).replace(/\.\*\?$/,"*")}return O.debug=O,O.default=O,O.coerce=function(v){return v instanceof Error?v.stack||v.message:v},O.disable=function(){const v=[...O.names.map(Q),...O.skips.map(Q).map(f=>"-"+f)].join(",");return O.enable(""),v},O.enable=function(v){let f;O.save(v),O.namespaces=v,O.names=[],O.skips=[];const y=(typeof v=="string"?v:"").split(/[\s,]+/),b=y.length;for(f=0;f<b;f++)y[f]&&((v=y[f].replace(/\*/g,".*?"))[0]==="-"?O.skips.push(new RegExp("^"+v.slice(1)+"$")):O.names.push(new RegExp("^"+v+"$")))},O.enabled=function(v){if(v[v.length-1]==="*")return!0;let f,y;for(f=0,y=O.skips.length;f<y;f++)if(O.skips[f].test(v))return!1;for(f=0,y=O.names.length;f<y;f++)if(O.names[f].test(v))return!0;return!1},O.humanize=k(824),O.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(I).forEach(v=>{O[v]=I[v]}),O.names=[],O.skips=[],O.formatters={},O.selectColor=function(v){let f=0;for(let y=0;y<v.length;y++)f=(f<<5)-f+v.charCodeAt(y),f|=0;return O.colors[Math.abs(f)%O.colors.length]},O.enable(O.load()),O}},856:function(U){U.exports=function(){function d(w){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},d(w)}function k(w,S){return k=Object.setPrototypeOf||function(z,Y){return z.__proto__=Y,z},k(w,S)}function I(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function O(w,S,z){return O=I()?Reflect.construct:function(Y,oe,Pe){var Je=[null];Je.push.apply(Je,oe);var Me=new(Function.bind.apply(Y,Je));return Pe&&k(Me,Pe.prototype),Me},O.apply(null,arguments)}function M(w){return Q(w)||v(w)||f(w)||b()}function Q(w){if(Array.isArray(w))return y(w)}function v(w){if(typeof Symbol<"u"&&w[Symbol.iterator]!=null||w["@@iterator"]!=null)return Array.from(w)}function f(w,S){if(w){if(typeof w=="string")return y(w,S);var z=Object.prototype.toString.call(w).slice(8,-1);return z==="Object"&&w.constructor&&(z=w.constructor.name),z==="Map"||z==="Set"?Array.from(w):z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z)?y(w,S):void 0}}function y(w,S){(S==null||S>w.length)&&(S=w.length);for(var z=0,Y=new Array(S);z<S;z++)Y[z]=w[z];return Y}function b(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R=Object.hasOwnProperty,P=Object.setPrototypeOf,D=Object.isFrozen,H=Object.getPrototypeOf,E=Object.getOwnPropertyDescriptor,N=Object.freeze,a=Object.seal,c=Object.create,g=typeof Reflect<"u"&&Reflect,C=g.apply,B=g.construct;C||(C=function(w,S,z){return w.apply(S,z)}),N||(N=function(w){return w}),a||(a=function(w){return w}),B||(B=function(w,S){return O(w,M(S))});var V=ee(Array.prototype.forEach),re=ee(Array.prototype.pop),de=ee(Array.prototype.push),be=ee(String.prototype.toLowerCase),_e=ee(String.prototype.match),le=ee(String.prototype.replace),Te=ee(String.prototype.indexOf),p=ee(String.prototype.trim),m=ee(RegExp.prototype.test),L=xe(TypeError);function ee(w){return function(S){for(var z=arguments.length,Y=new Array(z>1?z-1:0),oe=1;oe<z;oe++)Y[oe-1]=arguments[oe];return C(w,S,Y)}}function xe(w){return function(){for(var S=arguments.length,z=new Array(S),Y=0;Y<S;Y++)z[Y]=arguments[Y];return B(w,z)}}function F(w,S){P&&P(w,null);for(var z=S.length;z--;){var Y=S[z];if(typeof Y=="string"){var oe=be(Y);oe!==Y&&(D(S)||(S[z]=oe),Y=oe)}w[Y]=!0}return w}function G(w){var S,z=c(null);for(S in w)C(R,w,[S])&&(z[S]=w[S]);return z}function ae(w,S){for(;w!==null;){var z=E(w,S);if(z){if(z.get)return ee(z.get);if(typeof z.value=="function")return ee(z.value)}w=H(w)}function Y(oe){return console.warn("fallback value for",oe),null}return Y}var Se=N(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ce=N(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),$e=N(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),et=N(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ue=N(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),se=N(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Oe=N(["#text"]),ke=N(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Ee=N(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ie=N(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Le=N(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Pt=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),wt=a(/<%[\w\W]*|[\w\W]*%>/gm),Pn=a(/^data-[\-\w.\u00B7-\uFFFF]/),Mn=a(/^aria-[\-\w]+$/),Nn=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ln=a(/^(?:\w+script|data):/i),tt=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),an=a(/^html$/i),Fn=function(){return typeof window>"u"?null:window},Rn=function(w,S){if(d(w)!=="object"||typeof w.createPolicy!="function")return null;var z=null,Y="data-tt-policy-suffix";S.currentScript&&S.currentScript.hasAttribute(Y)&&(z=S.currentScript.getAttribute(Y));var oe="dompurify"+(z?"#"+z:"");try{return w.createPolicy(oe,{createHTML:function(Pe){return Pe}})}catch{return console.warn("TrustedTypes policy "+oe+" could not be created."),null}};function lt(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Fn(),S=function(o){return lt(o)};if(S.version="2.3.8",S.removed=[],!w||!w.document||w.document.nodeType!==9)return S.isSupported=!1,S;var z=w.document,Y=w.document,oe=w.DocumentFragment,Pe=w.HTMLTemplateElement,Je=w.Node,Me=w.Element,Ye=w.NodeFilter,ut=w.NamedNodeMap,xt=ut===void 0?w.NamedNodeMap||w.MozNamedAttrMap:ut,Mt=w.HTMLFormElement,sn=w.DOMParser,cn=w.trustedTypes,pt=Me.prototype,ln=ae(pt,"cloneNode"),un=ae(pt,"nextSibling"),Dn=ae(pt,"childNodes"),nt=ae(pt,"parentNode");if(typeof Pe=="function"){var Nt=Y.createElement("template");Nt.content&&Nt.content.ownerDocument&&(Y=Nt.content.ownerDocument)}var ze=Rn(cn,z),pn=ze?ze.createHTML(""):"",ft=Y,Lt=ft.implementation,fn=ft.createNodeIterator,dn=ft.createDocumentFragment,Un=ft.getElementsByTagName,Ft=z.importNode,hn={};try{hn=G(Y).documentMode?Y.documentMode:{}}catch{}var me={};S.isSupported=typeof nt=="function"&&Lt&&Lt.createHTMLDocument!==void 0&&hn!==9;var rt,qe,Rt=Pt,Dt=wt,Ct=Pn,je=Mn,Ut=Ln,dt=tt,$t=Nn,he=null,zt=F({},[].concat(M(Se),M(Ce),M($e),M(ue),M(Oe))),ge=null,qt=F({},[].concat(M(ke),M(Ee),M(Ie),M(Le))),ie=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ht=null,Ht=null,Bt=!0,Gt=!0,gn=!1,ot=!1,K=!1,Wt=!1,Jt=!1,Ze=!1,He=!1,it=!1,Yt=!0,Ot=!0,Qe=!1,Be={},at=null,mn=F({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),vn=null,yn=F({},["audio","video","img","source","image","track"]),Zt=null,kt=F({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Qt="http://www.w3.org/1998/Math/MathML",St="http://www.w3.org/2000/svg",Ge="http://www.w3.org/1999/xhtml",At=Ge,bn=!1,_n=["application/xhtml+xml","text/html"],$n="text/html",st=null,zn=Y.createElement("form"),Et=function(o){return o instanceof RegExp||o instanceof Function},Vt=function(o){st&&st===o||(o&&d(o)==="object"||(o={}),o=G(o),he="ALLOWED_TAGS"in o?F({},o.ALLOWED_TAGS):zt,ge="ALLOWED_ATTR"in o?F({},o.ALLOWED_ATTR):qt,Zt="ADD_URI_SAFE_ATTR"in o?F(G(kt),o.ADD_URI_SAFE_ATTR):kt,vn="ADD_DATA_URI_TAGS"in o?F(G(yn),o.ADD_DATA_URI_TAGS):yn,at="FORBID_CONTENTS"in o?F({},o.FORBID_CONTENTS):mn,ht="FORBID_TAGS"in o?F({},o.FORBID_TAGS):{},Ht="FORBID_ATTR"in o?F({},o.FORBID_ATTR):{},Be="USE_PROFILES"in o&&o.USE_PROFILES,Bt=o.ALLOW_ARIA_ATTR!==!1,Gt=o.ALLOW_DATA_ATTR!==!1,gn=o.ALLOW_UNKNOWN_PROTOCOLS||!1,ot=o.SAFE_FOR_TEMPLATES||!1,K=o.WHOLE_DOCUMENT||!1,Ze=o.RETURN_DOM||!1,He=o.RETURN_DOM_FRAGMENT||!1,it=o.RETURN_TRUSTED_TYPE||!1,Jt=o.FORCE_BODY||!1,Yt=o.SANITIZE_DOM!==!1,Ot=o.KEEP_CONTENT!==!1,Qe=o.IN_PLACE||!1,$t=o.ALLOWED_URI_REGEXP||$t,At=o.NAMESPACE||Ge,o.CUSTOM_ELEMENT_HANDLING&&Et(o.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ie.tagNameCheck=o.CUSTOM_ELEMENT_HANDLING.tagNameCheck),o.CUSTOM_ELEMENT_HANDLING&&Et(o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ie.attributeNameCheck=o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),o.CUSTOM_ELEMENT_HANDLING&&typeof o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ie.allowCustomizedBuiltInElements=o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),rt=rt=_n.indexOf(o.PARSER_MEDIA_TYPE)===-1?$n:o.PARSER_MEDIA_TYPE,qe=rt==="application/xhtml+xml"?function(x){return x}:be,ot&&(Gt=!1),He&&(Ze=!0),Be&&(he=F({},M(Oe)),ge=[],Be.html===!0&&(F(he,Se),F(ge,ke)),Be.svg===!0&&(F(he,Ce),F(ge,Ee),F(ge,Le)),Be.svgFilters===!0&&(F(he,$e),F(ge,Ee),F(ge,Le)),Be.mathMl===!0&&(F(he,ue),F(ge,Ie),F(ge,Le))),o.ADD_TAGS&&(he===zt&&(he=G(he)),F(he,o.ADD_TAGS)),o.ADD_ATTR&&(ge===qt&&(ge=G(ge)),F(ge,o.ADD_ATTR)),o.ADD_URI_SAFE_ATTR&&F(Zt,o.ADD_URI_SAFE_ATTR),o.FORBID_CONTENTS&&(at===mn&&(at=G(at)),F(at,o.FORBID_CONTENTS)),Ot&&(he["#text"]=!0),K&&F(he,["html","head","body"]),he.table&&(F(he,["tbody"]),delete ht.tbody),N&&N(o),st=o)},Kt=F({},["mi","mo","mn","ms","mtext"]),wn=F({},["foreignobject","desc","title","annotation-xml"]),qn=F({},["title","style","font","a","script"]),jt=F({},Ce);F(jt,$e),F(jt,et);var Xt=F({},ue);F(Xt,se);var Hn=function(o){var x=nt(o);x&&x.tagName||(x={namespaceURI:Ge,tagName:"template"});var _=be(o.tagName),te=be(x.tagName);return o.namespaceURI===St?x.namespaceURI===Ge?_==="svg":x.namespaceURI===Qt?_==="svg"&&(te==="annotation-xml"||Kt[te]):!!jt[_]:o.namespaceURI===Qt?x.namespaceURI===Ge?_==="math":x.namespaceURI===St?_==="math"&&wn[te]:!!Xt[_]:o.namespaceURI===Ge&&!(x.namespaceURI===St&&!wn[te])&&!(x.namespaceURI===Qt&&!Kt[te])&&!Xt[_]&&(qn[_]||!jt[_])},Fe=function(o){de(S.removed,{element:o});try{o.parentNode.removeChild(o)}catch{try{o.outerHTML=pn}catch{o.remove()}}},xn=function(o,x){try{de(S.removed,{attribute:x.getAttributeNode(o),from:x})}catch{de(S.removed,{attribute:null,from:x})}if(x.removeAttribute(o),o==="is"&&!ge[o])if(Ze||He)try{Fe(x)}catch{}else try{x.setAttribute(o,"")}catch{}},Cn=function(o){var x,_;if(Jt)o="<remove></remove>"+o;else{var te=_e(o,/^[\r\n\t ]+/);_=te&&te[0]}rt==="application/xhtml+xml"&&(o='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+o+"</body></html>");var ce=ze?ze.createHTML(o):o;if(At===Ge)try{x=new sn().parseFromString(ce,rt)}catch{}if(!x||!x.documentElement){x=Lt.createDocument(At,"template",null);try{x.documentElement.innerHTML=bn?"":ce}catch{}}var ve=x.body||x.documentElement;return o&&_&&ve.insertBefore(Y.createTextNode(_),ve.childNodes[0]||null),At===Ge?Un.call(x,K?"html":"body")[0]:K?x.documentElement:ve},gt=function(o){return fn.call(o.ownerDocument||o,o,Ye.SHOW_ELEMENT|Ye.SHOW_COMMENT|Ye.SHOW_TEXT,null,!1)},Bn=function(o){return o instanceof Mt&&(typeof o.nodeName!="string"||typeof o.textContent!="string"||typeof o.removeChild!="function"||!(o.attributes instanceof xt)||typeof o.removeAttribute!="function"||typeof o.setAttribute!="function"||typeof o.namespaceURI!="string"||typeof o.insertBefore!="function")},mt=function(o){return d(Je)==="object"?o instanceof Je:o&&d(o)==="object"&&typeof o.nodeType=="number"&&typeof o.nodeName=="string"},Re=function(o,x,_){me[o]&&V(me[o],function(te){te.call(S,x,_,st)})},en=function(o){var x;if(Re("beforeSanitizeElements",o,null),Bn(o)||m(/[\u0080-\uFFFF]/,o.nodeName))return Fe(o),!0;var _=qe(o.nodeName);if(Re("uponSanitizeElement",o,{tagName:_,allowedTags:he}),o.hasChildNodes()&&!mt(o.firstElementChild)&&(!mt(o.content)||!mt(o.content.firstElementChild))&&m(/<[/\w]/g,o.innerHTML)&&m(/<[/\w]/g,o.textContent)||_==="select"&&m(/<template/i,o.innerHTML))return Fe(o),!0;if(!he[_]||ht[_]){if(!ht[_]&&tn(_)&&(ie.tagNameCheck instanceof RegExp&&m(ie.tagNameCheck,_)||ie.tagNameCheck instanceof Function&&ie.tagNameCheck(_)))return!1;if(Ot&&!at[_]){var te=nt(o)||o.parentNode,ce=Dn(o)||o.childNodes;if(ce&&te)for(var ve=ce.length-1;ve>=0;--ve)te.insertBefore(ln(ce[ve],!0),un(o))}return Fe(o),!0}return o instanceof Me&&!Hn(o)?(Fe(o),!0):_!=="noscript"&&_!=="noembed"||!m(/<\/no(script|embed)/i,o.innerHTML)?(ot&&o.nodeType===3&&(x=o.textContent,x=le(x,Rt," "),x=le(x,Dt," "),o.textContent!==x&&(de(S.removed,{element:o.cloneNode()}),o.textContent=x)),Re("afterSanitizeElements",o,null),!1):(Fe(o),!0)},On=function(o,x,_){if(Yt&&(x==="id"||x==="name")&&(_ in Y||_ in zn))return!1;if(!(Gt&&!Ht[x]&&m(Ct,x))){if(!(Bt&&m(je,x))){if(!ge[x]||Ht[x]){if(!(tn(o)&&(ie.tagNameCheck instanceof RegExp&&m(ie.tagNameCheck,o)||ie.tagNameCheck instanceof Function&&ie.tagNameCheck(o))&&(ie.attributeNameCheck instanceof RegExp&&m(ie.attributeNameCheck,x)||ie.attributeNameCheck instanceof Function&&ie.attributeNameCheck(x))||x==="is"&&ie.allowCustomizedBuiltInElements&&(ie.tagNameCheck instanceof RegExp&&m(ie.tagNameCheck,_)||ie.tagNameCheck instanceof Function&&ie.tagNameCheck(_))))return!1}else if(!Zt[x]){if(!m($t,le(_,dt,""))){if((x!=="src"&&x!=="xlink:href"&&x!=="href"||o==="script"||Te(_,"data:")!==0||!vn[o])&&!(gn&&!m(Ut,le(_,dt,"")))){if(_)return!1}}}}}return!0},tn=function(o){return o.indexOf("-")>0},vt=function(o){var x,_,te,ce;Re("beforeSanitizeAttributes",o,null);var ve=o.attributes;if(ve){var ye={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ge};for(ce=ve.length;ce--;){var yt=x=ve[ce],De=yt.name,Z=yt.namespaceURI;if(_=De==="value"?x.value:p(x.value),te=qe(De),ye.attrName=te,ye.attrValue=_,ye.keepAttr=!0,ye.forceKeepAttr=void 0,Re("uponSanitizeAttribute",o,ye),_=ye.attrValue,!ye.forceKeepAttr&&(xn(De,o),ye.keepAttr))if(m(/\/>/i,_))xn(De,o);else{ot&&(_=le(_,Rt," "),_=le(_,Dt," "));var Ve=qe(o.nodeName);if(On(Ve,te,_))try{Z?o.setAttributeNS(Z,De,_):o.setAttribute(De,_),re(S.removed)}catch{}}}Re("afterSanitizeAttributes",o,null)}},nn=function o(x){var _,te=gt(x);for(Re("beforeSanitizeShadowDOM",x,null);_=te.nextNode();)Re("uponSanitizeShadowNode",_,null),en(_)||(_.content instanceof oe&&o(_.content),vt(_));Re("afterSanitizeShadowDOM",x,null)};return S.sanitize=function(o,x){var _,te,ce,ve,ye;if((bn=!o)&&(o="<!-->"),typeof o!="string"&&!mt(o)){if(typeof o.toString!="function")throw L("toString is not a function");if(typeof(o=o.toString())!="string")throw L("dirty is not a string, aborting")}if(!S.isSupported){if(d(w.toStaticHTML)==="object"||typeof w.toStaticHTML=="function"){if(typeof o=="string")return w.toStaticHTML(o);if(mt(o))return w.toStaticHTML(o.outerHTML)}return o}if(Wt||Vt(x),S.removed=[],typeof o=="string"&&(Qe=!1),Qe){if(o.nodeName){var yt=qe(o.nodeName);if(!he[yt]||ht[yt])throw L("root node is forbidden and cannot be sanitized in-place")}}else if(o instanceof Je)(te=(_=Cn("<!---->")).ownerDocument.importNode(o,!0)).nodeType===1&&te.nodeName==="BODY"||te.nodeName==="HTML"?_=te:_.appendChild(te);else{if(!Ze&&!ot&&!K&&o.indexOf("<")===-1)return ze&&it?ze.createHTML(o):o;if(!(_=Cn(o)))return Ze?null:it?pn:""}_&&Jt&&Fe(_.firstChild);for(var De=gt(Qe?o:_);ce=De.nextNode();)ce.nodeType===3&&ce===ve||en(ce)||(ce.content instanceof oe&&nn(ce.content),vt(ce),ve=ce);if(ve=null,Qe)return o;if(Ze){if(He)for(ye=dn.call(_.ownerDocument);_.firstChild;)ye.appendChild(_.firstChild);else ye=_;return ge.shadowroot&&(ye=Ft.call(z,ye,!0)),ye}var Z=K?_.outerHTML:_.innerHTML;return K&&he["!doctype"]&&_.ownerDocument&&_.ownerDocument.doctype&&_.ownerDocument.doctype.name&&m(an,_.ownerDocument.doctype.name)&&(Z="<!DOCTYPE "+_.ownerDocument.doctype.name+`>
`+Z),ot&&(Z=le(Z,Rt," "),Z=le(Z,Dt," ")),ze&&it?ze.createHTML(Z):Z},S.setConfig=function(o){Vt(o),Wt=!0},S.clearConfig=function(){st=null,Wt=!1},S.isValidAttribute=function(o,x,_){st||Vt({});var te=qe(o),ce=qe(x);return On(te,ce,_)},S.addHook=function(o,x){typeof x=="function"&&(me[o]=me[o]||[],de(me[o],x))},S.removeHook=function(o){if(me[o])return re(me[o])},S.removeHooks=function(o){me[o]&&(me[o]=[])},S.removeAllHooks=function(){me={}},S}return lt()}()},729:U=>{var d=Object.prototype.hasOwnProperty,k="~";function I(){}function O(f,y,b){this.fn=f,this.context=y,this.once=b||!1}function M(f,y,b,R,P){if(typeof b!="function")throw new TypeError("The listener must be a function");var D=new O(b,R||f,P),H=k?k+y:y;return f._events[H]?f._events[H].fn?f._events[H]=[f._events[H],D]:f._events[H].push(D):(f._events[H]=D,f._eventsCount++),f}function Q(f,y){--f._eventsCount==0?f._events=new I:delete f._events[y]}function v(){this._events=new I,this._eventsCount=0}Object.create&&(I.prototype=Object.create(null),new I().__proto__||(k=!1)),v.prototype.eventNames=function(){var f,y,b=[];if(this._eventsCount===0)return b;for(y in f=this._events)d.call(f,y)&&b.push(k?y.slice(1):y);return Object.getOwnPropertySymbols?b.concat(Object.getOwnPropertySymbols(f)):b},v.prototype.listeners=function(f){var y=k?k+f:f,b=this._events[y];if(!b)return[];if(b.fn)return[b.fn];for(var R=0,P=b.length,D=new Array(P);R<P;R++)D[R]=b[R].fn;return D},v.prototype.listenerCount=function(f){var y=k?k+f:f,b=this._events[y];return b?b.fn?1:b.length:0},v.prototype.emit=function(f,y,b,R,P,D){var H=k?k+f:f;if(!this._events[H])return!1;var E,N,a=this._events[H],c=arguments.length;if(a.fn){switch(a.once&&this.removeListener(f,a.fn,void 0,!0),c){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,y),!0;case 3:return a.fn.call(a.context,y,b),!0;case 4:return a.fn.call(a.context,y,b,R),!0;case 5:return a.fn.call(a.context,y,b,R,P),!0;case 6:return a.fn.call(a.context,y,b,R,P,D),!0}for(N=1,E=new Array(c-1);N<c;N++)E[N-1]=arguments[N];a.fn.apply(a.context,E)}else{var g,C=a.length;for(N=0;N<C;N++)switch(a[N].once&&this.removeListener(f,a[N].fn,void 0,!0),c){case 1:a[N].fn.call(a[N].context);break;case 2:a[N].fn.call(a[N].context,y);break;case 3:a[N].fn.call(a[N].context,y,b);break;case 4:a[N].fn.call(a[N].context,y,b,R);break;default:if(!E)for(g=1,E=new Array(c-1);g<c;g++)E[g-1]=arguments[g];a[N].fn.apply(a[N].context,E)}}return!0},v.prototype.on=function(f,y,b){return M(this,f,y,b,!1)},v.prototype.once=function(f,y,b){return M(this,f,y,b,!0)},v.prototype.removeListener=function(f,y,b,R){var P=k?k+f:f;if(!this._events[P])return this;if(!y)return Q(this,P),this;var D=this._events[P];if(D.fn)D.fn!==y||R&&!D.once||b&&D.context!==b||Q(this,P);else{for(var H=0,E=[],N=D.length;H<N;H++)(D[H].fn!==y||R&&!D[H].once||b&&D[H].context!==b)&&E.push(D[H]);E.length?this._events[P]=E.length===1?E[0]:E:Q(this,P)}return this},v.prototype.removeAllListeners=function(f){var y;return f?(y=k?k+f:f,this._events[y]&&Q(this,y)):(this._events=new I,this._eventsCount=0),this},v.prototype.off=v.prototype.removeListener,v.prototype.addListener=v.prototype.on,v.prefixed=k,v.EventEmitter=v,U.exports=v},717:U=>{typeof Object.create=="function"?U.exports=function(d,k){d.super_=k,d.prototype=Object.create(k.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}})}:U.exports=function(d,k){d.super_=k;var I=function(){};I.prototype=k.prototype,d.prototype=new I,d.prototype.constructor=d}},824:U=>{var d=1e3,k=60*d,I=60*k,O=24*I,M=7*O,Q=365.25*O;function v(f,y,b,R){var P=y>=1.5*b;return Math.round(f/b)+" "+R+(P?"s":"")}U.exports=function(f,y){y=y||{};var b=typeof f;if(b==="string"&&f.length>0)return function(R){if(!((R=String(R)).length>100)){var P=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(R);if(P){var D=parseFloat(P[1]);switch((P[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return D*Q;case"weeks":case"week":case"w":return D*M;case"days":case"day":case"d":return D*O;case"hours":case"hour":case"hrs":case"hr":case"h":return D*I;case"minutes":case"minute":case"mins":case"min":case"m":return D*k;case"seconds":case"second":case"secs":case"sec":case"s":return D*d;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return D;default:return}}}}(f);if(b==="number"&&isFinite(f))return y.long?function(R){var P=Math.abs(R);return P>=O?v(R,P,O,"day"):P>=I?v(R,P,I,"hour"):P>=k?v(R,P,k,"minute"):P>=d?v(R,P,d,"second"):R+" ms"}(f):function(R){var P=Math.abs(R);return P>=O?Math.round(R/O)+"d":P>=I?Math.round(R/I)+"h":P>=k?Math.round(R/k)+"m":P>=d?Math.round(R/d)+"s":R+"ms"}(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))}},520:(U,d,k)=>{var I=k(155),O=I.platform==="win32",M=k(539);function Q(a,c){for(var g=[],C=0;C<a.length;C++){var B=a[C];B&&B!=="."&&(B===".."?g.length&&g[g.length-1]!==".."?g.pop():c&&g.push(".."):g.push(B))}return g}function v(a){for(var c=a.length-1,g=0;g<=c&&!a[g];g++);for(var C=c;C>=0&&!a[C];C--);return g===0&&C===c?a:g>C?[]:a.slice(g,C+1)}var f=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,y=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,b={};function R(a){var c=f.exec(a),g=(c[1]||"")+(c[2]||""),C=c[3]||"",B=y.exec(C);return[g,B[1],B[2],B[3]]}function P(a){var c=f.exec(a),g=c[1]||"",C=!!g&&g[1]!==":";return{device:g,isUnc:C,isAbsolute:C||!!c[2],tail:c[3]}}function D(a){return"\\\\"+a.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}b.resolve=function(){for(var a="",c="",g=!1,C=arguments.length-1;C>=-1;C--){var B;if(C>=0?B=arguments[C]:a?(B=I.env["="+a])&&B.substr(0,3).toLowerCase()===a.toLowerCase()+"\\"||(B=a+"\\"):B=I.cwd(),!M.isString(B))throw new TypeError("Arguments to path.resolve must be strings");if(B){var V=P(B),re=V.device,de=V.isUnc,be=V.isAbsolute,_e=V.tail;if((!re||!a||re.toLowerCase()===a.toLowerCase())&&(a||(a=re),g||(c=_e+"\\"+c,g=be),a&&g))break}}return de&&(a=D(a)),a+(g?"\\":"")+(c=Q(c.split(/[\\\/]+/),!g).join("\\"))||"."},b.normalize=function(a){var c=P(a),g=c.device,C=c.isUnc,B=c.isAbsolute,V=c.tail,re=/[\\\/]$/.test(V);return(V=Q(V.split(/[\\\/]+/),!B).join("\\"))||B||(V="."),V&&re&&(V+="\\"),C&&(g=D(g)),g+(B?"\\":"")+V},b.isAbsolute=function(a){return P(a).isAbsolute},b.join=function(){for(var a=[],c=0;c<arguments.length;c++){var g=arguments[c];if(!M.isString(g))throw new TypeError("Arguments to path.join must be strings");g&&a.push(g)}var C=a.join("\\");return/^[\\\/]{2}[^\\\/]/.test(a[0])||(C=C.replace(/^[\\\/]{2,}/,"\\")),b.normalize(C)},b.relative=function(a,c){a=b.resolve(a),c=b.resolve(c);for(var g=a.toLowerCase(),C=c.toLowerCase(),B=v(c.split("\\")),V=v(g.split("\\")),re=v(C.split("\\")),de=Math.min(V.length,re.length),be=de,_e=0;_e<de;_e++)if(V[_e]!==re[_e]){be=_e;break}if(be==0)return c;var le=[];for(_e=be;_e<V.length;_e++)le.push("..");return(le=le.concat(B.slice(be))).join("\\")},b._makeLong=function(a){if(!M.isString(a))return a;if(!a)return"";var c=b.resolve(a);return/^[a-zA-Z]\:\\/.test(c)?"\\\\?\\"+c:/^\\\\[^?.]/.test(c)?"\\\\?\\UNC\\"+c.substring(2):a},b.dirname=function(a){var c=R(a),g=c[0],C=c[1];return g||C?(C&&(C=C.substr(0,C.length-1)),g+C):"."},b.basename=function(a,c){var g=R(a)[2];return c&&g.substr(-1*c.length)===c&&(g=g.substr(0,g.length-c.length)),g},b.extname=function(a){return R(a)[3]},b.format=function(a){if(!M.isObject(a))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof a);var c=a.root||"";if(!M.isString(c))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof a.root);var g=a.dir,C=a.base||"";return g?g[g.length-1]===b.sep?g+C:g+b.sep+C:C},b.parse=function(a){if(!M.isString(a))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof a);var c=R(a);if(!c||c.length!==4)throw new TypeError("Invalid path '"+a+"'");return{root:c[0],dir:c[0]+c[1].slice(0,-1),base:c[2],ext:c[3],name:c[2].slice(0,c[2].length-c[3].length)}},b.sep="\\",b.delimiter=";";var H=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,E={};function N(a){return H.exec(a).slice(1)}E.resolve=function(){for(var a="",c=!1,g=arguments.length-1;g>=-1&&!c;g--){var C=g>=0?arguments[g]:I.cwd();if(!M.isString(C))throw new TypeError("Arguments to path.resolve must be strings");C&&(a=C+"/"+a,c=C[0]==="/")}return(c?"/":"")+(a=Q(a.split("/"),!c).join("/"))||"."},E.normalize=function(a){var c=E.isAbsolute(a),g=a&&a[a.length-1]==="/";return(a=Q(a.split("/"),!c).join("/"))||c||(a="."),a&&g&&(a+="/"),(c?"/":"")+a},E.isAbsolute=function(a){return a.charAt(0)==="/"},E.join=function(){for(var a="",c=0;c<arguments.length;c++){var g=arguments[c];if(!M.isString(g))throw new TypeError("Arguments to path.join must be strings");g&&(a+=a?"/"+g:g)}return E.normalize(a)},E.relative=function(a,c){a=E.resolve(a).substr(1),c=E.resolve(c).substr(1);for(var g=v(a.split("/")),C=v(c.split("/")),B=Math.min(g.length,C.length),V=B,re=0;re<B;re++)if(g[re]!==C[re]){V=re;break}var de=[];for(re=V;re<g.length;re++)de.push("..");return(de=de.concat(C.slice(V))).join("/")},E._makeLong=function(a){return a},E.dirname=function(a){var c=N(a),g=c[0],C=c[1];return g||C?(C&&(C=C.substr(0,C.length-1)),g+C):"."},E.basename=function(a,c){var g=N(a)[2];return c&&g.substr(-1*c.length)===c&&(g=g.substr(0,g.length-c.length)),g},E.extname=function(a){return N(a)[3]},E.format=function(a){if(!M.isObject(a))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof a);var c=a.root||"";if(!M.isString(c))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof a.root);return(a.dir?a.dir+E.sep:"")+(a.base||"")},E.parse=function(a){if(!M.isString(a))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof a);var c=N(a);if(!c||c.length!==4)throw new TypeError("Invalid path '"+a+"'");return c[1]=c[1]||"",c[2]=c[2]||"",c[3]=c[3]||"",{root:c[0],dir:c[0]+c[1].slice(0,-1),base:c[2],ext:c[3],name:c[2].slice(0,c[2].length-c[3].length)}},E.sep="/",E.delimiter=":",U.exports=O?b:E,U.exports.posix=E,U.exports.win32=b},155:U=>{var d,k,I=U.exports={};function O(){throw new Error("setTimeout has not been defined")}function M(){throw new Error("clearTimeout has not been defined")}function Q(E){if(d===setTimeout)return setTimeout(E,0);if((d===O||!d)&&setTimeout)return d=setTimeout,setTimeout(E,0);try{return d(E,0)}catch{try{return d.call(null,E,0)}catch{return d.call(this,E,0)}}}(function(){try{d=typeof setTimeout=="function"?setTimeout:O}catch{d=O}try{k=typeof clearTimeout=="function"?clearTimeout:M}catch{k=M}})();var v,f=[],y=!1,b=-1;function R(){y&&v&&(y=!1,v.length?f=v.concat(f):b=-1,f.length&&P())}function P(){if(!y){var E=Q(R);y=!0;for(var N=f.length;N;){for(v=f,f=[];++b<N;)v&&v[b].run();b=-1,N=f.length}v=null,y=!1,function(a){if(k===clearTimeout)return clearTimeout(a);if((k===M||!k)&&clearTimeout)return k=clearTimeout,clearTimeout(a);try{k(a)}catch{try{return k.call(null,a)}catch{return k.call(this,a)}}}(E)}}function D(E,N){this.fun=E,this.array=N}function H(){}I.nextTick=function(E){var N=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)N[a-1]=arguments[a];f.push(new D(E,N)),f.length!==1||y||Q(P)},D.prototype.run=function(){this.fun.apply(null,this.array)},I.title="browser",I.browser=!0,I.env={},I.argv=[],I.version="",I.versions={},I.on=H,I.addListener=H,I.once=H,I.off=H,I.removeListener=H,I.removeAllListeners=H,I.emit=H,I.prependListener=H,I.prependOnceListener=H,I.listeners=function(E){return[]},I.binding=function(E){throw new Error("process.binding is not supported")},I.cwd=function(){return"/"},I.chdir=function(E){throw new Error("process.chdir is not supported")},I.umask=function(){return 0}},384:U=>{U.exports=function(d){return d&&typeof d=="object"&&typeof d.copy=="function"&&typeof d.fill=="function"&&typeof d.readUInt8=="function"}},539:(U,d,k)=>{var I=k(155),O=/%[sdj%]/g;d.format=function(p){if(!a(p)){for(var m=[],L=0;L<arguments.length;L++)m.push(v(arguments[L]));return m.join(" ")}L=1;for(var ee=arguments,xe=ee.length,F=String(p).replace(O,function(ae){if(ae==="%%")return"%";if(L>=xe)return ae;switch(ae){case"%s":return String(ee[L++]);case"%d":return Number(ee[L++]);case"%j":try{return JSON.stringify(ee[L++])}catch{return"[Circular]"}default:return ae}}),G=ee[L];L<xe;G=ee[++L])E(G)||!C(G)?F+=" "+G:F+=" "+v(G);return F},d.deprecate=function(p,m){if(c(k.g.process))return function(){return d.deprecate(p,m).apply(this,arguments)};if(I.noDeprecation===!0)return p;var L=!1;return function(){if(!L){if(I.throwDeprecation)throw new Error(m);I.traceDeprecation?console.trace(m):console.error(m),L=!0}return p.apply(this,arguments)}};var M,Q={};function v(p,m){var L={seen:[],stylize:y};return arguments.length>=3&&(L.depth=arguments[2]),arguments.length>=4&&(L.colors=arguments[3]),H(m)?L.showHidden=m:m&&d._extend(L,m),c(L.showHidden)&&(L.showHidden=!1),c(L.depth)&&(L.depth=2),c(L.colors)&&(L.colors=!1),c(L.customInspect)&&(L.customInspect=!0),L.colors&&(L.stylize=f),b(L,p,L.depth)}function f(p,m){var L=v.styles[m];return L?"\x1B["+v.colors[L][0]+"m"+p+"\x1B["+v.colors[L][1]+"m":p}function y(p,m){return p}function b(p,m,L){if(p.customInspect&&m&&re(m.inspect)&&m.inspect!==d.inspect&&(!m.constructor||m.constructor.prototype!==m)){var ee=m.inspect(L,p);return a(ee)||(ee=b(p,ee,L)),ee}var xe=function(ue,se){if(c(se))return ue.stylize("undefined","undefined");if(a(se)){var Oe="'"+JSON.stringify(se).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ue.stylize(Oe,"string")}if(N(se))return ue.stylize(""+se,"number");if(H(se))return ue.stylize(""+se,"boolean");if(E(se))return ue.stylize("null","null")}(p,m);if(xe)return xe;var F=Object.keys(m),G=function(ue){var se={};return ue.forEach(function(Oe,ke){se[Oe]=!0}),se}(F);if(p.showHidden&&(F=Object.getOwnPropertyNames(m)),V(m)&&(F.indexOf("message")>=0||F.indexOf("description")>=0))return R(m);if(F.length===0){if(re(m)){var ae=m.name?": "+m.name:"";return p.stylize("[Function"+ae+"]","special")}if(g(m))return p.stylize(RegExp.prototype.toString.call(m),"regexp");if(B(m))return p.stylize(Date.prototype.toString.call(m),"date");if(V(m))return R(m)}var Se,Ce="",$e=!1,et=["{","}"];return D(m)&&($e=!0,et=["[","]"]),re(m)&&(Ce=" [Function"+(m.name?": "+m.name:"")+"]"),g(m)&&(Ce=" "+RegExp.prototype.toString.call(m)),B(m)&&(Ce=" "+Date.prototype.toUTCString.call(m)),V(m)&&(Ce=" "+R(m)),F.length!==0||$e&&m.length!=0?L<0?g(m)?p.stylize(RegExp.prototype.toString.call(m),"regexp"):p.stylize("[Object]","special"):(p.seen.push(m),Se=$e?function(ue,se,Oe,ke,Ee){for(var Ie=[],Le=0,Pt=se.length;Le<Pt;++Le)Te(se,String(Le))?Ie.push(P(ue,se,Oe,ke,String(Le),!0)):Ie.push("");return Ee.forEach(function(wt){wt.match(/^\d+$/)||Ie.push(P(ue,se,Oe,ke,wt,!0))}),Ie}(p,m,L,G,F):F.map(function(ue){return P(p,m,L,G,ue,$e)}),p.seen.pop(),function(ue,se,Oe){return ue.reduce(function(ke,Ee){return Ee.indexOf(`
`)>=0,ke+Ee.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Oe[0]+(se===""?"":se+`
 `)+" "+ue.join(`,
  `)+" "+Oe[1]:Oe[0]+se+" "+ue.join(", ")+" "+Oe[1]}(Se,Ce,et)):et[0]+Ce+et[1]}function R(p){return"["+Error.prototype.toString.call(p)+"]"}function P(p,m,L,ee,xe,F){var G,ae,Se;if((Se=Object.getOwnPropertyDescriptor(m,xe)||{value:m[xe]}).get?ae=Se.set?p.stylize("[Getter/Setter]","special"):p.stylize("[Getter]","special"):Se.set&&(ae=p.stylize("[Setter]","special")),Te(ee,xe)||(G="["+xe+"]"),ae||(p.seen.indexOf(Se.value)<0?(ae=E(L)?b(p,Se.value,null):b(p,Se.value,L-1)).indexOf(`
`)>-1&&(ae=F?ae.split(`
`).map(function(Ce){return"  "+Ce}).join(`
`).substr(2):`
`+ae.split(`
`).map(function(Ce){return"   "+Ce}).join(`
`)):ae=p.stylize("[Circular]","special")),c(G)){if(F&&xe.match(/^\d+$/))return ae;(G=JSON.stringify(""+xe)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(G=G.substr(1,G.length-2),G=p.stylize(G,"name")):(G=G.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),G=p.stylize(G,"string"))}return G+": "+ae}function D(p){return Array.isArray(p)}function H(p){return typeof p=="boolean"}function E(p){return p===null}function N(p){return typeof p=="number"}function a(p){return typeof p=="string"}function c(p){return p===void 0}function g(p){return C(p)&&de(p)==="[object RegExp]"}function C(p){return typeof p=="object"&&p!==null}function B(p){return C(p)&&de(p)==="[object Date]"}function V(p){return C(p)&&(de(p)==="[object Error]"||p instanceof Error)}function re(p){return typeof p=="function"}function de(p){return Object.prototype.toString.call(p)}function be(p){return p<10?"0"+p.toString(10):p.toString(10)}d.debuglog=function(p){if(c(M)&&(M=I.env.NODE_DEBUG||""),p=p.toUpperCase(),!Q[p])if(new RegExp("\\b"+p+"\\b","i").test(M)){var m=I.pid;Q[p]=function(){var L=d.format.apply(d,arguments);console.error("%s %d: %s",p,m,L)}}else Q[p]=function(){};return Q[p]},d.inspect=v,v.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},v.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},d.isArray=D,d.isBoolean=H,d.isNull=E,d.isNullOrUndefined=function(p){return p==null},d.isNumber=N,d.isString=a,d.isSymbol=function(p){return typeof p=="symbol"},d.isUndefined=c,d.isRegExp=g,d.isObject=C,d.isDate=B,d.isError=V,d.isFunction=re,d.isPrimitive=function(p){return p===null||typeof p=="boolean"||typeof p=="number"||typeof p=="string"||typeof p=="symbol"||p===void 0},d.isBuffer=k(384);var _e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function le(){var p=new Date,m=[be(p.getHours()),be(p.getMinutes()),be(p.getSeconds())].join(":");return[p.getDate(),_e[p.getMonth()],m].join(" ")}function Te(p,m){return Object.prototype.hasOwnProperty.call(p,m)}d.log=function(){console.log("%s - %s",le(),d.format.apply(d,arguments))},d.inherits=k(717),d._extend=function(p,m){if(!m||!C(m))return p;for(var L=Object.keys(m),ee=L.length;ee--;)p[L[ee]]=m[L[ee]];return p}}},Xe={};function J(U){var d=Xe[U];if(d!==void 0)return d.exports;var k=Xe[U]={exports:{}};return Ne[U].call(k.exports,k,k.exports,J),k.exports}J.n=U=>{var d=U&&U.__esModule?()=>U.default:()=>U;return J.d(d,{a:d}),d},J.d=(U,d)=>{for(var k in d)J.o(d,k)&&!J.o(U,k)&&Object.defineProperty(U,k,{enumerable:!0,get:d[k]})},J.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),J.o=(U,d)=>Object.prototype.hasOwnProperty.call(U,d),J.r=U=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(U,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(U,"__esModule",{value:!0})};var we={};return(()=>{J.r(we),J.d(we,{LSPluginUser:()=>rr,setupPluginUserInstance:()=>Fr});var U=J(520);J(856);const d=function(){this.__data__=[],this.size=0},k=function(t,e){return t===e||t!=t&&e!=e},I=function(t,e){for(var n=t.length;n--;)if(k(t[n][0],e))return n;return-1};var O=Array.prototype.splice;const M=function(t){var e=this.__data__,n=I(e,t);return!(n<0)&&(n==e.length-1?e.pop():O.call(e,n,1),--this.size,!0)},Q=function(t){var e=this.__data__,n=I(e,t);return n<0?void 0:e[n][1]},v=function(t){return I(this.__data__,t)>-1},f=function(t,e){var n=this.__data__,r=I(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function y(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}y.prototype.clear=d,y.prototype.delete=M,y.prototype.get=Q,y.prototype.has=v,y.prototype.set=f;const b=y,R=function(){this.__data__=new b,this.size=0},P=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},D=function(t){return this.__data__.get(t)},H=function(t){return this.__data__.has(t)},E=typeof Tn=="object"&&Tn&&Tn.Object===Object&&Tn;var N=typeof self=="object"&&self&&self.Object===Object&&self;const a=E||N||Function("return this")(),c=a.Symbol;var g=Object.prototype,C=g.hasOwnProperty,B=g.toString,V=c?c.toStringTag:void 0;const re=function(t){var e=C.call(t,V),n=t[V];try{t[V]=void 0;var r=!0}catch{}var i=B.call(t);return r&&(e?t[V]=n:delete t[V]),i};var de=Object.prototype.toString;const be=function(t){return de.call(t)};var _e=c?c.toStringTag:void 0;const le=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":_e&&_e in Object(t)?re(t):be(t)},Te=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},p=function(t){if(!Te(t))return!1;var e=le(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},m=a["__core-js_shared__"];var L,ee=(L=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||""))?"Symbol(src)_1."+L:"";const xe=function(t){return!!ee&&ee in t};var F=Function.prototype.toString;const G=function(t){if(t!=null){try{return F.call(t)}catch{}try{return t+""}catch{}}return""};var ae=/^\[object .+?Constructor\]$/,Se=Function.prototype,Ce=Object.prototype,$e=Se.toString,et=Ce.hasOwnProperty,ue=RegExp("^"+$e.call(et).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const se=function(t){return!(!Te(t)||xe(t))&&(p(t)?ue:ae).test(G(t))},Oe=function(t,e){return t==null?void 0:t[e]},ke=function(t,e){var n=Oe(t,e);return se(n)?n:void 0},Ee=ke(a,"Map"),Ie=ke(Object,"create"),Le=function(){this.__data__=Ie?Ie(null):{},this.size=0},Pt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e};var wt=Object.prototype.hasOwnProperty;const Pn=function(t){var e=this.__data__;if(Ie){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return wt.call(e,t)?e[t]:void 0};var Mn=Object.prototype.hasOwnProperty;const Nn=function(t){var e=this.__data__;return Ie?e[t]!==void 0:Mn.call(e,t)},Ln=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ie&&e===void 0?"__lodash_hash_undefined__":e,this};function tt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}tt.prototype.clear=Le,tt.prototype.delete=Pt,tt.prototype.get=Pn,tt.prototype.has=Nn,tt.prototype.set=Ln;const an=tt,Fn=function(){this.size=0,this.__data__={hash:new an,map:new(Ee||b),string:new an}},Rn=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},lt=function(t,e){var n=t.__data__;return Rn(e)?n[typeof e=="string"?"string":"hash"]:n.map},w=function(t){var e=lt(this,t).delete(t);return this.size-=e?1:0,e},S=function(t){return lt(this,t).get(t)},z=function(t){return lt(this,t).has(t)},Y=function(t,e){var n=lt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function oe(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}oe.prototype.clear=Fn,oe.prototype.delete=w,oe.prototype.get=S,oe.prototype.has=z,oe.prototype.set=Y;const Pe=oe,Je=function(t,e){var n=this.__data__;if(n instanceof b){var r=n.__data__;if(!Ee||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Pe(r)}return n.set(t,e),this.size=n.size,this};function Me(t){var e=this.__data__=new b(t);this.size=e.size}Me.prototype.clear=R,Me.prototype.delete=P,Me.prototype.get=D,Me.prototype.has=H,Me.prototype.set=Je;const Ye=Me,ut=function(){try{var t=ke(Object,"defineProperty");return t({},"",{}),t}catch{}}(),xt=function(t,e,n){e=="__proto__"&&ut?ut(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Mt=function(t,e,n){(n!==void 0&&!k(t[e],n)||n===void 0&&!(e in t))&&xt(t,e,n)},sn=function(t){return function(e,n,r){for(var i=-1,s=Object(e),l=r(e),u=l.length;u--;){var h=l[t?u:++i];if(n(s[h],h,s)===!1)break}return e}}();var cn=fe&&!fe.nodeType&&fe,pt=cn&&!0&&X&&!X.nodeType&&X,ln=pt&&pt.exports===cn?a.Buffer:void 0,un=ln?ln.allocUnsafe:void 0;const Dn=function(t,e){if(e)return t.slice();var n=t.length,r=un?un(n):new t.constructor(n);return t.copy(r),r},nt=a.Uint8Array,Nt=function(t){var e=new t.constructor(t.byteLength);return new nt(e).set(new nt(t)),e},ze=function(t,e){var n=e?Nt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},pn=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e};var ft=Object.create;const Lt=function(){function t(){}return function(e){if(!Te(e))return{};if(ft)return ft(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),fn=function(t,e){return function(n){return t(e(n))}},dn=fn(Object.getPrototypeOf,Object);var Un=Object.prototype;const Ft=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||Un)},hn=function(t){return typeof t.constructor!="function"||Ft(t)?{}:Lt(dn(t))},me=function(t){return t!=null&&typeof t=="object"},rt=function(t){return me(t)&&le(t)=="[object Arguments]"};var qe=Object.prototype,Rt=qe.hasOwnProperty,Dt=qe.propertyIsEnumerable;const Ct=rt(function(){return arguments}())?rt:function(t){return me(t)&&Rt.call(t,"callee")&&!Dt.call(t,"callee")},je=Array.isArray,Ut=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},dt=function(t){return t!=null&&Ut(t.length)&&!p(t)},$t=function(t){return me(t)&&dt(t)},he=function(){return!1};var zt=fe&&!fe.nodeType&&fe,ge=zt&&!0&&X&&!X.nodeType&&X,qt=ge&&ge.exports===zt?a.Buffer:void 0;const ie=(qt?qt.isBuffer:void 0)||he;var ht=Function.prototype,Ht=Object.prototype,Bt=ht.toString,Gt=Ht.hasOwnProperty,gn=Bt.call(Object);const ot=function(t){if(!me(t)||le(t)!="[object Object]")return!1;var e=dn(t);if(e===null)return!0;var n=Gt.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Bt.call(n)==gn};var K={};K["[object Float32Array]"]=K["[object Float64Array]"]=K["[object Int8Array]"]=K["[object Int16Array]"]=K["[object Int32Array]"]=K["[object Uint8Array]"]=K["[object Uint8ClampedArray]"]=K["[object Uint16Array]"]=K["[object Uint32Array]"]=!0,K["[object Arguments]"]=K["[object Array]"]=K["[object ArrayBuffer]"]=K["[object Boolean]"]=K["[object DataView]"]=K["[object Date]"]=K["[object Error]"]=K["[object Function]"]=K["[object Map]"]=K["[object Number]"]=K["[object Object]"]=K["[object RegExp]"]=K["[object Set]"]=K["[object String]"]=K["[object WeakMap]"]=!1;const Wt=function(t){return me(t)&&Ut(t.length)&&!!K[le(t)]},Jt=function(t){return function(e){return t(e)}};var Ze=fe&&!fe.nodeType&&fe,He=Ze&&!0&&X&&!X.nodeType&&X,it=He&&He.exports===Ze&&E.process,Yt=function(){try{var t=He&&He.require&&He.require("util").types;return t||it&&it.binding&&it.binding("util")}catch{}}(),Ot=Yt&&Yt.isTypedArray;const Qe=Ot?Jt(Ot):Wt,Be=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]};var at=Object.prototype.hasOwnProperty;const mn=function(t,e,n){var r=t[e];at.call(t,e)&&k(r,n)&&(n!==void 0||e in t)||xt(t,e,n)},vn=function(t,e,n,r){var i=!n;n||(n={});for(var s=-1,l=e.length;++s<l;){var u=e[s],h=r?r(n[u],t[u],u,n,t):void 0;h===void 0&&(h=t[u]),i?xt(n,u,h):mn(n,u,h)}return n},yn=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r};var Zt=/^(?:0|[1-9]\d*)$/;const kt=function(t,e){var n=typeof t;return!!(e=e??9007199254740991)&&(n=="number"||n!="symbol"&&Zt.test(t))&&t>-1&&t%1==0&&t<e};var Qt=Object.prototype.hasOwnProperty;const St=function(t,e){var n=je(t),r=!n&&Ct(t),i=!n&&!r&&ie(t),s=!n&&!r&&!i&&Qe(t),l=n||r||i||s,u=l?yn(t.length,String):[],h=u.length;for(var A in t)!e&&!Qt.call(t,A)||l&&(A=="length"||i&&(A=="offset"||A=="parent")||s&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||kt(A,h))||u.push(A);return u},Ge=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e};var At=Object.prototype.hasOwnProperty;const bn=function(t){if(!Te(t))return Ge(t);var e=Ft(t),n=[];for(var r in t)(r!="constructor"||!e&&At.call(t,r))&&n.push(r);return n},_n=function(t){return dt(t)?St(t,!0):bn(t)},$n=function(t){return vn(t,_n(t))},st=function(t,e,n,r,i,s,l){var u=Be(t,n),h=Be(e,n),A=l.get(h);if(A)Mt(t,n,A);else{var j=s?s(u,h,n+"",t,e,l):void 0,T=j===void 0;if(T){var $=je(h),W=!$&&ie(h),q=!$&&!W&&Qe(h);j=h,$||W||q?je(u)?j=u:$t(u)?j=pn(u):W?(T=!1,j=Dn(h,!0)):q?(T=!1,j=ze(h,!0)):j=[]:ot(h)||Ct(h)?(j=u,Ct(u)?j=$n(u):Te(u)&&!p(u)||(j=hn(h))):T=!1}T&&(l.set(h,j),i(j,h,r,s,l),l.delete(h)),Mt(t,n,j)}},zn=function t(e,n,r,i,s){e!==n&&sn(n,function(l,u){if(s||(s=new Ye),Te(l))st(e,n,u,r,t,i,s);else{var h=i?i(Be(e,u),l,u+"",e,n,s):void 0;h===void 0&&(h=l),Mt(e,u,h)}},_n)},Et=function(t){return t},Vt=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)};var Kt=Math.max;const wn=function(t,e,n){return e=Kt(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=Kt(r.length-e,0),l=Array(s);++i<s;)l[i]=r[e+i];i=-1;for(var u=Array(e+1);++i<e;)u[i]=r[i];return u[e]=n(l),Vt(t,this,u)}},qn=function(t){return function(){return t}},jt=ut?function(t,e){return ut(t,"toString",{configurable:!0,enumerable:!1,value:qn(e),writable:!0})}:Et;var Xt=Date.now;const Hn=function(t){var e=0,n=0;return function(){var r=Xt(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(jt),Fe=function(t,e){return Hn(wn(t,e,Et),t+"")},xn=function(t,e,n){if(!Te(n))return!1;var r=typeof e;return!!(r=="number"?dt(n)&&kt(e,n.length):r=="string"&&e in n)&&k(n[e],t)},Cn=function(t){return Fe(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,l=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,l&&xn(n[0],n[1],l)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var u=n[r];u&&t(e,u,r,s)}return e})}(function(t,e,n){zn(t,e,n)});var gt=function(){return gt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},gt.apply(this,arguments)};function Bn(t){return t.toLowerCase()}var mt=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Re=/[^A-Z0-9]+/gi;function en(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce(function(r,i){return r.replace(i,n)},t)}function On(t,e){return e===void 0&&(e={}),function(n,r){r===void 0&&(r={});for(var i=r.splitRegexp,s=i===void 0?mt:i,l=r.stripRegexp,u=l===void 0?Re:l,h=r.transform,A=h===void 0?Bn:h,j=r.delimiter,T=j===void 0?" ":j,$=en(en(n,s,"$1\0$2"),u,"\0"),W=0,q=$.length;$.charAt(W)==="\0";)W++;for(;$.charAt(q-1)==="\0";)q--;return $.slice(W,q).split("\0").map(A).join(T)}(t,gt({delimiter:"."},e))}var tn=J(729),vt=J.n(tn);function nn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const o=navigator.platform.toLowerCase()==="win32"?U.win32:U.posix,x=function(t,e){return e===void 0&&(e={}),On(t,gt({delimiter:"_"},e))},_=Cn;class te extends vt(){constructor(e,n){super(),nn(this,"_tag",void 0),nn(this,"_opts",void 0),nn(this,"_logs",[]),this._tag=e,this._opts=n}write(e,n,r){var i;n!=null&&n.length&&n[n.length-1]===!0&&(r=!0,n.pop());const s=n.reduce((u,h)=>(h&&h instanceof Error?u+=`${h.message} ${h.stack}`:u+=h.toString(),u),`[${this._tag}][${new Date().toLocaleTimeString()}] `);var l;this._logs.push([e,s]),(r||(i=this._opts)!==null&&i!==void 0&&i.console)&&((l=console)===null||l===void 0||l[e==="ERROR"?"error":"debug"](`${e}: ${s}`)),this.emit("change")}clear(){this._logs=[],this.emit("change")}info(...e){this.write("INFO",e)}error(...e){this.write("ERROR",e)}warn(...e){this.write("WARN",e)}setTag(e){this._tag=e}toJSON(){return this._logs}}function ce(t,...e){try{const n=new URL(t);if(!n.origin)throw new Error(null);const r=o.join(t.substr(n.origin.length),...e);return n.origin+r}catch{return o.join(t,...e)}}function ve(t,e){let n,r,i=!1;const s=u=>h=>{t&&clearTimeout(t),u(h),i=!0},l=new Promise((u,h)=>{n=s(u),r=s(h),t&&(t=setTimeout(()=>r(new Error(`[deferred timeout] ${e}`)),t))});return{created:Date.now(),setTag:u=>e=u,resolve:n,reject:r,promise:l,get settled(){return i}}}const ye=new Map;window.__injectedUIEffects=ye;var yt=J(227),De=J.n(yt);function Z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Ve="application/x-postmate-v1+json";let ar=0;const Dr={handshake:1,"handshake-reply":1,call:1,emit:1,reply:1,request:1},Gn=(t,e)=>(typeof e!="string"||t.origin===e)&&!!t.data&&(typeof t.data!="object"||"postmate"in t.data)&&t.data.type===Ve&&!!Dr[t.data.postmate];class Ur{constructor(e){Z(this,"parent",void 0),Z(this,"frame",void 0),Z(this,"child",void 0),Z(this,"events",{}),Z(this,"childOrigin",void 0),Z(this,"listener",void 0),this.parent=e.parent,this.frame=e.frame,this.child=e.child,this.childOrigin=e.childOrigin,this.listener=n=>{if(!Gn(n,this.childOrigin))return!1;const{data:r,name:i}=((n||{}).data||{}).value||{};n.data.postmate==="emit"&&i in this.events&&this.events[i].forEach(s=>{s.call(this,r)})},this.parent.addEventListener("message",this.listener,!1)}get(e,...n){return new Promise(r=>{const i=++ar,s=l=>{l.data.uid===i&&l.data.postmate==="reply"&&(this.parent.removeEventListener("message",s,!1),r(l.data.value))};this.parent.addEventListener("message",s,!1),this.child.postMessage({postmate:"request",type:Ve,property:e,args:n,uid:i},this.childOrigin)})}call(e,n){this.child.postMessage({postmate:"call",type:Ve,property:e,data:n},this.childOrigin)}on(e,n){this.events[e]||(this.events[e]=[]),this.events[e].push(n)}destroy(){window.removeEventListener("message",this.listener,!1),this.frame.parentNode.removeChild(this.frame)}}class $r{constructor(e){Z(this,"model",void 0),Z(this,"parent",void 0),Z(this,"parentOrigin",void 0),Z(this,"child",void 0),this.model=e.model,this.parent=e.parent,this.parentOrigin=e.parentOrigin,this.child=e.child,this.child.addEventListener("message",n=>{if(!Gn(n,this.parentOrigin))return;const{property:r,uid:i,data:s,args:l}=n.data;n.data.postmate!=="call"?((u,h,A)=>{const j=typeof u[h]=="function"?u[h].apply(null,A):u[h];return Promise.resolve(j)})(this.model,r,l).then(u=>{n.source.postMessage({property:r,postmate:"reply",type:Ve,uid:i,value:u},n.origin)}):r in this.model&&typeof this.model[r]=="function"&&this.model[r](s)})}emit(e,n){this.parent.postMessage({postmate:"emit",type:Ve,value:{name:e,data:n}},this.parentOrigin)}}class Wn{constructor(e){Z(this,"container",void 0),Z(this,"parent",void 0),Z(this,"frame",void 0),Z(this,"child",void 0),Z(this,"childOrigin",void 0),Z(this,"url",void 0),Z(this,"model",void 0),this.container=e.container,this.url=e.url,this.parent=window,this.frame=document.createElement("iframe"),e.id&&(this.frame.id=e.id),e.name&&(this.frame.name=e.name),this.frame.classList.add.apply(this.frame.classList,e.classListArray||[]),this.container.appendChild(this.frame),this.child=this.frame.contentWindow,this.model=e.model||{}}sendHandshake(e){const n=(s=>{const l=document.createElement("a");l.href=s;const u=l.protocol.length>4?l.protocol:window.location.protocol,h=l.host.length?l.port==="80"||l.port==="443"?l.hostname:l.host:window.location.host;return l.origin||`${u}//${h}`})(e=e||this.url);let r,i=0;return new Promise((s,l)=>{const u=A=>!!Gn(A,n)&&(A.data.postmate==="handshake-reply"?(clearInterval(r),this.parent.removeEventListener("message",u,!1),this.childOrigin=A.origin,s(new Ur(this))):l("Failed handshake"));this.parent.addEventListener("message",u,!1);const h=()=>{i++,this.child.postMessage({postmate:"handshake",type:Ve,model:this.model},n),i===5&&clearInterval(r)};this.frame.addEventListener("load",()=>{h(),r=setInterval(h,500)}),this.frame.src=e})}destroy(){this.frame.parentNode.removeChild(this.frame)}}Z(Wn,"debug",!1),Z(Wn,"Model",void 0);class zr{constructor(e){Z(this,"child",void 0),Z(this,"model",void 0),Z(this,"parent",void 0),Z(this,"parentOrigin",void 0),this.child=window,this.model=e,this.parent=this.child.parent}sendHandshakeReply(){return new Promise((e,n)=>{const r=i=>{if(i.data.postmate){if(i.data.postmate==="handshake"){this.child.removeEventListener("message",r,!1),i.source.postMessage({postmate:"handshake-reply",type:Ve},i.origin),this.parentOrigin=i.origin;const s=i.data.model;return s&&Object.keys(s).forEach(l=>{this.model[l]=s[l]}),e(new $r(this))}return n("Handshake Reply Failed")}};this.child.addEventListener("message",r,!1)})}}function rn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const{importHTML:qr,createSandboxContainer:Hr}=window.QSandbox||{};function Br(t,e){return t.startsWith("http")?fetch(t,e):(t=t.replace("file://",""),new Promise(async(n,r)=>{try{const i=await window.apis.doAction(["readFile",t]);n({text:()=>i})}catch(i){console.error(i),r(i)}}))}class Gr extends vt(){constructor(e){super(),rn(this,"_pluginLocal",void 0),rn(this,"_frame",void 0),rn(this,"_root",void 0),rn(this,"_loaded",!1),rn(this,"_unmountFns",[]),this._pluginLocal=e,e._dispose(()=>{this._unmount()})}async load(){const{name:e,entry:n}=this._pluginLocal.options;if(this.loaded||!n)return;const{template:r,execScripts:i}=await qr(n,{fetch:Br});this._mount(r,document.body);const s=Hr(e,{elementGetter:()=>{var u;return(u=this._root)===null||u===void 0?void 0:u.firstChild}}).instance.proxy;s.__shadow_mode__=!0,s.LSPluginLocal=this._pluginLocal,s.LSPluginShadow=this,s.LSPluginUser=s.logseq=new rr(this._pluginLocal.toJSON(),this._pluginLocal.caller);const l=await i(s,!0);this._unmountFns.push(l.unmount),this._loaded=!0}_mount(e,n){const r=this._frame=document.createElement("div");r.classList.add("lsp-shadow-sandbox"),r.id=this._pluginLocal.id,this._root=r.attachShadow({mode:"open"}),this._root.innerHTML=`<div>${e}</div>`,n.appendChild(r),this.emit("mounted")}_unmount(){for(const e of this._unmountFns)e&&e.call(null)}destroy(){var e,n;(e=this.frame)===null||e===void 0||(n=e.parentNode)===null||n===void 0||n.removeChild(this.frame)}get loaded(){return this._loaded}get document(){var e;return(e=this._root)===null||e===void 0?void 0:e.firstChild}get frame(){return this._frame}}function We(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const ct=De()("LSPlugin:caller"),on="#await#response#",Wr="#lspmsg#",sr="#lspmsg#error#",kn=t=>`#lspmsg#${t}`;class Jr extends vt(){constructor(e){super(),We(this,"_pluginLocal",void 0),We(this,"_connected",!1),We(this,"_parent",void 0),We(this,"_child",void 0),We(this,"_shadow",void 0),We(this,"_status",void 0),We(this,"_userModel",{}),We(this,"_call",void 0),We(this,"_callUserModel",void 0),We(this,"_debugTag",""),this._pluginLocal=e,e&&(this._debugTag=e.debugTag)}async connectToChild(){if(this._connected)return;const{shadow:e}=this._pluginLocal;e?await this._setupShadowSandbox():await this._setupIframeSandbox()}async connectToParent(e={}){if(this._connected)return;const n=this,r=this._pluginLocal!=null;let i=0;const s=new Map,l=ve(6e4),u=this._extendUserModel({"#lspmsg#ready#":async j=>{u[kn(j==null?void 0:j.pid)]=({type:T,payload:$})=>{ct(`[host (_call) -> *user] ${this._debugTag}`,T,$),n.emit(T,$)},await l.resolve()},"#lspmsg#beforeunload#":async j=>{const T=ve(1e4);n.emit("beforeunload",Object.assign({actor:T},j)),await T.promise},"#lspmsg#settings#":async({type:j,payload:T})=>{n.emit("settings:changed",T)},[Wr]:async({ns:j,type:T,payload:$})=>{ct(`[host (async) -> *user] ${this._debugTag} ns=${j} type=${T}`,$),j&&j.startsWith("hook")?n.emit(`${j}:${T}`,$):n.emit(T,$)},"#lspmsg#reply#":({_sync:j,result:T})=>{if(ct(`[sync host -> *user] #${j}`,T),s.has(j)){const $=s.get(j);$&&(T!=null&&T.hasOwnProperty(sr)?$.reject(T[sr]):$.resolve(T),s.delete(j))}},...e});var h;if(r)return await l.promise,JSON.parse(JSON.stringify((h=this._pluginLocal)===null||h===void 0?void 0:h.toJSON()));const A=new zr(u).sendHandshakeReply();return this._status="pending",await A.then(j=>{this._child=j,this._connected=!0,this._call=async(T,$={},W)=>{if(W){const q=++i;s.set(q,W),$._sync=q,W.setTag(`async call #${q}`),ct(`async call #${q}`)}return j.emit(kn(u.baseInfo.id),{type:T,payload:$}),W==null?void 0:W.promise},this._callUserModel=async(T,$)=>{try{u[T]($)}catch{ct(`[model method] #${T} not existed`)}},setInterval(()=>{if(s.size>100)for(const[T,$]of s)$.settled&&s.delete(T)},18e5)}).finally(()=>{this._status=void 0}),await l.promise,u.baseInfo}async call(e,n={}){var r;return(r=this._call)===null||r===void 0?void 0:r.call(this,e,n)}async callAsync(e,n={}){var r;const i=ve(1e4);return(r=this._call)===null||r===void 0?void 0:r.call(this,e,n,i)}async callUserModel(e,...n){var r;return(r=this._callUserModel)===null||r===void 0?void 0:r.apply(this,[e,...n])}async callUserModelAsync(e,...n){var r;return e=`${on}${e}`,(r=this._callUserModel)===null||r===void 0?void 0:r.apply(this,[e,...n])}async _setupIframeSandbox(){const e=this._pluginLocal,n=e.id,r=`${n}_lsp_main`,i=new URL(e.options.entry);i.searchParams.set("__v__",e.options.version);const s=document.querySelector(`#${r}`);s&&s.parentElement.removeChild(s);const l=document.createElement("div");l.classList.add("lsp-iframe-sandbox-container"),l.id=r,l.dataset.pid=n;try{var u;const T=(u=await this._pluginLocal._loadLayoutsData())===null||u===void 0?void 0:u.$$0;if(T){l.dataset.inited_layout="true";let{width:$,height:W,left:q,top:ne,vw:pe,vh:Ae}=T;q=Math.max(q,0),q=typeof pe=="number"?`${Math.min(100*q/pe,99)}%`:`${q}px`,ne=Math.max(ne,45),ne=typeof Ae=="number"?`${Math.min(100*ne/Ae,99)}%`:`${ne}px`,Object.assign(l.style,{width:$+"px",height:W+"px",left:q,top:ne})}}catch(T){console.error("[Restore Layout Error]",T)}document.body.appendChild(l);const h=new Wn({id:n+"_iframe",container:l,url:i.href,classListArray:["lsp-iframe-sandbox"],model:{baseInfo:JSON.parse(JSON.stringify(e.toJSON()))}});let A,j=h.sendHandshake();return this._status="pending",new Promise((T,$)=>{A=setTimeout(()=>{$(new Error("handshake Timeout")),h.destroy()},4e3),j.then(W=>{this._parent=W,this._connected=!0,this.emit("connected"),W.on(kn(e.id),({type:q,payload:ne})=>{var pe,Ae;ct("[user -> *host] ",q,ne),(pe=this._pluginLocal)===null||pe===void 0||pe.emit(q,ne||{}),(Ae=this._pluginLocal)===null||Ae===void 0||Ae.caller.emit(q,ne||{})}),this._call=async(...q)=>{await W.call(kn(e.id),{type:q[0],payload:Object.assign(q[1]||{},{$$pid:e.id})})},this._callUserModel=async(q,...ne)=>{if(q.startsWith(on))return await W.get(q.replace(on,""),...ne);W.call(q,ne==null?void 0:ne[0])},T(null)}).catch(W=>{$(W)}).finally(()=>{clearTimeout(A)})}).catch(T=>{throw ct("[iframe sandbox] error",T),T}).finally(()=>{this._status=void 0})}async _setupShadowSandbox(){const e=this._pluginLocal,n=this._shadow=new Gr(e);try{this._status="pending",await n.load(),this._connected=!0,this.emit("connected"),this._call=async(r,i={},s)=>{var l;return s&&(i.actor=s),(l=this._pluginLocal)===null||l===void 0||l.emit(r,Object.assign(i,{$$pid:e.id})),s==null?void 0:s.promise},this._callUserModel=async(...r)=>{var i;let s=r[0];(i=s)!==null&&i!==void 0&&i.startsWith(on)&&(s=s.replace(on,""));const l=r[1]||{},u=this._userModel[s];typeof u=="function"&&await u.call(null,l)}}catch(r){throw ct("[shadow sandbox] error",r),r}finally{this._status=void 0}}_extendUserModel(e){return Object.assign(this._userModel,e)}_getSandboxIframeContainer(){var e;return(e=this._parent)===null||e===void 0?void 0:e.frame.parentNode}_getSandboxShadowContainer(){var e;return(e=this._shadow)===null||e===void 0?void 0:e.frame.parentNode}_getSandboxIframeRoot(){var e;return(e=this._parent)===null||e===void 0?void 0:e.frame}_getSandboxShadowRoot(){var e;return(e=this._shadow)===null||e===void 0?void 0:e.frame}set debugTag(e){this._debugTag=e}async destroy(){var e;let n=null;this._parent&&(n=this._getSandboxIframeContainer(),await this._parent.destroy()),this._shadow&&(n=this._getSandboxShadowContainer(),this._shadow.destroy()),(e=n)===null||e===void 0||e.parentNode.removeChild(n)}}function cr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class lr{constructor(e,n){cr(this,"ctx",void 0),cr(this,"opts",void 0),this.ctx=e,this.opts=n}get ctxId(){return this.ctx.baseInfo.id}setItem(e,n){var r;return this.ctx.caller.callAsync("api:call",{method:"write-plugin-storage-file",args:[this.ctxId,e,n,(r=this.opts)===null||r===void 0?void 0:r.assets]})}getItem(e){var n;return this.ctx.caller.callAsync("api:call",{method:"read-plugin-storage-file",args:[this.ctxId,e,(n=this.opts)===null||n===void 0?void 0:n.assets]})}removeItem(e){var n;return this.ctx.caller.call("api:call",{method:"unlink-plugin-storage-file",args:[this.ctxId,e,(n=this.opts)===null||n===void 0?void 0:n.assets]})}allKeys(){var e;return this.ctx.caller.callAsync("api:call",{method:"list-plugin-storage-files",args:[this.ctxId,(e=this.opts)===null||e===void 0?void 0:e.assets]})}clear(){var e;return this.ctx.caller.call("api:call",{method:"clear-plugin-storage-files",args:[this.ctxId,(e=this.opts)===null||e===void 0?void 0:e.assets]})}hasItem(e){var n;return this.ctx.caller.callAsync("api:call",{method:"exist-plugin-storage-file",args:[this.ctxId,e,(n=this.opts)===null||n===void 0?void 0:n.assets]})}}class Yr{constructor(e){var n,r,i;i=void 0,(r="ctx")in(n=this)?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,this.ctx=e}get React(){return this.ensureHostScope().React}get ReactDOM(){return this.ensureHostScope().ReactDOM}get pluginLocal(){return this.ensureHostScope().LSPluginCore.ensurePlugin(this.ctx.baseInfo.id)}invokeExperMethod(e,...n){var r,i;const s=this.ensureHostScope();return e=(r=x(e))===null||r===void 0?void 0:r.toLowerCase(),(i=s.logseq.api["exper_"+e])===null||i===void 0?void 0:i.apply(s,n)}async loadScripts(...e){(e=e.map(n=>n!=null&&n.startsWith("http")?n:this.ctx.resolveResourceFullUrl(n))).unshift(this.ctx.baseInfo.id),await this.invokeExperMethod("loadScripts",...e)}registerFencedCodeRenderer(e,n){return this.ensureHostScope().logseq.api.exper_register_fenced_code_renderer(this.ctx.baseInfo.id,e,n)}registerExtensionsEnhancer(e,n){const r=this.ensureHostScope();return e==="katex"&&r.katex&&n(r.katex).catch(console.error),r.logseq.api.exper_register_extensions_enhancer(this.ctx.baseInfo.id,e,n)}ensureHostScope(){if(window===top)throw new Error("Can not access host scope!");return top}}function Tt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const ur=t=>`task_callback_${t}`;class Zr{constructor(e,n,r={}){Tt(this,"_client",void 0),Tt(this,"_requestId",void 0),Tt(this,"_requestOptions",void 0),Tt(this,"_promise",void 0),Tt(this,"_aborted",!1),this._client=e,this._requestId=n,this._requestOptions=r,this._promise=new Promise((u,h)=>{if(!this._requestId)return h(null);this._client.once(ur(this._requestId),A=>{A&&A instanceof Error?h(A):u(A)})});const{success:i,fail:s,final:l}=this._requestOptions;this._promise.then(u=>{i==null||i(u)}).catch(u=>{s==null||s(u)}).finally(()=>{l==null||l()})}abort(){this._requestOptions.abortable&&!this._aborted&&(this._client.ctx._execCallableAPI("http_request_abort",this._requestId),this._aborted=!0)}get promise(){return this._promise}get client(){return this._client}get requestId(){return this._requestId}}class Jn extends tn.EventEmitter{constructor(e){super(),Tt(this,"_ctx",void 0),this._ctx=e,this.ctx.caller.on("#lsp#request#callback",n=>{const r=n==null?void 0:n.requestId;r&&this.emit(ur(r),n==null?void 0:n.payload)})}static createRequestTask(e,n,r){return new Zr(e,n,r)}async _request(e){const n=this.ctx.baseInfo.id,{success:r,fail:i,final:s,...l}=e,u=this.ctx.Experiments.invokeExperMethod("request",n,l),h=Jn.createRequestTask(this.ctx.Request,u,e);return l.abortable?h:h.promise}get ctx(){return this._ctx}}const Qr=fn(Object.keys,Object);var Vr=Object.prototype.hasOwnProperty;const Kr=function(t){if(!Ft(t))return Qr(t);var e=[];for(var n in Object(t))Vr.call(t,n)&&n!="constructor"&&e.push(n);return e},Yn=function(t){return dt(t)?St(t):Kr(t)},Xr=function(t,e){return t&&sn(t,e,Yn)},eo=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},to=function(t){return this.__data__.has(t)};function Sn(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Pe;++e<n;)this.add(t[e])}Sn.prototype.add=Sn.prototype.push=eo,Sn.prototype.has=to;const no=Sn,ro=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},oo=function(t,e){return t.has(e)},pr=function(t,e,n,r,i,s){var l=1&n,u=t.length,h=e.length;if(u!=h&&!(l&&h>u))return!1;var A=s.get(t),j=s.get(e);if(A&&j)return A==e&&j==t;var T=-1,$=!0,W=2&n?new no:void 0;for(s.set(t,e),s.set(e,t);++T<u;){var q=t[T],ne=e[T];if(r)var pe=l?r(ne,q,T,e,t,s):r(q,ne,T,t,e,s);if(pe!==void 0){if(pe)continue;$=!1;break}if(W){if(!ro(e,function(Ae,Ke){if(!oo(W,Ke)&&(q===Ae||i(q,Ae,n,r,s)))return W.push(Ke)})){$=!1;break}}else if(q!==ne&&!i(q,ne,n,r,s)){$=!1;break}}return s.delete(t),s.delete(e),$},io=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n},ao=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n};var fr=c?c.prototype:void 0,Zn=fr?fr.valueOf:void 0;const so=function(t,e,n,r,i,s,l){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!s(new nt(t),new nt(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return k(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=io;case"[object Set]":var h=1&r;if(u||(u=ao),t.size!=e.size&&!h)return!1;var A=l.get(t);if(A)return A==e;r|=2,l.set(t,e);var j=pr(u(t),u(e),r,i,s,l);return l.delete(t),j;case"[object Symbol]":if(Zn)return Zn.call(t)==Zn.call(e)}return!1},co=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},lo=function(t,e,n){var r=e(t);return je(t)?r:co(r,n(t))},uo=function(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var l=t[n];e(l,n,t)&&(s[i++]=l)}return s},po=function(){return[]};var fo=Object.prototype.propertyIsEnumerable,dr=Object.getOwnPropertySymbols;const ho=dr?function(t){return t==null?[]:(t=Object(t),uo(dr(t),function(e){return fo.call(t,e)}))}:po,hr=function(t){return lo(t,Yn,ho)};var go=Object.prototype.hasOwnProperty;const mo=function(t,e,n,r,i,s){var l=1&n,u=hr(t),h=u.length;if(h!=hr(e).length&&!l)return!1;for(var A=h;A--;){var j=u[A];if(!(l?j in e:go.call(e,j)))return!1}var T=s.get(t),$=s.get(e);if(T&&$)return T==e&&$==t;var W=!0;s.set(t,e),s.set(e,t);for(var q=l;++A<h;){var ne=t[j=u[A]],pe=e[j];if(r)var Ae=l?r(pe,ne,j,e,t,s):r(ne,pe,j,t,e,s);if(!(Ae===void 0?ne===pe||i(ne,pe,n,r,s):Ae)){W=!1;break}q||(q=j=="constructor")}if(W&&!q){var Ke=t.constructor,_t=e.constructor;Ke==_t||!("constructor"in t)||!("constructor"in e)||typeof Ke=="function"&&Ke instanceof Ke&&typeof _t=="function"&&_t instanceof _t||(W=!1)}return s.delete(t),s.delete(e),W},Qn=ke(a,"DataView"),Vn=ke(a,"Promise"),Kn=ke(a,"Set"),Xn=ke(a,"WeakMap");var gr="[object Map]",mr="[object Promise]",vr="[object Set]",yr="[object WeakMap]",br="[object DataView]",vo=G(Qn),yo=G(Ee),bo=G(Vn),_o=G(Kn),wo=G(Xn),bt=le;(Qn&&bt(new Qn(new ArrayBuffer(1)))!=br||Ee&&bt(new Ee)!=gr||Vn&&bt(Vn.resolve())!=mr||Kn&&bt(new Kn)!=vr||Xn&&bt(new Xn)!=yr)&&(bt=function(t){var e=le(t),n=e=="[object Object]"?t.constructor:void 0,r=n?G(n):"";if(r)switch(r){case vo:return br;case yo:return gr;case bo:return mr;case _o:return vr;case wo:return yr}return e});const _r=bt;var wr="[object Arguments]",xr="[object Array]",An="[object Object]",Cr=Object.prototype.hasOwnProperty;const xo=function(t,e,n,r,i,s){var l=je(t),u=je(e),h=l?xr:_r(t),A=u?xr:_r(e),j=(h=h==wr?An:h)==An,T=(A=A==wr?An:A)==An,$=h==A;if($&&ie(t)){if(!ie(e))return!1;l=!0,j=!1}if($&&!j)return s||(s=new Ye),l||Qe(t)?pr(t,e,n,r,i,s):so(t,e,h,n,r,i,s);if(!(1&n)){var W=j&&Cr.call(t,"__wrapped__"),q=T&&Cr.call(e,"__wrapped__");if(W||q){var ne=W?t.value():t,pe=q?e.value():e;return s||(s=new Ye),i(ne,pe,n,r,s)}}return!!$&&(s||(s=new Ye),mo(t,e,n,r,i,s))},Or=function t(e,n,r,i,s){return e===n||(e==null||n==null||!me(e)&&!me(n)?e!=e&&n!=n:xo(e,n,r,i,t,s))},Co=function(t,e,n,r){var i=n.length,s=i,l=!r;if(t==null)return!s;for(t=Object(t);i--;){var u=n[i];if(l&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<s;){var h=(u=n[i])[0],A=t[h],j=u[1];if(l&&u[2]){if(A===void 0&&!(h in t))return!1}else{var T=new Ye;if(r)var $=r(A,j,h,t,e,T);if(!($===void 0?Or(j,A,3,r,T):$))return!1}}return!0},kr=function(t){return t==t&&!Te(t)},Oo=function(t){for(var e=Yn(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,kr(i)]}return e},Sr=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},ko=function(t){var e=Oo(t);return e.length==1&&e[0][2]?Sr(e[0][0],e[0][1]):function(n){return n===t||Co(n,t,e)}},er=function(t){return typeof t=="symbol"||me(t)&&le(t)=="[object Symbol]"};var So=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ao=/^\w*$/;const tr=function(t,e){if(je(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!er(t))||Ao.test(t)||!So.test(t)||e!=null&&t in Object(e)};function nr(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var l=t.apply(this,r);return n.cache=s.set(i,l)||s,l};return n.cache=new(nr.Cache||Pe),n}nr.Cache=Pe;const Eo=nr;var jo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,To=/\\(\\)?/g;const Io=function(t){var e=Eo(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(jo,function(n,r,i,s){e.push(i?s.replace(To,"$1"):r||n)}),e}),Po=function(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i};var Ar=c?c.prototype:void 0,Er=Ar?Ar.toString:void 0;const Mo=function t(e){if(typeof e=="string")return e;if(je(e))return Po(e,t)+"";if(er(e))return Er?Er.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},No=function(t){return t==null?"":Mo(t)},jr=function(t,e){return je(t)?t:tr(t,e)?[t]:Io(No(t))},En=function(t){if(typeof t=="string"||er(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},Tr=function(t,e){for(var n=0,r=(e=jr(e,t)).length;t!=null&&n<r;)t=t[En(e[n++])];return n&&n==r?t:void 0},Lo=function(t,e,n){var r=t==null?void 0:Tr(t,e);return r===void 0?n:r},Fo=function(t,e){return t!=null&&e in Object(t)},Ro=function(t,e,n){for(var r=-1,i=(e=jr(e,t)).length,s=!1;++r<i;){var l=En(e[r]);if(!(s=t!=null&&n(t,l)))break;t=t[l]}return s||++r!=i?s:!!(i=t==null?0:t.length)&&Ut(i)&&kt(l,i)&&(je(t)||Ct(t))},Do=function(t,e){return t!=null&&Ro(t,e,Fo)},Uo=function(t,e){return tr(t)&&kr(e)?Sr(En(t),e):function(n){var r=Lo(n,t);return r===void 0&&r===e?Do(n,t):Or(e,r,3)}},$o=function(t){return function(e){return e==null?void 0:e[t]}},zo=function(t){return function(e){return Tr(e,t)}},qo=function(t){return tr(t)?$o(En(t)):zo(t)},Ho=function(t){return typeof t=="function"?t:t==null?Et:typeof t=="object"?je(t)?Uo(t[0],t[1]):ko(t):qo(t)},Bo=function(t,e){var n={};return e=Ho(e),Xr(t,function(r,i,s){xt(n,e(r,i,s),r)}),n};function Ir(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Go{constructor(e,n){Ir(this,"ctx",void 0),Ir(this,"serviceHooks",void 0),this.ctx=e,this.serviceHooks=n,e._execCallableAPI("register-search-service",e.baseInfo.id,n.name,n.options),Object.entries({query:{f:"onQuery",args:["graph","q",!0],reply:!0,transformOutput:r=>(je(r==null?void 0:r.blocks)&&(r.blocks=r.blocks.map(i=>i&&Bo(i,(s,l)=>`block/${l}`))),r)},rebuildBlocksIndice:{f:"onIndiceInit",args:["graph","blocks"]},transactBlocks:{f:"onBlocksChanged",args:["graph","data"]},truncateBlocks:{f:"onIndiceReset",args:["graph"]},removeDb:{f:"onGraph",args:["graph"]}}).forEach(([r,i])=>{const s=(l=>`service:search:${l}:${n.name}`)(r);e.caller.on(s,async l=>{if(p(n==null?void 0:n[i.f])){let u=null;try{u=await n[i.f].apply(n,(i.args||[]).map(h=>{if(l){if(h===!0)return l;if(l.hasOwnProperty(h)){const A=l[h];return delete l[h],A}}})),i.transformOutput&&(u=i.transformOutput(u))}catch(h){console.error("[SearchService] ",h),u=h}finally{i.reply&&e.caller.call(`${s}:reply`,u)}}})})}}function Ue(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Wo=Symbol.for("proxy-continue"),Jo=De()("LSPlugin:user"),Pr=new te("",{console:!0});function It(t,e,n){var r;if(typeof n!="function")return!1;const{key:i,label:s,desc:l,palette:u,keybinding:h,extras:A}=e,j=`SimpleCommandHook${i}${++Lr}`;this.Editor["on"+j](n),(r=this.caller)===null||r===void 0||r.call("api:call",{method:"register-plugin-simple-command",args:[this.baseInfo.id,[{key:i,label:s,type:t,desc:l,keybinding:h,extras:A},["editor/hook",j]],u]})}function Mr(t){return!(typeof(e=t)!="string"||e.length!==36||!/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi.test(e))||(Pr.error(`#${t} is not a valid UUID string.`),!1);var e}let jn=null,Nr=new Map;const Yo={async getInfo(t){return jn||(jn=await this._execCallableAPIAsync("get-app-info")),typeof t=="string"?jn[t]:jn},registerCommand:It,registerSearchService(t){if(Nr.has(t.name))throw new Error(`SearchService: #${t.name} has registered!`);Nr.set(t.name,new Go(this,t))},registerCommandPalette(t,e){const{key:n,label:r,keybinding:i}=t;return It.call(this,"$palette$",{key:n,label:r,palette:!0,keybinding:i},e)},registerCommandShortcut(t,e){const{binding:n}=t,r="$shortcut$",i=r+x(n);return It.call(this,r,{key:i,palette:!1,keybinding:t},e)},registerUIItem(t,e){var n;const r=this.baseInfo.id;(n=this.caller)===null||n===void 0||n.call("api:call",{method:"register-plugin-ui-item",args:[r,t,e]})},registerPageMenuItem(t,e){if(typeof e!="function")return!1;const n=t+"_"+this.baseInfo.id,r=t;It.call(this,"page-menu-item",{key:n,label:r},e)},onBlockRendererSlotted(t,e){if(!Mr(t))return;const n=this.baseInfo.id,r=`hook:editor:${x(`slot:${t}`)}`;return this.caller.on(r,e),this.App._installPluginHook(n,r),()=>{this.caller.off(r,e),this.App._uninstallPluginHook(n,r)}},invokeExternalPlugin(t,...e){var n;if(!(t=(n=t)===null||n===void 0?void 0:n.trim()))return;let[r,i]=t.split(".");if(!["models","commands"].includes(i==null?void 0:i.toLowerCase()))throw new Error("Type only support '.models' or '.commands' currently.");const s=t.replace(`${r}.${i}.`,"");if(!r||!i||!s)throw new Error(`Illegal type of #${t} to invoke external plugin.`);return this._execCallableAPIAsync("invoke_external_plugin_cmd",r,i.toLowerCase(),s,e)},setFullScreen(t){const e=(...n)=>this._callWin("setFullScreen",...n);t==="toggle"?this._callWin("isFullScreen").then(n=>{n?e():e(!0)}):t?e(!0):e()}};let Lr=0;const Zo={newBlockUUID(){return this._execCallableAPIAsync("new_block_uuid")},registerSlashCommand(t,e){var n;Jo("Register slash command #",this.baseInfo.id,t,e),typeof e=="function"&&(e=[["editor/clear-current-slash",!1],["editor/restore-saved-cursor"],["editor/hook",e]]),e=e.map(r=>{const[i,...s]=r;if(i==="editor/hook"){let l=s[0],u=()=>{var A;(A=this.caller)===null||A===void 0||A.callUserModel(l)};typeof l=="function"&&(u=l);const h=`SlashCommandHook${i}${++Lr}`;r[1]=h,this.Editor["on"+h](u)}return r}),(n=this.caller)===null||n===void 0||n.call("api:call",{method:"register-plugin-slash-command",args:[this.baseInfo.id,[t,e]]})},registerBlockContextMenuItem(t,e){if(typeof e!="function")return!1;const n=t+"_"+this.baseInfo.id;It.call(this,"block-context-menu-item",{key:n,label:t},e)},registerHighlightContextMenuItem(t,e,n){if(typeof e!="function")return!1;const r=t+"_"+this.baseInfo.id;It.call(this,"highlight-context-menu-item",{key:r,label:t,extras:n},e)},scrollToBlockInPage(t,e,n){const r="block-content-"+e;n!=null&&n.replaceState?this.App.replaceState("page",{name:t},{anchor:r}):this.App.pushState("page",{name:t},{anchor:r})}},Qo={onBlockChanged(t,e){if(!Mr(t))return;const n=this.baseInfo.id,r=`hook:db:${x(`block:${t}`)}`,i=({block:s,txData:l,txMeta:u})=>{s.uuid===t&&e(s,l,u)};return this.caller.on(r,i),this.App._installPluginHook(n,r),()=>{this.caller.off(r,i),this.App._uninstallPluginHook(n,r)}},datascriptQuery(t,...e){return e.pop(),e!=null&&e.some(n=>typeof n=="function")?this.Experiments.ensureHostScope().logseq.api.datascript_query(t,...e):this._execCallableAPIAsync("datascript_query",t,...e)}},Vo={},Ko={},Xo={makeSandboxStorage(){return new lr(this,{assets:!0})}};class rr extends vt(){constructor(e,n){super(),Ue(this,"_baseInfo",void 0),Ue(this,"_caller",void 0),Ue(this,"_version","0.0.15"),Ue(this,"_debugTag",""),Ue(this,"_settingsSchema",void 0),Ue(this,"_connected",!1),Ue(this,"_ui",new Map),Ue(this,"_mFileStorage",void 0),Ue(this,"_mRequest",void 0),Ue(this,"_mExperiments",void 0),Ue(this,"_beforeunloadCallback",void 0),this._baseInfo=e,this._caller=n,n.on("sys:ui:visible",r=>{r!=null&&r.toggle&&this.toggleMainUI()}),n.on("settings:changed",r=>{const i=Object.assign({},this.settings),s=Object.assign(this._baseInfo.settings,r);this.emit("settings:changed",{...s},i)}),n.on("beforeunload",async r=>{const{actor:i,...s}=r,l=this._beforeunloadCallback;try{l&&await l(s),i==null||i.resolve(null)}catch(u){console.debug(`${n.debugTag} [beforeunload] `,u),i==null||i.reject(u)}})}async ready(e,n){if(!this._connected)try{var r;typeof e=="function"&&(n=e,e={});let i=await this._caller.connectToParent(e);this._connected=!0,i=_(this._baseInfo,i),(r=i)!==null&&r!==void 0&&r.id&&(this._debugTag=this._caller.debugTag=`#${i.id} [${i.name}]`,this.logger.setTag(this._debugTag)),this._settingsSchema&&(i.settings=function(s,l){const u=(l||[]).reduce((h,A)=>("default"in A&&(h[A.key]=A.default),h),{});return Object.assign(u,s)}(i.settings,this._settingsSchema),await this.useSettingsSchema(this._settingsSchema));try{await this._execCallableAPIAsync("setSDKMetadata",{version:this._version})}catch(s){console.warn(s)}n&&n.call(this,i)}catch(i){console.error(`${this._debugTag} [Ready Error]`,i)}}ensureConnected(){if(!this._connected)throw new Error("not connected")}beforeunload(e){typeof e=="function"&&(this._beforeunloadCallback=e)}provideModel(e){return this.caller._extendUserModel(e),this}provideTheme(e){return this.caller.call("provider:theme",e),this}provideStyle(e){return this.caller.call("provider:style",e),this}provideUI(e){return this.caller.call("provider:ui",e),this}useSettingsSchema(e){return this.connected&&this.caller.call("settings:schema",{schema:e,isSync:!0}),this._settingsSchema=e,this}updateSettings(e){this.caller.call("settings:update",e)}onSettingsChanged(e){const n="settings:changed";return this.on(n,e),()=>this.off(n,e)}showSettingsUI(){this.caller.call("settings:visible:changed",{visible:!0})}hideSettingsUI(){this.caller.call("settings:visible:changed",{visible:!1})}setMainUIAttrs(e){this.caller.call("main-ui:attrs",e)}setMainUIInlineStyle(e){this.caller.call("main-ui:style",e)}hideMainUI(e){const n={key:0,visible:!1,cursor:e==null?void 0:e.restoreEditingCursor};this.caller.call("main-ui:visible",n),this.emit("ui:visible:changed",n),this._ui.set(n.key,n)}showMainUI(e){const n={key:0,visible:!0,autoFocus:e==null?void 0:e.autoFocus};this.caller.call("main-ui:visible",n),this.emit("ui:visible:changed",n),this._ui.set(n.key,n)}toggleMainUI(){const n=this._ui.get(0);n&&n.visible?this.hideMainUI():this.showMainUI()}get version(){return this._version}get isMainUIVisible(){const e=this._ui.get(0);return!!(e&&e.visible)}get connected(){return this._connected}get baseInfo(){return this._baseInfo}get effect(){return(e=this)&&(((n=e.baseInfo)===null||n===void 0?void 0:n.effect)||!((r=e.baseInfo)!==null&&r!==void 0&&r.iir));var e,n,r}get logger(){return Pr}get settings(){var e;return(e=this.baseInfo)===null||e===void 0?void 0:e.settings}get caller(){return this._caller}resolveResourceFullUrl(e){if(this.ensureConnected(),e)return e=e.replace(/^[.\\/]+/,""),ce(this._baseInfo.lsr,e)}_makeUserProxy(e,n){const r=this,i=this.caller;return new Proxy(e,{get(s,l,u){const h=s[l];return function(...A){if(h){const T=h.apply(r,A.concat(n));if(T!==Wo)return T}if(n){const T=l.toString().match(/^(once|off|on)/i);if(T!=null){const $=T[0].toLowerCase(),W=T.input.slice($.length),q=$==="off",ne=r.baseInfo.id,pe=`hook:${n}:${x(W)}`,Ae=A[0],Ke=A[1];i[$](pe,Ae);const _t=()=>{i.off(pe,Ae),i.listenerCount(pe)||r.App._uninstallPluginHook(ne,pe)};return q?void _t():(r.App._installPluginHook(ne,pe,Ke),_t)}}let j=l;return["git","ui","assets"].includes(n)&&(j=n+"_"+j),i.callAsync("api:call",{tag:n,method:j,args:A})}}})}_execCallableAPIAsync(e,...n){return this._caller.callAsync("api:call",{method:e,args:n})}_execCallableAPI(e,...n){this._caller.call("api:call",{method:e,args:n})}_callWin(...e){return this._execCallableAPIAsync("_callMainWin",...e)}get App(){return this._makeUserProxy(Yo,"app")}get Editor(){return this._makeUserProxy(Zo,"editor")}get DB(){return this._makeUserProxy(Qo,"db")}get Git(){return this._makeUserProxy(Vo,"git")}get UI(){return this._makeUserProxy(Ko,"ui")}get Assets(){return this._makeUserProxy(Xo,"assets")}get FileStorage(){let e=this._mFileStorage;return e||(e=this._mFileStorage=new lr(this)),e}get Request(){let e=this._mRequest;return e||(e=this._mRequest=new Jn(this)),e}get Experiments(){let e=this._mExperiments;return e||(e=this._mExperiments=new Yr(this)),e}}function Fr(t,e){return new rr(t,e)}if(window.__LSP__HOST__==null){const t=new Jr(null);window.logseq=Fr({},t)}})(),we})())})(In,In.exports);In.exports;const ei=[{content:"This is a page to gather all your Projects, Areas, Resources and Archive together.",children:[{content:"To list all your Projects, we use any page that has its `page-type` set to `project`, or any page that is being linked to using `project::`. The same goes for Areas and Resources."},{content:"Archive is any page that has `archived` set to `true`.",children:[{content:"This functionality is not implemented yet"}]}]},{content:"## Projects",children:[{content:`
#+BEGIN_QUERY
{
  :query [:find (pull ?page [*])
         :where
         (or-join [?page]
                  (and [_ :block/properties ?prop]
                       [(get ?prop :project) ?page1]
                       [(str ?page1) ?page11]
                       [_ :block/refs ?page]

                       [?page :block/original-name ?page2]
                       [(str "#{\\"" ?page2 "\\"}") ?page22]

                       [(= ?page22 ?page11)]
                       )
                  (and
                    [?page :block/name]
                    [?page :block/properties ?prop3]
                    [?page :block/original-name ?page3-name]
                    [(get ?prop3 :page-type) ?v]
                    (or [(= ?v "project")] [(contains? ?v "project")])
                    )
                  )
         ]
 :view (fn [result]
          [:div.flex.flex-col
          (for [page result]
            [:a {:href (str "#/page/" (get page :block/original-name))} (get page :block/original-name) ]
            )
         [:hr]
          ]
         )
}
#+END_QUERY`}]},{content:"## Areas",children:[{content:`#+BEGIN_QUERY
{
 :query [:find (pull ?page [*])
         :where
         (or-join [?page]
                  (and [_ :block/properties ?prop]
                       [(get ?prop :area) ?page1]
                       [(str ?page1) ?page11]

                       [_ :block/refs ?page]
                       [?page :block/original-name ?page2]
                       [(str "#{\\"" ?page2 "\\"}") ?page22]

                       [(= ?page22 ?page11)]
                       )
                  (and
                    [?page :block/name]
                    [?page :block/properties ?prop3]
                    [?page :block/original-name ?page3-name]
                    [(get ?prop3 :page-type) ?v]
                    (or [(= ?v "area")] [(contains? ?v "area")])
                    )
                  )
         ]
 :view (fn [result]
          [:div.flex.flex-col
          (for [page result]
            [:a {:href (str "#/page/" (get page :block/original-name))} (get page :block/original-name) ]
            )
         [:hr]
          ]
         )
 }
#+END_QUERY`}]},{content:"## Resources",children:[{content:`#+BEGIN_QUERY
{
 :query [:find (pull ?page [*])
         :where
         (or-join [?page]
                  (and [_ :block/properties ?prop]
                       [(get ?prop :resource) ?page1]
                       [(str ?page1) ?page11]

                       [_ :block/refs ?page]
                       [?page :block/original-name ?page2]
                       [(str "#{\\"" ?page2 "\\"}") ?page22]

                       [(= ?page22 ?page11)]
                       )
                  (and
                    [?page :block/name]
                    [?page :block/properties ?prop3]
                    [?page :block/original-name ?page3-name]
                    [(get ?prop3 :page-type) ?v]
                    (or [(= ?v "resource")] [(contains? ?v "resource")])
                    )
                  )
         ]
 :view (fn [result]
          [:div.flex.flex-col
          (for [page result]
            [:a {:href (str "#/page/" (get page :block/original-name))} (get page :block/original-name) ]
            )
         [:hr]
          ]
         )
 }
#+END_QUERY`}]}];async function Rr(X,fe){const Ne=await logseq.Editor.getCurrentPage(),J=(await logseq.Editor.getCurrentPageBlocksTree())[0];if(Ne.properties===void 0||Object.keys(Ne.properties).length===0){const U={};U[X]=fe,await logseq.Editor.insertBlock(J.uuid,"",{properties:U,sibling:!0,before:!0,focus:!0,isPageBlock:!0})}else await logseq.Editor.upsertBlockProperty(J.uuid,X,fe),await logseq.Editor.editBlock(J.uuid)}async function or(X){await Rr(X,"")}async function ir(X){await Rr("page-type",X)}function ti(X){const{rect:fe}=X,Ne=`
    <div id="addParaPropertiesMenu" class="hidden-picker">
      <span><button data-on-click="createParaRootPage">Create PARA Root Page</button></span>
    </div>
    `;logseq.provideStyle(`
    #addParaPropertiesMenu {
      font-family: Roboto, sans-serif;
      font-size: 12px;
      font-weight: 600;
      padding: 8px 0;
      border-radius: 6px;
    }
  `),logseq.provideUI({key:"add-para-properties-menu",template:Ne,close:"outside",style:{width:"200px",top:`${fe.top+40}px`,left:`${fe.right-100}px`}})}function ni(){return ei}async function ri(){const X="PARA";if(await logseq.Editor.getPage(X)===null){const Ne=await logseq.Editor.createPage(X,{},{createFirstBlock:!1,redirect:!0});await logseq.Editor.insertBatchBlock(Ne.uuid,ni())}else logseq.Editor.openInRightSidebar(X),logseq.UI.showMsg("A page called 'PARA' already exists.","warning")}logseq.ready(()=>{logseq.Editor.registerSlashCommand("Project [file this page under a project]",async X=>{or("project")}),logseq.Editor.registerSlashCommand("Area [file this page under an area]",async X=>{or("area")}),logseq.Editor.registerSlashCommand("Resource [file this page under a resource]",async X=>{or("resource")}),logseq.Editor.registerSlashCommand("Make this page a Project [using page-type]",async X=>{ir("project")}),logseq.Editor.registerSlashCommand("Make this page an Area [using page-type]",async X=>{ir("area")}),logseq.Editor.registerSlashCommand("Make this page a Resource [using page-type]",async X=>{ir("resource")}),logseq.provideModel({createParaRootPage:()=>{console.log("createParaRootPage"),ri()},openAddParaPropertiesMenuBar:X=>{console.log("openAddParaPropertiesMenuBar"),ti(X)}}),logseq.App.registerUIItem("toolbar",{key:"add-para-properties",template:`
                <button
                class="button" id="add-para-properties"
                data-on-click="openAddParaPropertiesMenuBar" data-rect>
                    <span id="add-para-properties-icon" style="font-size: 10px">
                        PARA
                    </span>
                </button>
            `})}).catch(console.error);
