(function(){const G=document.createElement("link").relList;if(G&&G.supports&&G.supports("modulepreload"))return;for(const H of document.querySelectorAll('link[rel="modulepreload"]'))je(H);new MutationObserver(H=>{for(const pe of H)if(pe.type==="childList")for(const $ of pe.addedNodes)$.tagName==="LINK"&&$.rel==="modulepreload"&&je($)}).observe(document,{childList:!0,subtree:!0});function Fe(H){const pe={};return H.integrity&&(pe.integrity=H.integrity),H.referrerPolicy&&(pe.referrerPolicy=H.referrerPolicy),H.crossOrigin==="use-credentials"?pe.credentials="include":H.crossOrigin==="anonymous"?pe.credentials="omit":pe.credentials="same-origin",pe}function je(H){if(H.ep)return;H.ep=!0;const pe=Fe(H);fetch(H.href,pe)}})();var Tn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Nn={exports:{}};/*! For license information please see lsplugin.user.js.LICENSE.txt */Nn.exports;(function(W,G){(function(Fe,je){W.exports=je()})(self,()=>(()=>{var Fe={227:($,p,O)=>{var T=O(155);p.formatArgs=function(N){if(N[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+N[0]+(this.useColors?"%c ":" ")+"+"+$.exports.humanize(this.diff),!this.useColors)return;const Q="color: "+this.color;N.splice(1,0,Q,"color: inherit");let v=0,d=0;N[0].replace(/%[a-zA-Z%]/g,y=>{y!=="%%"&&(v++,y==="%c"&&(d=v))}),N.splice(d,0,Q)},p.save=function(N){try{N?p.storage.setItem("debug",N):p.storage.removeItem("debug")}catch{}},p.load=function(){let N;try{N=p.storage.getItem("debug")}catch{}return!N&&T!==void 0&&"env"in T&&(N=T.env.DEBUG),N},p.useColors=function(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},p.storage=function(){try{return localStorage}catch{}}(),p.destroy=(()=>{let N=!1;return()=>{N||(N=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),p.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],p.log=console.debug||console.log||(()=>{}),$.exports=O(447)(p);const{formatters:S}=$.exports;S.j=function(N){try{return JSON.stringify(N)}catch(Q){return"[UnexpectedJSONParseError]: "+Q.message}}},447:($,p,O)=>{$.exports=function(T){function S(v){let d,y,b,D=null;function L(...R){if(!L.enabled)return;const q=L,E=Number(new Date),F=E-(d||E);q.diff=F,q.prev=d,q.curr=E,d=E,R[0]=S.coerce(R[0]),typeof R[0]!="string"&&R.unshift("%O");let a=0;R[0]=R[0].replace(/%([a-zA-Z%])/g,(c,g)=>{if(c==="%%")return"%";a++;const C=S.formatters[g];if(typeof C=="function"){const J=R[a];c=C.call(q,J),R.splice(a,1),a--}return c}),S.formatArgs.call(q,R),(q.log||S.log).apply(q,R)}return L.namespace=v,L.useColors=S.useColors(),L.color=S.selectColor(v),L.extend=N,L.destroy=S.destroy,Object.defineProperty(L,"enabled",{enumerable:!0,configurable:!1,get:()=>D!==null?D:(y!==S.namespaces&&(y=S.namespaces,b=S.enabled(v)),b),set:R=>{D=R}}),typeof S.init=="function"&&S.init(L),L}function N(v,d){const y=S(this.namespace+(d===void 0?":":d)+v);return y.log=this.log,y}function Q(v){return v.toString().substring(2,v.toString().length-2).replace(/\.\*\?$/,"*")}return S.debug=S,S.default=S,S.coerce=function(v){return v instanceof Error?v.stack||v.message:v},S.disable=function(){const v=[...S.names.map(Q),...S.skips.map(Q).map(d=>"-"+d)].join(",");return S.enable(""),v},S.enable=function(v){let d;S.save(v),S.namespaces=v,S.names=[],S.skips=[];const y=(typeof v=="string"?v:"").split(/[\s,]+/),b=y.length;for(d=0;d<b;d++)y[d]&&((v=y[d].replace(/\*/g,".*?"))[0]==="-"?S.skips.push(new RegExp("^"+v.slice(1)+"$")):S.names.push(new RegExp("^"+v+"$")))},S.enabled=function(v){if(v[v.length-1]==="*")return!0;let d,y;for(d=0,y=S.skips.length;d<y;d++)if(S.skips[d].test(v))return!1;for(d=0,y=S.names.length;d<y;d++)if(S.names[d].test(v))return!0;return!1},S.humanize=O(824),S.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(T).forEach(v=>{S[v]=T[v]}),S.names=[],S.skips=[],S.formatters={},S.selectColor=function(v){let d=0;for(let y=0;y<v.length;y++)d=(d<<5)-d+v.charCodeAt(y),d|=0;return S.colors[Math.abs(d)%S.colors.length]},S.enable(S.load()),S}},856:function($){$.exports=function(){function p(w){return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},p(w)}function O(w,A){return O=Object.setPrototypeOf||function(z,K){return z.__proto__=K,z},O(w,A)}function T(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function S(w,A,z){return S=T()?Reflect.construct:function(K,ie,Pe){var Ve=[null];Ve.push.apply(Ve,ie);var Me=new(Function.bind.apply(K,Ve));return Pe&&O(Me,Pe.prototype),Me},S.apply(null,arguments)}function N(w){return Q(w)||v(w)||d(w)||b()}function Q(w){if(Array.isArray(w))return y(w)}function v(w){if(typeof Symbol<"u"&&w[Symbol.iterator]!=null||w["@@iterator"]!=null)return Array.from(w)}function d(w,A){if(w){if(typeof w=="string")return y(w,A);var z=Object.prototype.toString.call(w).slice(8,-1);return z==="Object"&&w.constructor&&(z=w.constructor.name),z==="Map"||z==="Set"?Array.from(w):z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z)?y(w,A):void 0}}function y(w,A){(A==null||A>w.length)&&(A=w.length);for(var z=0,K=new Array(A);z<A;z++)K[z]=w[z];return K}function b(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var D=Object.hasOwnProperty,L=Object.setPrototypeOf,R=Object.isFrozen,q=Object.getPrototypeOf,E=Object.getOwnPropertyDescriptor,F=Object.freeze,a=Object.seal,c=Object.create,g=typeof Reflect<"u"&&Reflect,C=g.apply,J=g.construct;C||(C=function(w,A,z){return w.apply(A,z)}),F||(F=function(w){return w}),a||(a=function(w){return w}),J||(J=function(w,A){return S(w,N(A))});var X=te(Array.prototype.forEach),oe=te(Array.prototype.pop),he=te(Array.prototype.push),_e=te(String.prototype.toLowerCase),we=te(String.prototype.match),ue=te(String.prototype.replace),Le=te(String.prototype.indexOf),f=te(String.prototype.trim),m=te(RegExp.prototype.test),P=xe(TypeError);function te(w){return function(A){for(var z=arguments.length,K=new Array(z>1?z-1:0),ie=1;ie<z;ie++)K[ie-1]=arguments[ie];return C(w,A,K)}}function xe(w){return function(){for(var A=arguments.length,z=new Array(A),K=0;K<A;K++)z[K]=arguments[K];return J(w,z)}}function M(w,A){L&&L(w,null);for(var z=A.length;z--;){var K=A[z];if(typeof K=="string"){var ie=_e(K);ie!==K&&(R(A)||(A[z]=ie),K=ie)}w[K]=!0}return w}function Z(w){var A,z=c(null);for(A in w)C(D,w,[A])&&(z[A]=w[A]);return z}function se(w,A){for(;w!==null;){var z=E(w,A);if(z){if(z.get)return te(z.get);if(typeof z.value=="function")return te(z.value)}w=q(w)}function K(ie){return console.warn("fallback value for",ie),null}return K}var Ee=F(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ce=F(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Be=F(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),tt=F(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),fe=F(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ce=F(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Se=F(["#text"]),Oe=F(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Ie=F(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ne=F(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),De=F(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Nt=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),xt=a(/<%[\w\W]*|[\w\W]*%>/gm),Mn=a(/^data-[\-\w.\u00B7-\uFFFF]/),Dn=a(/^aria-[\-\w]+$/),Rn=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Un=a(/^(?:\w+script|data):/i),nt=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),sn=a(/^html$/i),$n=function(){return typeof window>"u"?null:window},zn=function(w,A){if(p(w)!=="object"||typeof w.createPolicy!="function")return null;var z=null,K="data-tt-policy-suffix";A.currentScript&&A.currentScript.hasAttribute(K)&&(z=A.currentScript.getAttribute(K));var ie="dompurify"+(z?"#"+z:"");try{return w.createPolicy(ie,{createHTML:function(Pe){return Pe}})}catch{return console.warn("TrustedTypes policy "+ie+" could not be created."),null}};function ut(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$n(),A=function(o){return ut(o)};if(A.version="2.3.8",A.removed=[],!w||!w.document||w.document.nodeType!==9)return A.isSupported=!1,A;var z=w.document,K=w.document,ie=w.DocumentFragment,Pe=w.HTMLTemplateElement,Ve=w.Node,Me=w.Element,Ke=w.NodeFilter,ft=w.NamedNodeMap,Ct=ft===void 0?w.NamedNodeMap||w.MozNamedAttrMap:ft,Ft=w.HTMLFormElement,cn=w.DOMParser,ln=w.trustedTypes,dt=Me.prototype,un=se(dt,"cloneNode"),fn=se(dt,"nextSibling"),Bn=se(dt,"childNodes"),rt=se(dt,"parentNode");if(typeof Pe=="function"){var Pt=K.createElement("template");Pt.content&&Pt.content.ownerDocument&&(K=Pt.content.ownerDocument)}var qe=zn(ln,z),dn=qe?qe.createHTML(""):"",pt=K,Mt=pt.implementation,pn=pt.createNodeIterator,hn=pt.createDocumentFragment,qn=pt.getElementsByTagName,Dt=z.importNode,gn={};try{gn=Z(K).documentMode?K.documentMode:{}}catch{}var ve={};A.isSupported=typeof rt=="function"&&Mt&&Mt.createHTMLDocument!==void 0&&gn!==9;var ot,He,Rt=Nt,Ut=xt,St=Mn,Te=Dn,$t=Un,ht=nt,zt=Rn,ge=null,Bt=M({},[].concat(N(Ee),N(Ce),N(Be),N(fe),N(Se))),me=null,qt=M({},[].concat(N(Oe),N(Ie),N(Ne),N(De))),ae=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),gt=null,Ht=null,Wt=!0,Gt=!0,mn=!1,it=!1,ee=!1,Jt=!1,Zt=!1,Ye=!1,We=!1,at=!1,Vt=!0,Ot=!0,Qe=!1,Ge={},st=null,vn=M({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),yn=null,bn=M({},["audio","video","img","source","image","track"]),Kt=null,At=M({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Yt="http://www.w3.org/1998/Math/MathML",jt="http://www.w3.org/2000/svg",Je="http://www.w3.org/1999/xhtml",Et=Je,_n=!1,wn=["application/xhtml+xml","text/html"],Hn="text/html",ct=null,Wn=K.createElement("form"),kt=function(o){return o instanceof RegExp||o instanceof Function},Qt=function(o){ct&&ct===o||(o&&p(o)==="object"||(o={}),o=Z(o),ge="ALLOWED_TAGS"in o?M({},o.ALLOWED_TAGS):Bt,me="ALLOWED_ATTR"in o?M({},o.ALLOWED_ATTR):qt,Kt="ADD_URI_SAFE_ATTR"in o?M(Z(At),o.ADD_URI_SAFE_ATTR):At,yn="ADD_DATA_URI_TAGS"in o?M(Z(bn),o.ADD_DATA_URI_TAGS):bn,st="FORBID_CONTENTS"in o?M({},o.FORBID_CONTENTS):vn,gt="FORBID_TAGS"in o?M({},o.FORBID_TAGS):{},Ht="FORBID_ATTR"in o?M({},o.FORBID_ATTR):{},Ge="USE_PROFILES"in o&&o.USE_PROFILES,Wt=o.ALLOW_ARIA_ATTR!==!1,Gt=o.ALLOW_DATA_ATTR!==!1,mn=o.ALLOW_UNKNOWN_PROTOCOLS||!1,it=o.SAFE_FOR_TEMPLATES||!1,ee=o.WHOLE_DOCUMENT||!1,Ye=o.RETURN_DOM||!1,We=o.RETURN_DOM_FRAGMENT||!1,at=o.RETURN_TRUSTED_TYPE||!1,Zt=o.FORCE_BODY||!1,Vt=o.SANITIZE_DOM!==!1,Ot=o.KEEP_CONTENT!==!1,Qe=o.IN_PLACE||!1,zt=o.ALLOWED_URI_REGEXP||zt,Et=o.NAMESPACE||Je,o.CUSTOM_ELEMENT_HANDLING&&kt(o.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ae.tagNameCheck=o.CUSTOM_ELEMENT_HANDLING.tagNameCheck),o.CUSTOM_ELEMENT_HANDLING&&kt(o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ae.attributeNameCheck=o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),o.CUSTOM_ELEMENT_HANDLING&&typeof o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ae.allowCustomizedBuiltInElements=o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ot=ot=wn.indexOf(o.PARSER_MEDIA_TYPE)===-1?Hn:o.PARSER_MEDIA_TYPE,He=ot==="application/xhtml+xml"?function(x){return x}:_e,it&&(Gt=!1),We&&(Ye=!0),Ge&&(ge=M({},N(Se)),me=[],Ge.html===!0&&(M(ge,Ee),M(me,Oe)),Ge.svg===!0&&(M(ge,Ce),M(me,Ie),M(me,De)),Ge.svgFilters===!0&&(M(ge,Be),M(me,Ie),M(me,De)),Ge.mathMl===!0&&(M(ge,fe),M(me,Ne),M(me,De))),o.ADD_TAGS&&(ge===Bt&&(ge=Z(ge)),M(ge,o.ADD_TAGS)),o.ADD_ATTR&&(me===qt&&(me=Z(me)),M(me,o.ADD_ATTR)),o.ADD_URI_SAFE_ATTR&&M(Kt,o.ADD_URI_SAFE_ATTR),o.FORBID_CONTENTS&&(st===vn&&(st=Z(st)),M(st,o.FORBID_CONTENTS)),Ot&&(ge["#text"]=!0),ee&&M(ge,["html","head","body"]),ge.table&&(M(ge,["tbody"]),delete gt.tbody),F&&F(o),ct=o)},Xt=M({},["mi","mo","mn","ms","mtext"]),xn=M({},["foreignobject","desc","title","annotation-xml"]),Gn=M({},["title","style","font","a","script"]),It=M({},Ce);M(It,Be),M(It,tt);var en=M({},fe);M(en,ce);var Jn=function(o){var x=rt(o);x&&x.tagName||(x={namespaceURI:Je,tagName:"template"});var _=_e(o.tagName),ne=_e(x.tagName);return o.namespaceURI===jt?x.namespaceURI===Je?_==="svg":x.namespaceURI===Yt?_==="svg"&&(ne==="annotation-xml"||Xt[ne]):!!It[_]:o.namespaceURI===Yt?x.namespaceURI===Je?_==="math":x.namespaceURI===jt?_==="math"&&xn[ne]:!!en[_]:o.namespaceURI===Je&&!(x.namespaceURI===jt&&!xn[ne])&&!(x.namespaceURI===Yt&&!Xt[ne])&&!en[_]&&(Gn[_]||!It[_])},Re=function(o){he(A.removed,{element:o});try{o.parentNode.removeChild(o)}catch{try{o.outerHTML=dn}catch{o.remove()}}},Cn=function(o,x){try{he(A.removed,{attribute:x.getAttributeNode(o),from:x})}catch{he(A.removed,{attribute:null,from:x})}if(x.removeAttribute(o),o==="is"&&!me[o])if(Ye||We)try{Re(x)}catch{}else try{x.setAttribute(o,"")}catch{}},Sn=function(o){var x,_;if(Zt)o="<remove></remove>"+o;else{var ne=we(o,/^[\r\n\t ]+/);_=ne&&ne[0]}ot==="application/xhtml+xml"&&(o='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+o+"</body></html>");var le=qe?qe.createHTML(o):o;if(Et===Je)try{x=new cn().parseFromString(le,ot)}catch{}if(!x||!x.documentElement){x=Mt.createDocument(Et,"template",null);try{x.documentElement.innerHTML=_n?"":le}catch{}}var ye=x.body||x.documentElement;return o&&_&&ye.insertBefore(K.createTextNode(_),ye.childNodes[0]||null),Et===Je?qn.call(x,ee?"html":"body")[0]:ee?x.documentElement:ye},mt=function(o){return pn.call(o.ownerDocument||o,o,Ke.SHOW_ELEMENT|Ke.SHOW_COMMENT|Ke.SHOW_TEXT,null,!1)},Zn=function(o){return o instanceof Ft&&(typeof o.nodeName!="string"||typeof o.textContent!="string"||typeof o.removeChild!="function"||!(o.attributes instanceof Ct)||typeof o.removeAttribute!="function"||typeof o.setAttribute!="function"||typeof o.namespaceURI!="string"||typeof o.insertBefore!="function")},vt=function(o){return p(Ve)==="object"?o instanceof Ve:o&&p(o)==="object"&&typeof o.nodeType=="number"&&typeof o.nodeName=="string"},Ue=function(o,x,_){ve[o]&&X(ve[o],function(ne){ne.call(A,x,_,ct)})},tn=function(o){var x;if(Ue("beforeSanitizeElements",o,null),Zn(o)||m(/[\u0080-\uFFFF]/,o.nodeName))return Re(o),!0;var _=He(o.nodeName);if(Ue("uponSanitizeElement",o,{tagName:_,allowedTags:ge}),o.hasChildNodes()&&!vt(o.firstElementChild)&&(!vt(o.content)||!vt(o.content.firstElementChild))&&m(/<[/\w]/g,o.innerHTML)&&m(/<[/\w]/g,o.textContent)||_==="select"&&m(/<template/i,o.innerHTML))return Re(o),!0;if(!ge[_]||gt[_]){if(!gt[_]&&nn(_)&&(ae.tagNameCheck instanceof RegExp&&m(ae.tagNameCheck,_)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(_)))return!1;if(Ot&&!st[_]){var ne=rt(o)||o.parentNode,le=Bn(o)||o.childNodes;if(le&&ne)for(var ye=le.length-1;ye>=0;--ye)ne.insertBefore(un(le[ye],!0),fn(o))}return Re(o),!0}return o instanceof Me&&!Jn(o)?(Re(o),!0):_!=="noscript"&&_!=="noembed"||!m(/<\/no(script|embed)/i,o.innerHTML)?(it&&o.nodeType===3&&(x=o.textContent,x=ue(x,Rt," "),x=ue(x,Ut," "),o.textContent!==x&&(he(A.removed,{element:o.cloneNode()}),o.textContent=x)),Ue("afterSanitizeElements",o,null),!1):(Re(o),!0)},On=function(o,x,_){if(Vt&&(x==="id"||x==="name")&&(_ in K||_ in Wn))return!1;if(!(Gt&&!Ht[x]&&m(St,x))){if(!(Wt&&m(Te,x))){if(!me[x]||Ht[x]){if(!(nn(o)&&(ae.tagNameCheck instanceof RegExp&&m(ae.tagNameCheck,o)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(o))&&(ae.attributeNameCheck instanceof RegExp&&m(ae.attributeNameCheck,x)||ae.attributeNameCheck instanceof Function&&ae.attributeNameCheck(x))||x==="is"&&ae.allowCustomizedBuiltInElements&&(ae.tagNameCheck instanceof RegExp&&m(ae.tagNameCheck,_)||ae.tagNameCheck instanceof Function&&ae.tagNameCheck(_))))return!1}else if(!Kt[x]){if(!m(zt,ue(_,ht,""))){if((x!=="src"&&x!=="xlink:href"&&x!=="href"||o==="script"||Le(_,"data:")!==0||!yn[o])&&!(mn&&!m($t,ue(_,ht,"")))){if(_)return!1}}}}}return!0},nn=function(o){return o.indexOf("-")>0},yt=function(o){var x,_,ne,le;Ue("beforeSanitizeAttributes",o,null);var ye=o.attributes;if(ye){var be={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:me};for(le=ye.length;le--;){var bt=x=ye[le],$e=bt.name,Y=bt.namespaceURI;if(_=$e==="value"?x.value:f(x.value),ne=He($e),be.attrName=ne,be.attrValue=_,be.keepAttr=!0,be.forceKeepAttr=void 0,Ue("uponSanitizeAttribute",o,be),_=be.attrValue,!be.forceKeepAttr&&(Cn($e,o),be.keepAttr))if(m(/\/>/i,_))Cn($e,o);else{it&&(_=ue(_,Rt," "),_=ue(_,Ut," "));var Xe=He(o.nodeName);if(On(Xe,ne,_))try{Y?o.setAttributeNS(Y,$e,_):o.setAttribute($e,_),oe(A.removed)}catch{}}}Ue("afterSanitizeAttributes",o,null)}},rn=function o(x){var _,ne=mt(x);for(Ue("beforeSanitizeShadowDOM",x,null);_=ne.nextNode();)Ue("uponSanitizeShadowNode",_,null),tn(_)||(_.content instanceof ie&&o(_.content),yt(_));Ue("afterSanitizeShadowDOM",x,null)};return A.sanitize=function(o,x){var _,ne,le,ye,be;if((_n=!o)&&(o="<!-->"),typeof o!="string"&&!vt(o)){if(typeof o.toString!="function")throw P("toString is not a function");if(typeof(o=o.toString())!="string")throw P("dirty is not a string, aborting")}if(!A.isSupported){if(p(w.toStaticHTML)==="object"||typeof w.toStaticHTML=="function"){if(typeof o=="string")return w.toStaticHTML(o);if(vt(o))return w.toStaticHTML(o.outerHTML)}return o}if(Jt||Qt(x),A.removed=[],typeof o=="string"&&(Qe=!1),Qe){if(o.nodeName){var bt=He(o.nodeName);if(!ge[bt]||gt[bt])throw P("root node is forbidden and cannot be sanitized in-place")}}else if(o instanceof Ve)(ne=(_=Sn("<!---->")).ownerDocument.importNode(o,!0)).nodeType===1&&ne.nodeName==="BODY"||ne.nodeName==="HTML"?_=ne:_.appendChild(ne);else{if(!Ye&&!it&&!ee&&o.indexOf("<")===-1)return qe&&at?qe.createHTML(o):o;if(!(_=Sn(o)))return Ye?null:at?dn:""}_&&Zt&&Re(_.firstChild);for(var $e=mt(Qe?o:_);le=$e.nextNode();)le.nodeType===3&&le===ye||tn(le)||(le.content instanceof ie&&rn(le.content),yt(le),ye=le);if(ye=null,Qe)return o;if(Ye){if(We)for(be=hn.call(_.ownerDocument);_.firstChild;)be.appendChild(_.firstChild);else be=_;return me.shadowroot&&(be=Dt.call(z,be,!0)),be}var Y=ee?_.outerHTML:_.innerHTML;return ee&&ge["!doctype"]&&_.ownerDocument&&_.ownerDocument.doctype&&_.ownerDocument.doctype.name&&m(sn,_.ownerDocument.doctype.name)&&(Y="<!DOCTYPE "+_.ownerDocument.doctype.name+`>
`+Y),it&&(Y=ue(Y,Rt," "),Y=ue(Y,Ut," ")),qe&&at?qe.createHTML(Y):Y},A.setConfig=function(o){Qt(o),Jt=!0},A.clearConfig=function(){ct=null,Jt=!1},A.isValidAttribute=function(o,x,_){ct||Qt({});var ne=He(o),le=He(x);return On(ne,le,_)},A.addHook=function(o,x){typeof x=="function"&&(ve[o]=ve[o]||[],he(ve[o],x))},A.removeHook=function(o){if(ve[o])return oe(ve[o])},A.removeHooks=function(o){ve[o]&&(ve[o]=[])},A.removeAllHooks=function(){ve={}},A}return ut()}()},729:$=>{var p=Object.prototype.hasOwnProperty,O="~";function T(){}function S(d,y,b){this.fn=d,this.context=y,this.once=b||!1}function N(d,y,b,D,L){if(typeof b!="function")throw new TypeError("The listener must be a function");var R=new S(b,D||d,L),q=O?O+y:y;return d._events[q]?d._events[q].fn?d._events[q]=[d._events[q],R]:d._events[q].push(R):(d._events[q]=R,d._eventsCount++),d}function Q(d,y){--d._eventsCount==0?d._events=new T:delete d._events[y]}function v(){this._events=new T,this._eventsCount=0}Object.create&&(T.prototype=Object.create(null),new T().__proto__||(O=!1)),v.prototype.eventNames=function(){var d,y,b=[];if(this._eventsCount===0)return b;for(y in d=this._events)p.call(d,y)&&b.push(O?y.slice(1):y);return Object.getOwnPropertySymbols?b.concat(Object.getOwnPropertySymbols(d)):b},v.prototype.listeners=function(d){var y=O?O+d:d,b=this._events[y];if(!b)return[];if(b.fn)return[b.fn];for(var D=0,L=b.length,R=new Array(L);D<L;D++)R[D]=b[D].fn;return R},v.prototype.listenerCount=function(d){var y=O?O+d:d,b=this._events[y];return b?b.fn?1:b.length:0},v.prototype.emit=function(d,y,b,D,L,R){var q=O?O+d:d;if(!this._events[q])return!1;var E,F,a=this._events[q],c=arguments.length;if(a.fn){switch(a.once&&this.removeListener(d,a.fn,void 0,!0),c){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,y),!0;case 3:return a.fn.call(a.context,y,b),!0;case 4:return a.fn.call(a.context,y,b,D),!0;case 5:return a.fn.call(a.context,y,b,D,L),!0;case 6:return a.fn.call(a.context,y,b,D,L,R),!0}for(F=1,E=new Array(c-1);F<c;F++)E[F-1]=arguments[F];a.fn.apply(a.context,E)}else{var g,C=a.length;for(F=0;F<C;F++)switch(a[F].once&&this.removeListener(d,a[F].fn,void 0,!0),c){case 1:a[F].fn.call(a[F].context);break;case 2:a[F].fn.call(a[F].context,y);break;case 3:a[F].fn.call(a[F].context,y,b);break;case 4:a[F].fn.call(a[F].context,y,b,D);break;default:if(!E)for(g=1,E=new Array(c-1);g<c;g++)E[g-1]=arguments[g];a[F].fn.apply(a[F].context,E)}}return!0},v.prototype.on=function(d,y,b){return N(this,d,y,b,!1)},v.prototype.once=function(d,y,b){return N(this,d,y,b,!0)},v.prototype.removeListener=function(d,y,b,D){var L=O?O+d:d;if(!this._events[L])return this;if(!y)return Q(this,L),this;var R=this._events[L];if(R.fn)R.fn!==y||D&&!R.once||b&&R.context!==b||Q(this,L);else{for(var q=0,E=[],F=R.length;q<F;q++)(R[q].fn!==y||D&&!R[q].once||b&&R[q].context!==b)&&E.push(R[q]);E.length?this._events[L]=E.length===1?E[0]:E:Q(this,L)}return this},v.prototype.removeAllListeners=function(d){var y;return d?(y=O?O+d:d,this._events[y]&&Q(this,y)):(this._events=new T,this._eventsCount=0),this},v.prototype.off=v.prototype.removeListener,v.prototype.addListener=v.prototype.on,v.prefixed=O,v.EventEmitter=v,$.exports=v},717:$=>{typeof Object.create=="function"?$.exports=function(p,O){p.super_=O,p.prototype=Object.create(O.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}})}:$.exports=function(p,O){p.super_=O;var T=function(){};T.prototype=O.prototype,p.prototype=new T,p.prototype.constructor=p}},824:$=>{var p=1e3,O=60*p,T=60*O,S=24*T,N=7*S,Q=365.25*S;function v(d,y,b,D){var L=y>=1.5*b;return Math.round(d/b)+" "+D+(L?"s":"")}$.exports=function(d,y){y=y||{};var b=typeof d;if(b==="string"&&d.length>0)return function(D){if(!((D=String(D)).length>100)){var L=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(D);if(L){var R=parseFloat(L[1]);switch((L[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return R*Q;case"weeks":case"week":case"w":return R*N;case"days":case"day":case"d":return R*S;case"hours":case"hour":case"hrs":case"hr":case"h":return R*T;case"minutes":case"minute":case"mins":case"min":case"m":return R*O;case"seconds":case"second":case"secs":case"sec":case"s":return R*p;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return R;default:return}}}}(d);if(b==="number"&&isFinite(d))return y.long?function(D){var L=Math.abs(D);return L>=S?v(D,L,S,"day"):L>=T?v(D,L,T,"hour"):L>=O?v(D,L,O,"minute"):L>=p?v(D,L,p,"second"):D+" ms"}(d):function(D){var L=Math.abs(D);return L>=S?Math.round(D/S)+"d":L>=T?Math.round(D/T)+"h":L>=O?Math.round(D/O)+"m":L>=p?Math.round(D/p)+"s":D+"ms"}(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))}},520:($,p,O)=>{var T=O(155),S=T.platform==="win32",N=O(539);function Q(a,c){for(var g=[],C=0;C<a.length;C++){var J=a[C];J&&J!=="."&&(J===".."?g.length&&g[g.length-1]!==".."?g.pop():c&&g.push(".."):g.push(J))}return g}function v(a){for(var c=a.length-1,g=0;g<=c&&!a[g];g++);for(var C=c;C>=0&&!a[C];C--);return g===0&&C===c?a:g>C?[]:a.slice(g,C+1)}var d=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,y=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,b={};function D(a){var c=d.exec(a),g=(c[1]||"")+(c[2]||""),C=c[3]||"",J=y.exec(C);return[g,J[1],J[2],J[3]]}function L(a){var c=d.exec(a),g=c[1]||"",C=!!g&&g[1]!==":";return{device:g,isUnc:C,isAbsolute:C||!!c[2],tail:c[3]}}function R(a){return"\\\\"+a.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}b.resolve=function(){for(var a="",c="",g=!1,C=arguments.length-1;C>=-1;C--){var J;if(C>=0?J=arguments[C]:a?(J=T.env["="+a])&&J.substr(0,3).toLowerCase()===a.toLowerCase()+"\\"||(J=a+"\\"):J=T.cwd(),!N.isString(J))throw new TypeError("Arguments to path.resolve must be strings");if(J){var X=L(J),oe=X.device,he=X.isUnc,_e=X.isAbsolute,we=X.tail;if((!oe||!a||oe.toLowerCase()===a.toLowerCase())&&(a||(a=oe),g||(c=we+"\\"+c,g=_e),a&&g))break}}return he&&(a=R(a)),a+(g?"\\":"")+(c=Q(c.split(/[\\\/]+/),!g).join("\\"))||"."},b.normalize=function(a){var c=L(a),g=c.device,C=c.isUnc,J=c.isAbsolute,X=c.tail,oe=/[\\\/]$/.test(X);return(X=Q(X.split(/[\\\/]+/),!J).join("\\"))||J||(X="."),X&&oe&&(X+="\\"),C&&(g=R(g)),g+(J?"\\":"")+X},b.isAbsolute=function(a){return L(a).isAbsolute},b.join=function(){for(var a=[],c=0;c<arguments.length;c++){var g=arguments[c];if(!N.isString(g))throw new TypeError("Arguments to path.join must be strings");g&&a.push(g)}var C=a.join("\\");return/^[\\\/]{2}[^\\\/]/.test(a[0])||(C=C.replace(/^[\\\/]{2,}/,"\\")),b.normalize(C)},b.relative=function(a,c){a=b.resolve(a),c=b.resolve(c);for(var g=a.toLowerCase(),C=c.toLowerCase(),J=v(c.split("\\")),X=v(g.split("\\")),oe=v(C.split("\\")),he=Math.min(X.length,oe.length),_e=he,we=0;we<he;we++)if(X[we]!==oe[we]){_e=we;break}if(_e==0)return c;var ue=[];for(we=_e;we<X.length;we++)ue.push("..");return(ue=ue.concat(J.slice(_e))).join("\\")},b._makeLong=function(a){if(!N.isString(a))return a;if(!a)return"";var c=b.resolve(a);return/^[a-zA-Z]\:\\/.test(c)?"\\\\?\\"+c:/^\\\\[^?.]/.test(c)?"\\\\?\\UNC\\"+c.substring(2):a},b.dirname=function(a){var c=D(a),g=c[0],C=c[1];return g||C?(C&&(C=C.substr(0,C.length-1)),g+C):"."},b.basename=function(a,c){var g=D(a)[2];return c&&g.substr(-1*c.length)===c&&(g=g.substr(0,g.length-c.length)),g},b.extname=function(a){return D(a)[3]},b.format=function(a){if(!N.isObject(a))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof a);var c=a.root||"";if(!N.isString(c))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof a.root);var g=a.dir,C=a.base||"";return g?g[g.length-1]===b.sep?g+C:g+b.sep+C:C},b.parse=function(a){if(!N.isString(a))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof a);var c=D(a);if(!c||c.length!==4)throw new TypeError("Invalid path '"+a+"'");return{root:c[0],dir:c[0]+c[1].slice(0,-1),base:c[2],ext:c[3],name:c[2].slice(0,c[2].length-c[3].length)}},b.sep="\\",b.delimiter=";";var q=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,E={};function F(a){return q.exec(a).slice(1)}E.resolve=function(){for(var a="",c=!1,g=arguments.length-1;g>=-1&&!c;g--){var C=g>=0?arguments[g]:T.cwd();if(!N.isString(C))throw new TypeError("Arguments to path.resolve must be strings");C&&(a=C+"/"+a,c=C[0]==="/")}return(c?"/":"")+(a=Q(a.split("/"),!c).join("/"))||"."},E.normalize=function(a){var c=E.isAbsolute(a),g=a&&a[a.length-1]==="/";return(a=Q(a.split("/"),!c).join("/"))||c||(a="."),a&&g&&(a+="/"),(c?"/":"")+a},E.isAbsolute=function(a){return a.charAt(0)==="/"},E.join=function(){for(var a="",c=0;c<arguments.length;c++){var g=arguments[c];if(!N.isString(g))throw new TypeError("Arguments to path.join must be strings");g&&(a+=a?"/"+g:g)}return E.normalize(a)},E.relative=function(a,c){a=E.resolve(a).substr(1),c=E.resolve(c).substr(1);for(var g=v(a.split("/")),C=v(c.split("/")),J=Math.min(g.length,C.length),X=J,oe=0;oe<J;oe++)if(g[oe]!==C[oe]){X=oe;break}var he=[];for(oe=X;oe<g.length;oe++)he.push("..");return(he=he.concat(C.slice(X))).join("/")},E._makeLong=function(a){return a},E.dirname=function(a){var c=F(a),g=c[0],C=c[1];return g||C?(C&&(C=C.substr(0,C.length-1)),g+C):"."},E.basename=function(a,c){var g=F(a)[2];return c&&g.substr(-1*c.length)===c&&(g=g.substr(0,g.length-c.length)),g},E.extname=function(a){return F(a)[3]},E.format=function(a){if(!N.isObject(a))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof a);var c=a.root||"";if(!N.isString(c))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof a.root);return(a.dir?a.dir+E.sep:"")+(a.base||"")},E.parse=function(a){if(!N.isString(a))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof a);var c=F(a);if(!c||c.length!==4)throw new TypeError("Invalid path '"+a+"'");return c[1]=c[1]||"",c[2]=c[2]||"",c[3]=c[3]||"",{root:c[0],dir:c[0]+c[1].slice(0,-1),base:c[2],ext:c[3],name:c[2].slice(0,c[2].length-c[3].length)}},E.sep="/",E.delimiter=":",$.exports=S?b:E,$.exports.posix=E,$.exports.win32=b},155:$=>{var p,O,T=$.exports={};function S(){throw new Error("setTimeout has not been defined")}function N(){throw new Error("clearTimeout has not been defined")}function Q(E){if(p===setTimeout)return setTimeout(E,0);if((p===S||!p)&&setTimeout)return p=setTimeout,setTimeout(E,0);try{return p(E,0)}catch{try{return p.call(null,E,0)}catch{return p.call(this,E,0)}}}(function(){try{p=typeof setTimeout=="function"?setTimeout:S}catch{p=S}try{O=typeof clearTimeout=="function"?clearTimeout:N}catch{O=N}})();var v,d=[],y=!1,b=-1;function D(){y&&v&&(y=!1,v.length?d=v.concat(d):b=-1,d.length&&L())}function L(){if(!y){var E=Q(D);y=!0;for(var F=d.length;F;){for(v=d,d=[];++b<F;)v&&v[b].run();b=-1,F=d.length}v=null,y=!1,function(a){if(O===clearTimeout)return clearTimeout(a);if((O===N||!O)&&clearTimeout)return O=clearTimeout,clearTimeout(a);try{O(a)}catch{try{return O.call(null,a)}catch{return O.call(this,a)}}}(E)}}function R(E,F){this.fun=E,this.array=F}function q(){}T.nextTick=function(E){var F=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)F[a-1]=arguments[a];d.push(new R(E,F)),d.length!==1||y||Q(L)},R.prototype.run=function(){this.fun.apply(null,this.array)},T.title="browser",T.browser=!0,T.env={},T.argv=[],T.version="",T.versions={},T.on=q,T.addListener=q,T.once=q,T.off=q,T.removeListener=q,T.removeAllListeners=q,T.emit=q,T.prependListener=q,T.prependOnceListener=q,T.listeners=function(E){return[]},T.binding=function(E){throw new Error("process.binding is not supported")},T.cwd=function(){return"/"},T.chdir=function(E){throw new Error("process.chdir is not supported")},T.umask=function(){return 0}},384:$=>{$.exports=function(p){return p&&typeof p=="object"&&typeof p.copy=="function"&&typeof p.fill=="function"&&typeof p.readUInt8=="function"}},539:($,p,O)=>{var T=O(155),S=/%[sdj%]/g;p.format=function(f){if(!a(f)){for(var m=[],P=0;P<arguments.length;P++)m.push(v(arguments[P]));return m.join(" ")}P=1;for(var te=arguments,xe=te.length,M=String(f).replace(S,function(se){if(se==="%%")return"%";if(P>=xe)return se;switch(se){case"%s":return String(te[P++]);case"%d":return Number(te[P++]);case"%j":try{return JSON.stringify(te[P++])}catch{return"[Circular]"}default:return se}}),Z=te[P];P<xe;Z=te[++P])E(Z)||!C(Z)?M+=" "+Z:M+=" "+v(Z);return M},p.deprecate=function(f,m){if(c(O.g.process))return function(){return p.deprecate(f,m).apply(this,arguments)};if(T.noDeprecation===!0)return f;var P=!1;return function(){if(!P){if(T.throwDeprecation)throw new Error(m);T.traceDeprecation?console.trace(m):console.error(m),P=!0}return f.apply(this,arguments)}};var N,Q={};function v(f,m){var P={seen:[],stylize:y};return arguments.length>=3&&(P.depth=arguments[2]),arguments.length>=4&&(P.colors=arguments[3]),q(m)?P.showHidden=m:m&&p._extend(P,m),c(P.showHidden)&&(P.showHidden=!1),c(P.depth)&&(P.depth=2),c(P.colors)&&(P.colors=!1),c(P.customInspect)&&(P.customInspect=!0),P.colors&&(P.stylize=d),b(P,f,P.depth)}function d(f,m){var P=v.styles[m];return P?"\x1B["+v.colors[P][0]+"m"+f+"\x1B["+v.colors[P][1]+"m":f}function y(f,m){return f}function b(f,m,P){if(f.customInspect&&m&&oe(m.inspect)&&m.inspect!==p.inspect&&(!m.constructor||m.constructor.prototype!==m)){var te=m.inspect(P,f);return a(te)||(te=b(f,te,P)),te}var xe=function(fe,ce){if(c(ce))return fe.stylize("undefined","undefined");if(a(ce)){var Se="'"+JSON.stringify(ce).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return fe.stylize(Se,"string")}if(F(ce))return fe.stylize(""+ce,"number");if(q(ce))return fe.stylize(""+ce,"boolean");if(E(ce))return fe.stylize("null","null")}(f,m);if(xe)return xe;var M=Object.keys(m),Z=function(fe){var ce={};return fe.forEach(function(Se,Oe){ce[Se]=!0}),ce}(M);if(f.showHidden&&(M=Object.getOwnPropertyNames(m)),X(m)&&(M.indexOf("message")>=0||M.indexOf("description")>=0))return D(m);if(M.length===0){if(oe(m)){var se=m.name?": "+m.name:"";return f.stylize("[Function"+se+"]","special")}if(g(m))return f.stylize(RegExp.prototype.toString.call(m),"regexp");if(J(m))return f.stylize(Date.prototype.toString.call(m),"date");if(X(m))return D(m)}var Ee,Ce="",Be=!1,tt=["{","}"];return R(m)&&(Be=!0,tt=["[","]"]),oe(m)&&(Ce=" [Function"+(m.name?": "+m.name:"")+"]"),g(m)&&(Ce=" "+RegExp.prototype.toString.call(m)),J(m)&&(Ce=" "+Date.prototype.toUTCString.call(m)),X(m)&&(Ce=" "+D(m)),M.length!==0||Be&&m.length!=0?P<0?g(m)?f.stylize(RegExp.prototype.toString.call(m),"regexp"):f.stylize("[Object]","special"):(f.seen.push(m),Ee=Be?function(fe,ce,Se,Oe,Ie){for(var Ne=[],De=0,Nt=ce.length;De<Nt;++De)Le(ce,String(De))?Ne.push(L(fe,ce,Se,Oe,String(De),!0)):Ne.push("");return Ie.forEach(function(xt){xt.match(/^\d+$/)||Ne.push(L(fe,ce,Se,Oe,xt,!0))}),Ne}(f,m,P,Z,M):M.map(function(fe){return L(f,m,P,Z,fe,Be)}),f.seen.pop(),function(fe,ce,Se){return fe.reduce(function(Oe,Ie){return Ie.indexOf(`
`)>=0,Oe+Ie.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Se[0]+(ce===""?"":ce+`
 `)+" "+fe.join(`,
  `)+" "+Se[1]:Se[0]+ce+" "+fe.join(", ")+" "+Se[1]}(Ee,Ce,tt)):tt[0]+Ce+tt[1]}function D(f){return"["+Error.prototype.toString.call(f)+"]"}function L(f,m,P,te,xe,M){var Z,se,Ee;if((Ee=Object.getOwnPropertyDescriptor(m,xe)||{value:m[xe]}).get?se=Ee.set?f.stylize("[Getter/Setter]","special"):f.stylize("[Getter]","special"):Ee.set&&(se=f.stylize("[Setter]","special")),Le(te,xe)||(Z="["+xe+"]"),se||(f.seen.indexOf(Ee.value)<0?(se=E(P)?b(f,Ee.value,null):b(f,Ee.value,P-1)).indexOf(`
`)>-1&&(se=M?se.split(`
`).map(function(Ce){return"  "+Ce}).join(`
`).substr(2):`
`+se.split(`
`).map(function(Ce){return"   "+Ce}).join(`
`)):se=f.stylize("[Circular]","special")),c(Z)){if(M&&xe.match(/^\d+$/))return se;(Z=JSON.stringify(""+xe)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Z=Z.substr(1,Z.length-2),Z=f.stylize(Z,"name")):(Z=Z.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Z=f.stylize(Z,"string"))}return Z+": "+se}function R(f){return Array.isArray(f)}function q(f){return typeof f=="boolean"}function E(f){return f===null}function F(f){return typeof f=="number"}function a(f){return typeof f=="string"}function c(f){return f===void 0}function g(f){return C(f)&&he(f)==="[object RegExp]"}function C(f){return typeof f=="object"&&f!==null}function J(f){return C(f)&&he(f)==="[object Date]"}function X(f){return C(f)&&(he(f)==="[object Error]"||f instanceof Error)}function oe(f){return typeof f=="function"}function he(f){return Object.prototype.toString.call(f)}function _e(f){return f<10?"0"+f.toString(10):f.toString(10)}p.debuglog=function(f){if(c(N)&&(N=T.env.NODE_DEBUG||""),f=f.toUpperCase(),!Q[f])if(new RegExp("\\b"+f+"\\b","i").test(N)){var m=T.pid;Q[f]=function(){var P=p.format.apply(p,arguments);console.error("%s %d: %s",f,m,P)}}else Q[f]=function(){};return Q[f]},p.inspect=v,v.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},v.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},p.isArray=R,p.isBoolean=q,p.isNull=E,p.isNullOrUndefined=function(f){return f==null},p.isNumber=F,p.isString=a,p.isSymbol=function(f){return typeof f=="symbol"},p.isUndefined=c,p.isRegExp=g,p.isObject=C,p.isDate=J,p.isError=X,p.isFunction=oe,p.isPrimitive=function(f){return f===null||typeof f=="boolean"||typeof f=="number"||typeof f=="string"||typeof f=="symbol"||f===void 0},p.isBuffer=O(384);var we=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ue(){var f=new Date,m=[_e(f.getHours()),_e(f.getMinutes()),_e(f.getSeconds())].join(":");return[f.getDate(),we[f.getMonth()],m].join(" ")}function Le(f,m){return Object.prototype.hasOwnProperty.call(f,m)}p.log=function(){console.log("%s - %s",ue(),p.format.apply(p,arguments))},p.inherits=O(717),p._extend=function(f,m){if(!m||!C(m))return f;for(var P=Object.keys(m),te=P.length;te--;)f[P[te]]=m[P[te]];return f}}},je={};function H($){var p=je[$];if(p!==void 0)return p.exports;var O=je[$]={exports:{}};return Fe[$].call(O.exports,O,O.exports,H),O.exports}H.n=$=>{var p=$&&$.__esModule?()=>$.default:()=>$;return H.d(p,{a:p}),p},H.d=($,p)=>{for(var O in p)H.o(p,O)&&!H.o($,O)&&Object.defineProperty($,O,{enumerable:!0,get:p[O]})},H.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),H.o=($,p)=>Object.prototype.hasOwnProperty.call($,p),H.r=$=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty($,Symbol.toStringTag,{value:"Module"}),Object.defineProperty($,"__esModule",{value:!0})};var pe={};return(()=>{H.r(pe),H.d(pe,{LSPluginUser:()=>sr,setupPluginUserInstance:()=>Rr});var $=H(520);H(856);const p=function(){this.__data__=[],this.size=0},O=function(t,e){return t===e||t!=t&&e!=e},T=function(t,e){for(var n=t.length;n--;)if(O(t[n][0],e))return n;return-1};var S=Array.prototype.splice;const N=function(t){var e=this.__data__,n=T(e,t);return!(n<0)&&(n==e.length-1?e.pop():S.call(e,n,1),--this.size,!0)},Q=function(t){var e=this.__data__,n=T(e,t);return n<0?void 0:e[n][1]},v=function(t){return T(this.__data__,t)>-1},d=function(t,e){var n=this.__data__,r=T(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function y(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}y.prototype.clear=p,y.prototype.delete=N,y.prototype.get=Q,y.prototype.has=v,y.prototype.set=d;const b=y,D=function(){this.__data__=new b,this.size=0},L=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},R=function(t){return this.__data__.get(t)},q=function(t){return this.__data__.has(t)},E=typeof Tn=="object"&&Tn&&Tn.Object===Object&&Tn;var F=typeof self=="object"&&self&&self.Object===Object&&self;const a=E||F||Function("return this")(),c=a.Symbol;var g=Object.prototype,C=g.hasOwnProperty,J=g.toString,X=c?c.toStringTag:void 0;const oe=function(t){var e=C.call(t,X),n=t[X];try{t[X]=void 0;var r=!0}catch{}var i=J.call(t);return r&&(e?t[X]=n:delete t[X]),i};var he=Object.prototype.toString;const _e=function(t){return he.call(t)};var we=c?c.toStringTag:void 0;const ue=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":we&&we in Object(t)?oe(t):_e(t)},Le=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},f=function(t){if(!Le(t))return!1;var e=ue(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},m=a["__core-js_shared__"];var P,te=(P=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"";const xe=function(t){return!!te&&te in t};var M=Function.prototype.toString;const Z=function(t){if(t!=null){try{return M.call(t)}catch{}try{return t+""}catch{}}return""};var se=/^\[object .+?Constructor\]$/,Ee=Function.prototype,Ce=Object.prototype,Be=Ee.toString,tt=Ce.hasOwnProperty,fe=RegExp("^"+Be.call(tt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const ce=function(t){return!(!Le(t)||xe(t))&&(f(t)?fe:se).test(Z(t))},Se=function(t,e){return t?.[e]},Oe=function(t,e){var n=Se(t,e);return ce(n)?n:void 0},Ie=Oe(a,"Map"),Ne=Oe(Object,"create"),De=function(){this.__data__=Ne?Ne(null):{},this.size=0},Nt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e};var xt=Object.prototype.hasOwnProperty;const Mn=function(t){var e=this.__data__;if(Ne){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return xt.call(e,t)?e[t]:void 0};var Dn=Object.prototype.hasOwnProperty;const Rn=function(t){var e=this.__data__;return Ne?e[t]!==void 0:Dn.call(e,t)},Un=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ne&&e===void 0?"__lodash_hash_undefined__":e,this};function nt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}nt.prototype.clear=De,nt.prototype.delete=Nt,nt.prototype.get=Mn,nt.prototype.has=Rn,nt.prototype.set=Un;const sn=nt,$n=function(){this.size=0,this.__data__={hash:new sn,map:new(Ie||b),string:new sn}},zn=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},ut=function(t,e){var n=t.__data__;return zn(e)?n[typeof e=="string"?"string":"hash"]:n.map},w=function(t){var e=ut(this,t).delete(t);return this.size-=e?1:0,e},A=function(t){return ut(this,t).get(t)},z=function(t){return ut(this,t).has(t)},K=function(t,e){var n=ut(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function ie(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ie.prototype.clear=$n,ie.prototype.delete=w,ie.prototype.get=A,ie.prototype.has=z,ie.prototype.set=K;const Pe=ie,Ve=function(t,e){var n=this.__data__;if(n instanceof b){var r=n.__data__;if(!Ie||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Pe(r)}return n.set(t,e),this.size=n.size,this};function Me(t){var e=this.__data__=new b(t);this.size=e.size}Me.prototype.clear=D,Me.prototype.delete=L,Me.prototype.get=R,Me.prototype.has=q,Me.prototype.set=Ve;const Ke=Me,ft=function(){try{var t=Oe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Ct=function(t,e,n){e=="__proto__"&&ft?ft(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Ft=function(t,e,n){(n!==void 0&&!O(t[e],n)||n===void 0&&!(e in t))&&Ct(t,e,n)},cn=function(t){return function(e,n,r){for(var i=-1,s=Object(e),l=r(e),u=l.length;u--;){var h=l[t?u:++i];if(n(s[h],h,s)===!1)break}return e}}();var ln=G&&!G.nodeType&&G,dt=ln&&!0&&W&&!W.nodeType&&W,un=dt&&dt.exports===ln?a.Buffer:void 0,fn=un?un.allocUnsafe:void 0;const Bn=function(t,e){if(e)return t.slice();var n=t.length,r=fn?fn(n):new t.constructor(n);return t.copy(r),r},rt=a.Uint8Array,Pt=function(t){var e=new t.constructor(t.byteLength);return new rt(e).set(new rt(t)),e},qe=function(t,e){var n=e?Pt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},dn=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e};var pt=Object.create;const Mt=function(){function t(){}return function(e){if(!Le(e))return{};if(pt)return pt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),pn=function(t,e){return function(n){return t(e(n))}},hn=pn(Object.getPrototypeOf,Object);var qn=Object.prototype;const Dt=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||qn)},gn=function(t){return typeof t.constructor!="function"||Dt(t)?{}:Mt(hn(t))},ve=function(t){return t!=null&&typeof t=="object"},ot=function(t){return ve(t)&&ue(t)=="[object Arguments]"};var He=Object.prototype,Rt=He.hasOwnProperty,Ut=He.propertyIsEnumerable;const St=ot(function(){return arguments}())?ot:function(t){return ve(t)&&Rt.call(t,"callee")&&!Ut.call(t,"callee")},Te=Array.isArray,$t=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},ht=function(t){return t!=null&&$t(t.length)&&!f(t)},zt=function(t){return ve(t)&&ht(t)},ge=function(){return!1};var Bt=G&&!G.nodeType&&G,me=Bt&&!0&&W&&!W.nodeType&&W,qt=me&&me.exports===Bt?a.Buffer:void 0;const ae=(qt?qt.isBuffer:void 0)||ge;var gt=Function.prototype,Ht=Object.prototype,Wt=gt.toString,Gt=Ht.hasOwnProperty,mn=Wt.call(Object);const it=function(t){if(!ve(t)||ue(t)!="[object Object]")return!1;var e=hn(t);if(e===null)return!0;var n=Gt.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Wt.call(n)==mn};var ee={};ee["[object Float32Array]"]=ee["[object Float64Array]"]=ee["[object Int8Array]"]=ee["[object Int16Array]"]=ee["[object Int32Array]"]=ee["[object Uint8Array]"]=ee["[object Uint8ClampedArray]"]=ee["[object Uint16Array]"]=ee["[object Uint32Array]"]=!0,ee["[object Arguments]"]=ee["[object Array]"]=ee["[object ArrayBuffer]"]=ee["[object Boolean]"]=ee["[object DataView]"]=ee["[object Date]"]=ee["[object Error]"]=ee["[object Function]"]=ee["[object Map]"]=ee["[object Number]"]=ee["[object Object]"]=ee["[object RegExp]"]=ee["[object Set]"]=ee["[object String]"]=ee["[object WeakMap]"]=!1;const Jt=function(t){return ve(t)&&$t(t.length)&&!!ee[ue(t)]},Zt=function(t){return function(e){return t(e)}};var Ye=G&&!G.nodeType&&G,We=Ye&&!0&&W&&!W.nodeType&&W,at=We&&We.exports===Ye&&E.process,Vt=function(){try{var t=We&&We.require&&We.require("util").types;return t||at&&at.binding&&at.binding("util")}catch{}}(),Ot=Vt&&Vt.isTypedArray;const Qe=Ot?Zt(Ot):Jt,Ge=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]};var st=Object.prototype.hasOwnProperty;const vn=function(t,e,n){var r=t[e];st.call(t,e)&&O(r,n)&&(n!==void 0||e in t)||Ct(t,e,n)},yn=function(t,e,n,r){var i=!n;n||(n={});for(var s=-1,l=e.length;++s<l;){var u=e[s],h=r?r(n[u],t[u],u,n,t):void 0;h===void 0&&(h=t[u]),i?Ct(n,u,h):vn(n,u,h)}return n},bn=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r};var Kt=/^(?:0|[1-9]\d*)$/;const At=function(t,e){var n=typeof t;return!!(e=e??9007199254740991)&&(n=="number"||n!="symbol"&&Kt.test(t))&&t>-1&&t%1==0&&t<e};var Yt=Object.prototype.hasOwnProperty;const jt=function(t,e){var n=Te(t),r=!n&&St(t),i=!n&&!r&&ae(t),s=!n&&!r&&!i&&Qe(t),l=n||r||i||s,u=l?bn(t.length,String):[],h=u.length;for(var j in t)!e&&!Yt.call(t,j)||l&&(j=="length"||i&&(j=="offset"||j=="parent")||s&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||At(j,h))||u.push(j);return u},Je=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e};var Et=Object.prototype.hasOwnProperty;const _n=function(t){if(!Le(t))return Je(t);var e=Dt(t),n=[];for(var r in t)(r!="constructor"||!e&&Et.call(t,r))&&n.push(r);return n},wn=function(t){return ht(t)?jt(t,!0):_n(t)},Hn=function(t){return yn(t,wn(t))},ct=function(t,e,n,r,i,s,l){var u=Ge(t,n),h=Ge(e,n),j=l.get(h);if(j)Ft(t,n,j);else{var k=s?s(u,h,n+"",t,e,l):void 0,I=k===void 0;if(I){var U=Te(h),V=!U&&ae(h),B=!U&&!V&&Qe(h);k=h,U||V||B?Te(u)?k=u:zt(u)?k=dn(u):V?(I=!1,k=Bn(h,!0)):B?(I=!1,k=qe(h,!0)):k=[]:it(h)||St(h)?(k=u,St(u)?k=Hn(u):Le(u)&&!f(u)||(k=gn(h))):I=!1}I&&(l.set(h,k),i(k,h,r,s,l),l.delete(h)),Ft(t,n,k)}},Wn=function t(e,n,r,i,s){e!==n&&cn(n,function(l,u){if(s||(s=new Ke),Le(l))ct(e,n,u,r,t,i,s);else{var h=i?i(Ge(e,u),l,u+"",e,n,s):void 0;h===void 0&&(h=l),Ft(e,u,h)}},wn)},kt=function(t){return t},Qt=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)};var Xt=Math.max;const xn=function(t,e,n){return e=Xt(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=Xt(r.length-e,0),l=Array(s);++i<s;)l[i]=r[e+i];i=-1;for(var u=Array(e+1);++i<e;)u[i]=r[i];return u[e]=n(l),Qt(t,this,u)}},Gn=function(t){return function(){return t}},It=ft?function(t,e){return ft(t,"toString",{configurable:!0,enumerable:!1,value:Gn(e),writable:!0})}:kt;var en=Date.now;const Jn=function(t){var e=0,n=0;return function(){var r=en(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(It),Re=function(t,e){return Jn(xn(t,e,kt),t+"")},Cn=function(t,e,n){if(!Le(n))return!1;var r=typeof e;return!!(r=="number"?ht(n)&&At(e,n.length):r=="string"&&e in n)&&O(n[e],t)},Sn=function(t){return Re(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,l=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,l&&Cn(n[0],n[1],l)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var u=n[r];u&&t(e,u,r,s)}return e})}(function(t,e,n){Wn(t,e,n)});var mt=function(){return mt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},mt.apply(this,arguments)};function Zn(t){return t.toLowerCase()}var vt=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Ue=/[^A-Z0-9]+/gi;function tn(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce(function(r,i){return r.replace(i,n)},t)}function On(t,e){return e===void 0&&(e={}),function(n,r){r===void 0&&(r={});for(var i=r.splitRegexp,s=i===void 0?vt:i,l=r.stripRegexp,u=l===void 0?Ue:l,h=r.transform,j=h===void 0?Zn:h,k=r.delimiter,I=k===void 0?" ":k,U=tn(tn(n,s,"$1\0$2"),u,"\0"),V=0,B=U.length;U.charAt(V)==="\0";)V++;for(;U.charAt(B-1)==="\0";)B--;return U.slice(V,B).split("\0").map(j).join(I)}(t,mt({delimiter:"."},e))}var nn=H(729),yt=H.n(nn);function rn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const o=navigator.platform.toLowerCase()==="win32"?$.win32:$.posix,x=function(t,e){return e===void 0&&(e={}),On(t,mt({delimiter:"_"},e))},_=Sn;class ne extends yt(){constructor(e,n){super(),rn(this,"_tag",void 0),rn(this,"_opts",void 0),rn(this,"_logs",[]),this._tag=e,this._opts=n}write(e,n,r){var i;n!=null&&n.length&&n[n.length-1]===!0&&(r=!0,n.pop());const s=n.reduce((u,h)=>(h&&h instanceof Error?u+=`${h.message} ${h.stack}`:u+=h.toString(),u),`[${this._tag}][${new Date().toLocaleTimeString()}] `);var l;this._logs.push([e,s]),(r||(i=this._opts)!==null&&i!==void 0&&i.console)&&((l=console)===null||l===void 0||l[e==="ERROR"?"error":"debug"](`${e}: ${s}`)),this.emit("change")}clear(){this._logs=[],this.emit("change")}info(...e){this.write("INFO",e)}error(...e){this.write("ERROR",e)}warn(...e){this.write("WARN",e)}setTag(e){this._tag=e}toJSON(){return this._logs}}function le(t,...e){try{const n=new URL(t);if(!n.origin)throw new Error(null);const r=o.join(t.substr(n.origin.length),...e);return n.origin+r}catch{return o.join(t,...e)}}function ye(t,e){let n,r,i=!1;const s=u=>h=>{t&&clearTimeout(t),u(h),i=!0},l=new Promise((u,h)=>{n=s(u),r=s(h),t&&(t=setTimeout(()=>r(new Error(`[deferred timeout] ${e}`)),t))});return{created:Date.now(),setTag:u=>e=u,resolve:n,reject:r,promise:l,get settled(){return i}}}const be=new Map;window.__injectedUIEffects=be;var bt=H(227),$e=H.n(bt);function Y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Xe="application/x-postmate-v1+json";let cr=0;const Hr={handshake:1,"handshake-reply":1,call:1,emit:1,reply:1,request:1},Vn=(t,e)=>(typeof e!="string"||t.origin===e)&&!!t.data&&(typeof t.data!="object"||"postmate"in t.data)&&t.data.type===Xe&&!!Hr[t.data.postmate];class Wr{constructor(e){Y(this,"parent",void 0),Y(this,"frame",void 0),Y(this,"child",void 0),Y(this,"events",{}),Y(this,"childOrigin",void 0),Y(this,"listener",void 0),this.parent=e.parent,this.frame=e.frame,this.child=e.child,this.childOrigin=e.childOrigin,this.listener=n=>{if(!Vn(n,this.childOrigin))return!1;const{data:r,name:i}=((n||{}).data||{}).value||{};n.data.postmate==="emit"&&i in this.events&&this.events[i].forEach(s=>{s.call(this,r)})},this.parent.addEventListener("message",this.listener,!1)}get(e,...n){return new Promise(r=>{const i=++cr,s=l=>{l.data.uid===i&&l.data.postmate==="reply"&&(this.parent.removeEventListener("message",s,!1),r(l.data.value))};this.parent.addEventListener("message",s,!1),this.child.postMessage({postmate:"request",type:Xe,property:e,args:n,uid:i},this.childOrigin)})}call(e,n){this.child.postMessage({postmate:"call",type:Xe,property:e,data:n},this.childOrigin)}on(e,n){this.events[e]||(this.events[e]=[]),this.events[e].push(n)}destroy(){window.removeEventListener("message",this.listener,!1),this.frame.parentNode.removeChild(this.frame)}}class Gr{constructor(e){Y(this,"model",void 0),Y(this,"parent",void 0),Y(this,"parentOrigin",void 0),Y(this,"child",void 0),this.model=e.model,this.parent=e.parent,this.parentOrigin=e.parentOrigin,this.child=e.child,this.child.addEventListener("message",n=>{if(!Vn(n,this.parentOrigin))return;const{property:r,uid:i,data:s,args:l}=n.data;n.data.postmate!=="call"?((u,h,j)=>{const k=typeof u[h]=="function"?u[h].apply(null,j):u[h];return Promise.resolve(k)})(this.model,r,l).then(u=>{n.source.postMessage({property:r,postmate:"reply",type:Xe,uid:i,value:u},n.origin)}):r in this.model&&typeof this.model[r]=="function"&&this.model[r](s)})}emit(e,n){this.parent.postMessage({postmate:"emit",type:Xe,value:{name:e,data:n}},this.parentOrigin)}}class Kn{constructor(e){Y(this,"container",void 0),Y(this,"parent",void 0),Y(this,"frame",void 0),Y(this,"child",void 0),Y(this,"childOrigin",void 0),Y(this,"url",void 0),Y(this,"model",void 0),this.container=e.container,this.url=e.url,this.parent=window,this.frame=document.createElement("iframe"),e.id&&(this.frame.id=e.id),e.name&&(this.frame.name=e.name),this.frame.classList.add.apply(this.frame.classList,e.classListArray||[]),this.container.appendChild(this.frame),this.child=this.frame.contentWindow,this.model=e.model||{}}sendHandshake(e){const n=(s=>{const l=document.createElement("a");l.href=s;const u=l.protocol.length>4?l.protocol:window.location.protocol,h=l.host.length?l.port==="80"||l.port==="443"?l.hostname:l.host:window.location.host;return l.origin||`${u}//${h}`})(e=e||this.url);let r,i=0;return new Promise((s,l)=>{const u=j=>!!Vn(j,n)&&(j.data.postmate==="handshake-reply"?(clearInterval(r),this.parent.removeEventListener("message",u,!1),this.childOrigin=j.origin,s(new Wr(this))):l("Failed handshake"));this.parent.addEventListener("message",u,!1);const h=()=>{i++,this.child.postMessage({postmate:"handshake",type:Xe,model:this.model},n),i===5&&clearInterval(r)};this.frame.addEventListener("load",()=>{h(),r=setInterval(h,500)}),this.frame.src=e})}destroy(){this.frame.parentNode.removeChild(this.frame)}}Y(Kn,"debug",!1),Y(Kn,"Model",void 0);class Jr{constructor(e){Y(this,"child",void 0),Y(this,"model",void 0),Y(this,"parent",void 0),Y(this,"parentOrigin",void 0),this.child=window,this.model=e,this.parent=this.child.parent}sendHandshakeReply(){return new Promise((e,n)=>{const r=i=>{if(i.data.postmate){if(i.data.postmate==="handshake"){this.child.removeEventListener("message",r,!1),i.source.postMessage({postmate:"handshake-reply",type:Xe},i.origin),this.parentOrigin=i.origin;const s=i.data.model;return s&&Object.keys(s).forEach(l=>{this.model[l]=s[l]}),e(new Gr(this))}return n("Handshake Reply Failed")}};this.child.addEventListener("message",r,!1)})}}function on(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const{importHTML:Zr,createSandboxContainer:Vr}=window.QSandbox||{};function Kr(t,e){return t.startsWith("http")?fetch(t,e):(t=t.replace("file://",""),new Promise(async(n,r)=>{try{const i=await window.apis.doAction(["readFile",t]);n({text:()=>i})}catch(i){console.error(i),r(i)}}))}class Yr extends yt(){constructor(e){super(),on(this,"_pluginLocal",void 0),on(this,"_frame",void 0),on(this,"_root",void 0),on(this,"_loaded",!1),on(this,"_unmountFns",[]),this._pluginLocal=e,e._dispose(()=>{this._unmount()})}async load(){const{name:e,entry:n}=this._pluginLocal.options;if(this.loaded||!n)return;const{template:r,execScripts:i}=await Zr(n,{fetch:Kr});this._mount(r,document.body);const s=Vr(e,{elementGetter:()=>{var u;return(u=this._root)===null||u===void 0?void 0:u.firstChild}}).instance.proxy;s.__shadow_mode__=!0,s.LSPluginLocal=this._pluginLocal,s.LSPluginShadow=this,s.LSPluginUser=s.logseq=new sr(this._pluginLocal.toJSON(),this._pluginLocal.caller);const l=await i(s,!0);this._unmountFns.push(l.unmount),this._loaded=!0}_mount(e,n){const r=this._frame=document.createElement("div");r.classList.add("lsp-shadow-sandbox"),r.id=this._pluginLocal.id,this._root=r.attachShadow({mode:"open"}),this._root.innerHTML=`<div>${e}</div>`,n.appendChild(r),this.emit("mounted")}_unmount(){for(const e of this._unmountFns)e&&e.call(null)}destroy(){var e,n;(e=this.frame)===null||e===void 0||(n=e.parentNode)===null||n===void 0||n.removeChild(this.frame)}get loaded(){return this._loaded}get document(){var e;return(e=this._root)===null||e===void 0?void 0:e.firstChild}get frame(){return this._frame}}function Ze(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const lt=$e()("LSPlugin:caller"),an="#await#response#",Qr="#lspmsg#",lr="#lspmsg#error#",An=t=>`#lspmsg#${t}`;class Xr extends yt(){constructor(e){super(),Ze(this,"_pluginLocal",void 0),Ze(this,"_connected",!1),Ze(this,"_parent",void 0),Ze(this,"_child",void 0),Ze(this,"_shadow",void 0),Ze(this,"_status",void 0),Ze(this,"_userModel",{}),Ze(this,"_call",void 0),Ze(this,"_callUserModel",void 0),Ze(this,"_debugTag",""),this._pluginLocal=e,e&&(this._debugTag=e.debugTag)}async connectToChild(){if(this._connected)return;const{shadow:e}=this._pluginLocal;e?await this._setupShadowSandbox():await this._setupIframeSandbox()}async connectToParent(e={}){if(this._connected)return;const n=this,r=this._pluginLocal!=null;let i=0;const s=new Map,l=ye(6e4),u=this._extendUserModel({"#lspmsg#ready#":async k=>{u[An(k?.pid)]=({type:I,payload:U})=>{lt(`[host (_call) -> *user] ${this._debugTag}`,I,U),n.emit(I,U)},await l.resolve()},"#lspmsg#beforeunload#":async k=>{const I=ye(1e4);n.emit("beforeunload",Object.assign({actor:I},k)),await I.promise},"#lspmsg#settings#":async({type:k,payload:I})=>{n.emit("settings:changed",I)},[Qr]:async({ns:k,type:I,payload:U})=>{lt(`[host (async) -> *user] ${this._debugTag} ns=${k} type=${I}`,U),k&&k.startsWith("hook")?n.emit(`${k}:${I}`,U):n.emit(I,U)},"#lspmsg#reply#":({_sync:k,result:I})=>{if(lt(`[sync host -> *user] #${k}`,I),s.has(k)){const U=s.get(k);U&&(I!=null&&I.hasOwnProperty(lr)?U.reject(I[lr]):U.resolve(I),s.delete(k))}},...e});var h;if(r)return await l.promise,JSON.parse(JSON.stringify((h=this._pluginLocal)===null||h===void 0?void 0:h.toJSON()));const j=new Jr(u).sendHandshakeReply();return this._status="pending",await j.then(k=>{this._child=k,this._connected=!0,this._call=async(I,U={},V)=>{if(V){const B=++i;s.set(B,V),U._sync=B,V.setTag(`async call #${B}`),lt(`async call #${B}`)}return k.emit(An(u.baseInfo.id),{type:I,payload:U}),V?.promise},this._callUserModel=async(I,U)=>{try{u[I](U)}catch{lt(`[model method] #${I} not existed`)}},setInterval(()=>{if(s.size>100)for(const[I,U]of s)U.settled&&s.delete(I)},18e5)}).finally(()=>{this._status=void 0}),await l.promise,u.baseInfo}async call(e,n={}){var r;return(r=this._call)===null||r===void 0?void 0:r.call(this,e,n)}async callAsync(e,n={}){var r;const i=ye(1e4);return(r=this._call)===null||r===void 0?void 0:r.call(this,e,n,i)}async callUserModel(e,...n){var r;return(r=this._callUserModel)===null||r===void 0?void 0:r.apply(this,[e,...n])}async callUserModelAsync(e,...n){var r;return e=`${an}${e}`,(r=this._callUserModel)===null||r===void 0?void 0:r.apply(this,[e,...n])}async _setupIframeSandbox(){const e=this._pluginLocal,n=e.id,r=`${n}_lsp_main`,i=new URL(e.options.entry);i.searchParams.set("__v__",e.options.version);const s=document.querySelector(`#${r}`);s&&s.parentElement.removeChild(s);const l=document.createElement("div");l.classList.add("lsp-iframe-sandbox-container"),l.id=r,l.dataset.pid=n;try{var u;const I=(u=await this._pluginLocal._loadLayoutsData())===null||u===void 0?void 0:u.$$0;if(I){l.dataset.inited_layout="true";let{width:U,height:V,left:B,top:re,vw:de,vh:ke}=I;B=Math.max(B,0),B=typeof de=="number"?`${Math.min(100*B/de,99)}%`:`${B}px`,re=Math.max(re,45),re=typeof ke=="number"?`${Math.min(100*re/ke,99)}%`:`${re}px`,Object.assign(l.style,{width:U+"px",height:V+"px",left:B,top:re})}}catch(I){console.error("[Restore Layout Error]",I)}document.body.appendChild(l);const h=new Kn({id:n+"_iframe",container:l,url:i.href,classListArray:["lsp-iframe-sandbox"],model:{baseInfo:JSON.parse(JSON.stringify(e.toJSON()))}});let j,k=h.sendHandshake();return this._status="pending",new Promise((I,U)=>{j=setTimeout(()=>{U(new Error("handshake Timeout")),h.destroy()},4e3),k.then(V=>{this._parent=V,this._connected=!0,this.emit("connected"),V.on(An(e.id),({type:B,payload:re})=>{var de,ke;lt("[user -> *host] ",B,re),(de=this._pluginLocal)===null||de===void 0||de.emit(B,re||{}),(ke=this._pluginLocal)===null||ke===void 0||ke.caller.emit(B,re||{})}),this._call=async(...B)=>{await V.call(An(e.id),{type:B[0],payload:Object.assign(B[1]||{},{$$pid:e.id})})},this._callUserModel=async(B,...re)=>{if(B.startsWith(an))return await V.get(B.replace(an,""),...re);V.call(B,re?.[0])},I(null)}).catch(V=>{U(V)}).finally(()=>{clearTimeout(j)})}).catch(I=>{throw lt("[iframe sandbox] error",I),I}).finally(()=>{this._status=void 0})}async _setupShadowSandbox(){const e=this._pluginLocal,n=this._shadow=new Yr(e);try{this._status="pending",await n.load(),this._connected=!0,this.emit("connected"),this._call=async(r,i={},s)=>{var l;return s&&(i.actor=s),(l=this._pluginLocal)===null||l===void 0||l.emit(r,Object.assign(i,{$$pid:e.id})),s?.promise},this._callUserModel=async(...r)=>{var i;let s=r[0];(i=s)!==null&&i!==void 0&&i.startsWith(an)&&(s=s.replace(an,""));const l=r[1]||{},u=this._userModel[s];typeof u=="function"&&await u.call(null,l)}}catch(r){throw lt("[shadow sandbox] error",r),r}finally{this._status=void 0}}_extendUserModel(e){return Object.assign(this._userModel,e)}_getSandboxIframeContainer(){var e;return(e=this._parent)===null||e===void 0?void 0:e.frame.parentNode}_getSandboxShadowContainer(){var e;return(e=this._shadow)===null||e===void 0?void 0:e.frame.parentNode}_getSandboxIframeRoot(){var e;return(e=this._parent)===null||e===void 0?void 0:e.frame}_getSandboxShadowRoot(){var e;return(e=this._shadow)===null||e===void 0?void 0:e.frame}set debugTag(e){this._debugTag=e}async destroy(){var e;let n=null;this._parent&&(n=this._getSandboxIframeContainer(),await this._parent.destroy()),this._shadow&&(n=this._getSandboxShadowContainer(),this._shadow.destroy()),(e=n)===null||e===void 0||e.parentNode.removeChild(n)}}function ur(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class fr{constructor(e,n){ur(this,"ctx",void 0),ur(this,"opts",void 0),this.ctx=e,this.opts=n}get ctxId(){return this.ctx.baseInfo.id}setItem(e,n){var r;return this.ctx.caller.callAsync("api:call",{method:"write-plugin-storage-file",args:[this.ctxId,e,n,(r=this.opts)===null||r===void 0?void 0:r.assets]})}getItem(e){var n;return this.ctx.caller.callAsync("api:call",{method:"read-plugin-storage-file",args:[this.ctxId,e,(n=this.opts)===null||n===void 0?void 0:n.assets]})}removeItem(e){var n;return this.ctx.caller.call("api:call",{method:"unlink-plugin-storage-file",args:[this.ctxId,e,(n=this.opts)===null||n===void 0?void 0:n.assets]})}allKeys(){var e;return this.ctx.caller.callAsync("api:call",{method:"list-plugin-storage-files",args:[this.ctxId,(e=this.opts)===null||e===void 0?void 0:e.assets]})}clear(){var e;return this.ctx.caller.call("api:call",{method:"clear-plugin-storage-files",args:[this.ctxId,(e=this.opts)===null||e===void 0?void 0:e.assets]})}hasItem(e){var n;return this.ctx.caller.callAsync("api:call",{method:"exist-plugin-storage-file",args:[this.ctxId,e,(n=this.opts)===null||n===void 0?void 0:n.assets]})}}class eo{constructor(e){var n,r,i;i=void 0,(r="ctx")in(n=this)?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,this.ctx=e}get React(){return this.ensureHostScope().React}get ReactDOM(){return this.ensureHostScope().ReactDOM}get pluginLocal(){return this.ensureHostScope().LSPluginCore.ensurePlugin(this.ctx.baseInfo.id)}invokeExperMethod(e,...n){var r,i;const s=this.ensureHostScope();return e=(r=x(e))===null||r===void 0?void 0:r.toLowerCase(),(i=s.logseq.api["exper_"+e])===null||i===void 0?void 0:i.apply(s,n)}async loadScripts(...e){(e=e.map(n=>n!=null&&n.startsWith("http")?n:this.ctx.resolveResourceFullUrl(n))).unshift(this.ctx.baseInfo.id),await this.invokeExperMethod("loadScripts",...e)}registerFencedCodeRenderer(e,n){return this.ensureHostScope().logseq.api.exper_register_fenced_code_renderer(this.ctx.baseInfo.id,e,n)}registerExtensionsEnhancer(e,n){const r=this.ensureHostScope();return e==="katex"&&r.katex&&n(r.katex).catch(console.error),r.logseq.api.exper_register_extensions_enhancer(this.ctx.baseInfo.id,e,n)}ensureHostScope(){if(window===top)throw new Error("Can not access host scope!");return top}}function Tt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const dr=t=>`task_callback_${t}`;class to{constructor(e,n,r={}){Tt(this,"_client",void 0),Tt(this,"_requestId",void 0),Tt(this,"_requestOptions",void 0),Tt(this,"_promise",void 0),Tt(this,"_aborted",!1),this._client=e,this._requestId=n,this._requestOptions=r,this._promise=new Promise((u,h)=>{if(!this._requestId)return h(null);this._client.once(dr(this._requestId),j=>{j&&j instanceof Error?h(j):u(j)})});const{success:i,fail:s,final:l}=this._requestOptions;this._promise.then(u=>{i?.(u)}).catch(u=>{s?.(u)}).finally(()=>{l?.()})}abort(){this._requestOptions.abortable&&!this._aborted&&(this._client.ctx._execCallableAPI("http_request_abort",this._requestId),this._aborted=!0)}get promise(){return this._promise}get client(){return this._client}get requestId(){return this._requestId}}class Yn extends nn.EventEmitter{constructor(e){super(),Tt(this,"_ctx",void 0),this._ctx=e,this.ctx.caller.on("#lsp#request#callback",n=>{const r=n?.requestId;r&&this.emit(dr(r),n?.payload)})}static createRequestTask(e,n,r){return new to(e,n,r)}async _request(e){const n=this.ctx.baseInfo.id,{success:r,fail:i,final:s,...l}=e,u=this.ctx.Experiments.invokeExperMethod("request",n,l),h=Yn.createRequestTask(this.ctx.Request,u,e);return l.abortable?h:h.promise}get ctx(){return this._ctx}}const no=pn(Object.keys,Object);var ro=Object.prototype.hasOwnProperty;const oo=function(t){if(!Dt(t))return no(t);var e=[];for(var n in Object(t))ro.call(t,n)&&n!="constructor"&&e.push(n);return e},Qn=function(t){return ht(t)?jt(t):oo(t)},io=function(t,e){return t&&cn(t,e,Qn)},ao=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},so=function(t){return this.__data__.has(t)};function jn(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Pe;++e<n;)this.add(t[e])}jn.prototype.add=jn.prototype.push=ao,jn.prototype.has=so;const co=jn,lo=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},uo=function(t,e){return t.has(e)},pr=function(t,e,n,r,i,s){var l=1&n,u=t.length,h=e.length;if(u!=h&&!(l&&h>u))return!1;var j=s.get(t),k=s.get(e);if(j&&k)return j==e&&k==t;var I=-1,U=!0,V=2&n?new co:void 0;for(s.set(t,e),s.set(e,t);++I<u;){var B=t[I],re=e[I];if(r)var de=l?r(re,B,I,e,t,s):r(B,re,I,t,e,s);if(de!==void 0){if(de)continue;U=!1;break}if(V){if(!lo(e,function(ke,et){if(!uo(V,et)&&(B===ke||i(B,ke,n,r,s)))return V.push(et)})){U=!1;break}}else if(B!==re&&!i(B,re,n,r,s)){U=!1;break}}return s.delete(t),s.delete(e),U},fo=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n},po=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n};var hr=c?c.prototype:void 0,Xn=hr?hr.valueOf:void 0;const ho=function(t,e,n,r,i,s,l){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!s(new rt(t),new rt(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return O(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=fo;case"[object Set]":var h=1&r;if(u||(u=po),t.size!=e.size&&!h)return!1;var j=l.get(t);if(j)return j==e;r|=2,l.set(t,e);var k=pr(u(t),u(e),r,i,s,l);return l.delete(t),k;case"[object Symbol]":if(Xn)return Xn.call(t)==Xn.call(e)}return!1},go=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},mo=function(t,e,n){var r=e(t);return Te(t)?r:go(r,n(t))},vo=function(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var l=t[n];e(l,n,t)&&(s[i++]=l)}return s},yo=function(){return[]};var bo=Object.prototype.propertyIsEnumerable,gr=Object.getOwnPropertySymbols;const _o=gr?function(t){return t==null?[]:(t=Object(t),vo(gr(t),function(e){return bo.call(t,e)}))}:yo,mr=function(t){return mo(t,Qn,_o)};var wo=Object.prototype.hasOwnProperty;const xo=function(t,e,n,r,i,s){var l=1&n,u=mr(t),h=u.length;if(h!=mr(e).length&&!l)return!1;for(var j=h;j--;){var k=u[j];if(!(l?k in e:wo.call(e,k)))return!1}var I=s.get(t),U=s.get(e);if(I&&U)return I==e&&U==t;var V=!0;s.set(t,e),s.set(e,t);for(var B=l;++j<h;){var re=t[k=u[j]],de=e[k];if(r)var ke=l?r(de,re,k,e,t,s):r(re,de,k,t,e,s);if(!(ke===void 0?re===de||i(re,de,n,r,s):ke)){V=!1;break}B||(B=k=="constructor")}if(V&&!B){var et=t.constructor,wt=e.constructor;et==wt||!("constructor"in t)||!("constructor"in e)||typeof et=="function"&&et instanceof et&&typeof wt=="function"&&wt instanceof wt||(V=!1)}return s.delete(t),s.delete(e),V},er=Oe(a,"DataView"),tr=Oe(a,"Promise"),nr=Oe(a,"Set"),rr=Oe(a,"WeakMap");var vr="[object Map]",yr="[object Promise]",br="[object Set]",_r="[object WeakMap]",wr="[object DataView]",Co=Z(er),So=Z(Ie),Oo=Z(tr),Ao=Z(nr),jo=Z(rr),_t=ue;(er&&_t(new er(new ArrayBuffer(1)))!=wr||Ie&&_t(new Ie)!=vr||tr&&_t(tr.resolve())!=yr||nr&&_t(new nr)!=br||rr&&_t(new rr)!=_r)&&(_t=function(t){var e=ue(t),n=e=="[object Object]"?t.constructor:void 0,r=n?Z(n):"";if(r)switch(r){case Co:return wr;case So:return vr;case Oo:return yr;case Ao:return br;case jo:return _r}return e});const xr=_t;var Cr="[object Arguments]",Sr="[object Array]",En="[object Object]",Or=Object.prototype.hasOwnProperty;const Eo=function(t,e,n,r,i,s){var l=Te(t),u=Te(e),h=l?Sr:xr(t),j=u?Sr:xr(e),k=(h=h==Cr?En:h)==En,I=(j=j==Cr?En:j)==En,U=h==j;if(U&&ae(t)){if(!ae(e))return!1;l=!0,k=!1}if(U&&!k)return s||(s=new Ke),l||Qe(t)?pr(t,e,n,r,i,s):ho(t,e,h,n,r,i,s);if(!(1&n)){var V=k&&Or.call(t,"__wrapped__"),B=I&&Or.call(e,"__wrapped__");if(V||B){var re=V?t.value():t,de=B?e.value():e;return s||(s=new Ke),i(re,de,n,r,s)}}return!!U&&(s||(s=new Ke),xo(t,e,n,r,i,s))},Ar=function t(e,n,r,i,s){return e===n||(e==null||n==null||!ve(e)&&!ve(n)?e!=e&&n!=n:Eo(e,n,r,i,t,s))},ko=function(t,e,n,r){var i=n.length,s=i,l=!r;if(t==null)return!s;for(t=Object(t);i--;){var u=n[i];if(l&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<s;){var h=(u=n[i])[0],j=t[h],k=u[1];if(l&&u[2]){if(j===void 0&&!(h in t))return!1}else{var I=new Ke;if(r)var U=r(j,k,h,t,e,I);if(!(U===void 0?Ar(k,j,3,r,I):U))return!1}}return!0},jr=function(t){return t==t&&!Le(t)},Io=function(t){for(var e=Qn(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,jr(i)]}return e},Er=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},To=function(t){var e=Io(t);return e.length==1&&e[0][2]?Er(e[0][0],e[0][1]):function(n){return n===t||ko(n,t,e)}},or=function(t){return typeof t=="symbol"||ve(t)&&ue(t)=="[object Symbol]"};var Lo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,No=/^\w*$/;const ir=function(t,e){if(Te(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!or(t))||No.test(t)||!Lo.test(t)||e!=null&&t in Object(e)};function ar(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var l=t.apply(this,r);return n.cache=s.set(i,l)||s,l};return n.cache=new(ar.Cache||Pe),n}ar.Cache=Pe;const Fo=ar;var Po=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mo=/\\(\\)?/g;const Do=function(t){var e=Fo(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Po,function(n,r,i,s){e.push(i?s.replace(Mo,"$1"):r||n)}),e}),Ro=function(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i};var kr=c?c.prototype:void 0,Ir=kr?kr.toString:void 0;const Uo=function t(e){if(typeof e=="string")return e;if(Te(e))return Ro(e,t)+"";if(or(e))return Ir?Ir.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},$o=function(t){return t==null?"":Uo(t)},Tr=function(t,e){return Te(t)?t:ir(t,e)?[t]:Do($o(t))},kn=function(t){if(typeof t=="string"||or(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},Lr=function(t,e){for(var n=0,r=(e=Tr(e,t)).length;t!=null&&n<r;)t=t[kn(e[n++])];return n&&n==r?t:void 0},zo=function(t,e,n){var r=t==null?void 0:Lr(t,e);return r===void 0?n:r},Bo=function(t,e){return t!=null&&e in Object(t)},qo=function(t,e,n){for(var r=-1,i=(e=Tr(e,t)).length,s=!1;++r<i;){var l=kn(e[r]);if(!(s=t!=null&&n(t,l)))break;t=t[l]}return s||++r!=i?s:!!(i=t==null?0:t.length)&&$t(i)&&At(l,i)&&(Te(t)||St(t))},Ho=function(t,e){return t!=null&&qo(t,e,Bo)},Wo=function(t,e){return ir(t)&&jr(e)?Er(kn(t),e):function(n){var r=zo(n,t);return r===void 0&&r===e?Ho(n,t):Ar(e,r,3)}},Go=function(t){return function(e){return e?.[t]}},Jo=function(t){return function(e){return Lr(e,t)}},Zo=function(t){return ir(t)?Go(kn(t)):Jo(t)},Vo=function(t){return typeof t=="function"?t:t==null?kt:typeof t=="object"?Te(t)?Wo(t[0],t[1]):To(t):Zo(t)},Ko=function(t,e){var n={};return e=Vo(e),io(t,function(r,i,s){Ct(n,e(r,i,s),r)}),n};function Nr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Yo{constructor(e,n){Nr(this,"ctx",void 0),Nr(this,"serviceHooks",void 0),this.ctx=e,this.serviceHooks=n,e._execCallableAPI("register-search-service",e.baseInfo.id,n.name,n.options),Object.entries({query:{f:"onQuery",args:["graph","q",!0],reply:!0,transformOutput:r=>(Te(r?.blocks)&&(r.blocks=r.blocks.map(i=>i&&Ko(i,(s,l)=>`block/${l}`))),r)},rebuildBlocksIndice:{f:"onIndiceInit",args:["graph","blocks"]},transactBlocks:{f:"onBlocksChanged",args:["graph","data"]},truncateBlocks:{f:"onIndiceReset",args:["graph"]},removeDb:{f:"onGraph",args:["graph"]}}).forEach(([r,i])=>{const s=(l=>`service:search:${l}:${n.name}`)(r);e.caller.on(s,async l=>{if(f(n?.[i.f])){let u=null;try{u=await n[i.f].apply(n,(i.args||[]).map(h=>{if(l){if(h===!0)return l;if(l.hasOwnProperty(h)){const j=l[h];return delete l[h],j}}})),i.transformOutput&&(u=i.transformOutput(u))}catch(h){console.error("[SearchService] ",h),u=h}finally{i.reply&&e.caller.call(`${s}:reply`,u)}}})})}}function ze(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Qo=Symbol.for("proxy-continue"),Xo=$e()("LSPlugin:user"),Fr=new ne("",{console:!0});function Lt(t,e,n){var r;if(typeof n!="function")return!1;const{key:i,label:s,desc:l,palette:u,keybinding:h,extras:j}=e,k=`SimpleCommandHook${i}${++Dr}`;this.Editor["on"+k](n),(r=this.caller)===null||r===void 0||r.call("api:call",{method:"register-plugin-simple-command",args:[this.baseInfo.id,[{key:i,label:s,type:t,desc:l,keybinding:h,extras:j},["editor/hook",k]],u]})}function Pr(t){return!(typeof(e=t)!="string"||e.length!==36||!/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi.test(e))||(Fr.error(`#${t} is not a valid UUID string.`),!1);var e}let In=null,Mr=new Map;const ei={async getInfo(t){return In||(In=await this._execCallableAPIAsync("get-app-info")),typeof t=="string"?In[t]:In},registerCommand:Lt,registerSearchService(t){if(Mr.has(t.name))throw new Error(`SearchService: #${t.name} has registered!`);Mr.set(t.name,new Yo(this,t))},registerCommandPalette(t,e){const{key:n,label:r,keybinding:i}=t;return Lt.call(this,"$palette$",{key:n,label:r,palette:!0,keybinding:i},e)},registerCommandShortcut(t,e){const{binding:n}=t,r="$shortcut$",i=r+x(n);return Lt.call(this,r,{key:i,palette:!1,keybinding:t},e)},registerUIItem(t,e){var n;const r=this.baseInfo.id;(n=this.caller)===null||n===void 0||n.call("api:call",{method:"register-plugin-ui-item",args:[r,t,e]})},registerPageMenuItem(t,e){if(typeof e!="function")return!1;const n=t+"_"+this.baseInfo.id,r=t;Lt.call(this,"page-menu-item",{key:n,label:r},e)},onBlockRendererSlotted(t,e){if(!Pr(t))return;const n=this.baseInfo.id,r=`hook:editor:${x(`slot:${t}`)}`;return this.caller.on(r,e),this.App._installPluginHook(n,r),()=>{this.caller.off(r,e),this.App._uninstallPluginHook(n,r)}},invokeExternalPlugin(t,...e){var n;if(!(t=(n=t)===null||n===void 0?void 0:n.trim()))return;let[r,i]=t.split(".");if(!["models","commands"].includes(i?.toLowerCase()))throw new Error("Type only support '.models' or '.commands' currently.");const s=t.replace(`${r}.${i}.`,"");if(!r||!i||!s)throw new Error(`Illegal type of #${t} to invoke external plugin.`);return this._execCallableAPIAsync("invoke_external_plugin_cmd",r,i.toLowerCase(),s,e)},setFullScreen(t){const e=(...n)=>this._callWin("setFullScreen",...n);t==="toggle"?this._callWin("isFullScreen").then(n=>{n?e():e(!0)}):t?e(!0):e()}};let Dr=0;const ti={newBlockUUID(){return this._execCallableAPIAsync("new_block_uuid")},registerSlashCommand(t,e){var n;Xo("Register slash command #",this.baseInfo.id,t,e),typeof e=="function"&&(e=[["editor/clear-current-slash",!1],["editor/restore-saved-cursor"],["editor/hook",e]]),e=e.map(r=>{const[i,...s]=r;if(i==="editor/hook"){let l=s[0],u=()=>{var j;(j=this.caller)===null||j===void 0||j.callUserModel(l)};typeof l=="function"&&(u=l);const h=`SlashCommandHook${i}${++Dr}`;r[1]=h,this.Editor["on"+h](u)}return r}),(n=this.caller)===null||n===void 0||n.call("api:call",{method:"register-plugin-slash-command",args:[this.baseInfo.id,[t,e]]})},registerBlockContextMenuItem(t,e){if(typeof e!="function")return!1;const n=t+"_"+this.baseInfo.id;Lt.call(this,"block-context-menu-item",{key:n,label:t},e)},registerHighlightContextMenuItem(t,e,n){if(typeof e!="function")return!1;const r=t+"_"+this.baseInfo.id;Lt.call(this,"highlight-context-menu-item",{key:r,label:t,extras:n},e)},scrollToBlockInPage(t,e,n){const r="block-content-"+e;n!=null&&n.replaceState?this.App.replaceState("page",{name:t},{anchor:r}):this.App.pushState("page",{name:t},{anchor:r})}},ni={onBlockChanged(t,e){if(!Pr(t))return;const n=this.baseInfo.id,r=`hook:db:${x(`block:${t}`)}`,i=({block:s,txData:l,txMeta:u})=>{s.uuid===t&&e(s,l,u)};return this.caller.on(r,i),this.App._installPluginHook(n,r),()=>{this.caller.off(r,i),this.App._uninstallPluginHook(n,r)}},datascriptQuery(t,...e){return e.pop(),e!=null&&e.some(n=>typeof n=="function")?this.Experiments.ensureHostScope().logseq.api.datascript_query(t,...e):this._execCallableAPIAsync("datascript_query",t,...e)}},ri={},oi={},ii={makeSandboxStorage(){return new fr(this,{assets:!0})}};class sr extends yt(){constructor(e,n){super(),ze(this,"_baseInfo",void 0),ze(this,"_caller",void 0),ze(this,"_version","0.0.15"),ze(this,"_debugTag",""),ze(this,"_settingsSchema",void 0),ze(this,"_connected",!1),ze(this,"_ui",new Map),ze(this,"_mFileStorage",void 0),ze(this,"_mRequest",void 0),ze(this,"_mExperiments",void 0),ze(this,"_beforeunloadCallback",void 0),this._baseInfo=e,this._caller=n,n.on("sys:ui:visible",r=>{r!=null&&r.toggle&&this.toggleMainUI()}),n.on("settings:changed",r=>{const i=Object.assign({},this.settings),s=Object.assign(this._baseInfo.settings,r);this.emit("settings:changed",{...s},i)}),n.on("beforeunload",async r=>{const{actor:i,...s}=r,l=this._beforeunloadCallback;try{l&&await l(s),i?.resolve(null)}catch(u){console.debug(`${n.debugTag} [beforeunload] `,u),i?.reject(u)}})}async ready(e,n){if(!this._connected)try{var r;typeof e=="function"&&(n=e,e={});let i=await this._caller.connectToParent(e);this._connected=!0,i=_(this._baseInfo,i),(r=i)!==null&&r!==void 0&&r.id&&(this._debugTag=this._caller.debugTag=`#${i.id} [${i.name}]`,this.logger.setTag(this._debugTag)),this._settingsSchema&&(i.settings=function(s,l){const u=(l||[]).reduce((h,j)=>("default"in j&&(h[j.key]=j.default),h),{});return Object.assign(u,s)}(i.settings,this._settingsSchema),await this.useSettingsSchema(this._settingsSchema));try{await this._execCallableAPIAsync("setSDKMetadata",{version:this._version})}catch(s){console.warn(s)}n&&n.call(this,i)}catch(i){console.error(`${this._debugTag} [Ready Error]`,i)}}ensureConnected(){if(!this._connected)throw new Error("not connected")}beforeunload(e){typeof e=="function"&&(this._beforeunloadCallback=e)}provideModel(e){return this.caller._extendUserModel(e),this}provideTheme(e){return this.caller.call("provider:theme",e),this}provideStyle(e){return this.caller.call("provider:style",e),this}provideUI(e){return this.caller.call("provider:ui",e),this}useSettingsSchema(e){return this.connected&&this.caller.call("settings:schema",{schema:e,isSync:!0}),this._settingsSchema=e,this}updateSettings(e){this.caller.call("settings:update",e)}onSettingsChanged(e){const n="settings:changed";return this.on(n,e),()=>this.off(n,e)}showSettingsUI(){this.caller.call("settings:visible:changed",{visible:!0})}hideSettingsUI(){this.caller.call("settings:visible:changed",{visible:!1})}setMainUIAttrs(e){this.caller.call("main-ui:attrs",e)}setMainUIInlineStyle(e){this.caller.call("main-ui:style",e)}hideMainUI(e){const n={key:0,visible:!1,cursor:e?.restoreEditingCursor};this.caller.call("main-ui:visible",n),this.emit("ui:visible:changed",n),this._ui.set(n.key,n)}showMainUI(e){const n={key:0,visible:!0,autoFocus:e?.autoFocus};this.caller.call("main-ui:visible",n),this.emit("ui:visible:changed",n),this._ui.set(n.key,n)}toggleMainUI(){const n=this._ui.get(0);n&&n.visible?this.hideMainUI():this.showMainUI()}get version(){return this._version}get isMainUIVisible(){const e=this._ui.get(0);return!!(e&&e.visible)}get connected(){return this._connected}get baseInfo(){return this._baseInfo}get effect(){return(e=this)&&(((n=e.baseInfo)===null||n===void 0?void 0:n.effect)||!((r=e.baseInfo)!==null&&r!==void 0&&r.iir));var e,n,r}get logger(){return Fr}get settings(){var e;return(e=this.baseInfo)===null||e===void 0?void 0:e.settings}get caller(){return this._caller}resolveResourceFullUrl(e){if(this.ensureConnected(),e)return e=e.replace(/^[.\\/]+/,""),le(this._baseInfo.lsr,e)}_makeUserProxy(e,n){const r=this,i=this.caller;return new Proxy(e,{get(s,l,u){const h=s[l];return function(...j){if(h){const I=h.apply(r,j.concat(n));if(I!==Qo)return I}if(n){const I=l.toString().match(/^(once|off|on)/i);if(I!=null){const U=I[0].toLowerCase(),V=I.input.slice(U.length),B=U==="off",re=r.baseInfo.id,de=`hook:${n}:${x(V)}`,ke=j[0],et=j[1];i[U](de,ke);const wt=()=>{i.off(de,ke),i.listenerCount(de)||r.App._uninstallPluginHook(re,de)};return B?void wt():(r.App._installPluginHook(re,de,et),wt)}}let k=l;return["git","ui","assets"].includes(n)&&(k=n+"_"+k),i.callAsync("api:call",{tag:n,method:k,args:j})}}})}_execCallableAPIAsync(e,...n){return this._caller.callAsync("api:call",{method:e,args:n})}_execCallableAPI(e,...n){this._caller.call("api:call",{method:e,args:n})}_callWin(...e){return this._execCallableAPIAsync("_callMainWin",...e)}get App(){return this._makeUserProxy(ei,"app")}get Editor(){return this._makeUserProxy(ti,"editor")}get DB(){return this._makeUserProxy(ni,"db")}get Git(){return this._makeUserProxy(ri,"git")}get UI(){return this._makeUserProxy(oi,"ui")}get Assets(){return this._makeUserProxy(ii,"assets")}get FileStorage(){let e=this._mFileStorage;return e||(e=this._mFileStorage=new fr(this)),e}get Request(){let e=this._mRequest;return e||(e=this._mRequest=new Yn(this)),e}get Experiments(){let e=this._mExperiments;return e||(e=this._mExperiments=new eo(this)),e}}function Rr(t,e){return new sr(t,e)}if(window.__LSP__HOST__==null){const t=new Xr(null);window.logseq=Rr({},t)}})(),pe})())})(Nn,Nn.exports);Nn.exports;const Br="en";let Ln=Br,qr={};async function ai({defaultLocale:W=Br,builtinTranslations:G}){Ln=(await logseq.App.getUserConfigs()).preferredLanguage,Ln!==W&&G?.[Ln]!=null&&(qr=G)}function Ae(W,G){const Fe=qr[Ln]?.[W]??W;return G==null?Fe:Object.entries(G).reduce((je,[H,pe])=>je.replaceAll(`\${${H}}`,pe),Fe)}const si=()=>[{key:"headingLoadPageInfoButton",title:Ae("Page Info Button feature"),type:"heading",default:"",description:Ae("Show the page info when click  icon on the right of page title.")},{key:"loadPageInfoButton",title:Ae("Enable"),type:"boolean",default:!1,description:""},{key:"headingLoadPageDateNotifier",title:Ae("Page Date Notifier feature"),type:"heading",default:"",description:Ae("Show the date when a page opens")},{key:"loadPageDateNotifier",title:Ae("Enable"),type:"boolean",default:!0,description:""},{key:"pageDateNotifierCreatedAt",title:`${Ae("Enable")}: ${Ae("Created-at")}`,type:"boolean",default:!0,description:Ae("Performing a `re-index` in Logseq updates the dates of `created-at` for all pages, causing them to be inadvertently changed.")}],ci="",li={"After running 're-index'":"'re-index'","Performing a `re-index` in Logseq updates the dates of `created-at` for all pages, causing them to be inadvertently changed.":"Logseq're-index'`created-at`","Created-at":"",Enable:ci,"Last modified":"","Page Date Notifier feature":"","Page info":"","Page Info Button feature":"","Show the date when a page opens":"","Show the page info when click  icon on the right of page title.":"","This setting will not be reflected on this page.":"","Updated-at":""},Ur=()=>{document.body.classList.add("show-page-date-notifier"),logseq.App.registerUIItem("pagebar",{key:"pageInfoBarSpace",template:`
        <div id="pageBar--pageInfoBarSpace" title=""></div>
        `}),logseq.settings.loadPageDateNotifier===!0&&document.body.classList.add("show-page-date-notifier");let W=!1;const G=()=>setTimeout(()=>{W||(W=!0,ui(),setTimeout(()=>W=!1,100))},50);logseq.App.onPageHeadActionsSlotted(async()=>G()),logseq.App.onRouteChanged(async()=>G())},ui=async()=>{if(logseq.settings.loadPageDateNotifier===!1||document.body.classList.contains("show-page-date-notifier")===!1)return;const W=parent.document.getElementById("pageBar--pageInfoBarSpace");if(!W||W.dataset.pageInfoCheck)return;const G=await logseq.Editor.getCurrentPage();if(!G||!G.updatedAt&&!G.createdAt)return;const Fe=new Date(G.updatedAt),je=Fn.format(Fe)+" "+Pn.format(Fe),H=new Date(G.createdAt),pe=Fn.format(H)+" "+Pn.format(H);W.innerHTML=`
  <table>${je?`<tr><th>${Ae("Last modified")}</th><td>`+je+"</td></tr>":""}${logseq.settings.pageDateNotifierCreatedAt===!0&&pe?`<tr><th>${Ae("Created-at")}</th><td>`+pe+"</td></tr>":""}</table>
    `,W.dataset.pageInfoCheck="true"},Fn=new Intl.DateTimeFormat("default",{year:"numeric",month:"long",day:"numeric"}),Pn=new Intl.DateTimeFormat("default",{hour:"numeric",minute:"numeric"}),$r=()=>{document.body.classList.add("show-page-date-button-info"),logseq.App.registerUIItem("pagebar",{key:"pageInfo",template:`
    <div id="pageBar--pageInfoButton" data-on-click="modelPageInfo" title="${Ae("Page info")}"><a class="button icon"></a></div>
    `}),logseq.provideModel({modelPageInfo:async()=>{const W=await logseq.Editor.getCurrentPage();if(W){const G=new Date(W.updatedAt),Fe=Fn.format(G)+" "+Pn.format(G),je=new Date(W.createdAt),H=Fn.format(je)+" "+Pn.format(je);logseq.UI.showMsg(`--- ${Ae("Page info")} ---

        ${Ae("Last modified")}:
        ${Fe}

        ${Ae("Created-at")}:
        ${H}

        `,"info",{timeout:1e3*60})}else logseq.UI.showMsg("Not found","error",{timeout:1200})}})},fi=async()=>{await ai({builtinTranslations:{ja:li}}),logseq.useSettingsSchema(si()),logseq.settings||setTimeout(()=>logseq.showSettingsUI(),300),logseq.provideStyle(String.raw`
    [data-id="logseq-plugin-show-page-date"] {
        & div.heading-item {
          margin-top: 3em;
          border-top-width: 1px;
          border-bottom-width: 0;
          padding-top: 1em;
          &>h2 {
            margin-bottom: 0.5em;
          }
        }
        & textarea.form-input {
          height: 12em;
          font-size: unset;
        }
        & div.desc-item p {
          margin-top: 0.5em;
          margin-bottom: 0.5em;
        }
    }
    #main-content-container {
        & #injected-ui-item-pageInfoBarSpace-show-page-date.injected-ui-item-pagebar {
          order:-1;
        }
        & #pageBar--pageInfoBarSpace {
          height: 80px;
          user-select: none;
          overflow: auto;
          & table {
            width: fit-content;
            overflow: auto;
            &>tbody>tr {
              &>th,
              &>td {
                font-size:.8em;
                padding: unset;
                padding-left: .8em;
                width: fit-content;
              }
            }
          }
        }
        & div.list-wrap:has(div#pageBar--pageInfoBarSpace) {
          padding-top:unset;
          overflow:hidden;
          height:100px;
        }
        & [data-type="pagebar"] div.list-wrap:has(div#pageBar--pageInfoBarSpace) {
        overflow:hidden;
        }
      }
    }
`),Ur(),logseq.settings.loadPageInfoButton===!0&&$r(),logseq.onSettingsChanged(async(W,G)=>{G.loadPageDateNotifier===!1&&W.loadPageDateNotifier===!0?(Ur(),logseq.UI.showMsg(Ae("This setting will not be reflected on this page."),"warning")):G.loadPageDateNotifier===!0&&W.loadPageDateNotifier===!1&&(zr("show-page-date-notifier"),di("pageBar--pageInfoBarSpace")),G.loadPageInfoButton===!1&&W.loadPageInfoButton===!0?document.body.classList.contains("show-page-info-button")||$r():G.loadPageInfoButton===!0&&W.loadPageInfoButton===!1&&(zr("show-page-info-button"),logseq.App.registerUIItem("pagebar",{key:"pageInfo",template:""}))})},zr=W=>{document.body.classList.contains(W)&&document.body.classList.remove(W)},di=W=>{const G=parent.document.getElementById(W);G&&(G.innerHTML="")};logseq.ready(fi).catch(console.error);
