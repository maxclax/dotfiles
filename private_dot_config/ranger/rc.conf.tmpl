# Ranger Configuration

# Display settings
set show_hidden true
set preview_files true
set preview_directories true
set collapse_preview false
set draw_borders both

# UI improvements
set column_ratios 1,3,4
set hidden_filter ^\.|\.(?:pyc|pyo|bak|swp)$|^lost\+found$|^__(pycache)__$
set show_cursor false
set wrap_scroll true

# Performance
set preview_max_size 0
set use_preview_script true
set preview_images true
set preview_images_method kitty

# Behavior
set automatically_count_files true
set open_all_images true
set vcs_aware true
set update_title false
set shorten_title 3

# Editor configuration - use GUI emacsclient for ranger
set editor emacsclient -c -a emacs

# Sorting
set sort natural
set sort_case_insensitive true
set sort_directories_first true
set sort_unicode false

# === EMACS-STYLE KEYBINDINGS ===

# Movement
map <C-f> move right=1
map <C-b> move left=1
map <M-f> move word_forward
map <M-b> move word_backward
map <C-a> move to=0
map <C-e> move to=-1
map <C-n> move down=1
map <C-p> move up=1

# Emacs-style search (C-s acts like /)
map <C-s> console scout -fts%space

# Custom aliases
alias e    edit
alias q    quit
alias q!   quit!
alias qa   quitall
alias qa!  quitall!
alias qall quitall
alias setl setlocal
alias filter     scout -prts
alias find       scout -aets
alias mark       scout -mr
alias unmark     scout -Mr
alias search     scout -rs
alias search_inc scout -rts
alias travel     scout -aefklst

# Custom commands
map DD shell mv %s ~/.Trash
map dT shell trash-put %s
map bg shell cp %s ~/Desktop
map mkd console mkdir%space
map sc shell du -sh %s
map V shell code %s
map vs shell code -r %s
map o shell open %s
map O shell open .

# Better navigation
map gh cd ~
map gd cd ~/Downloads
map gD cd ~/Desktop
map gc cd ~/.config
map gC cd ~/Library/Mobile Documents/
map gw cd {{ .workspace }}
map ge cd {{ .workspace_extra }}
map gr cd {{ .resources }}
map gs cd {{ .managed_sync }}
map gp cd {{ .primary_storage }}
map gi cd {{ .primary_storage }}/0-Inbox
map gP cd {{ .secondary_storage }}
map gI cd {{ .secondary_storage }}/0-Inbox
map gP cd {{ .playground }}

# Image preview
map i display_file

# Git integration
map gga shell git add %s
map ggc shell git commit
map ggs shell git status
map ggi shell git init
map ggp shell git push
map ggl shell git log --oneline
